!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("monaco")):"function"==typeof define&&define.amd?define(["exports","monaco"],e):e(t.main=t.main||{},t.na)}(this,function(exports,monaco$1){"use strict";function unwrapExports(t){return t&&t.__esModule?t.default:t}function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function declare(t){t.prototype[_Symbol.typeName]&&fableGlobal.types.set(t.prototype[_Symbol.typeName](),t)}function makeGeneric(t,e){return function(t){function n(){return _classCallCheck$3(this,n),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(n,t),n.prototype[_Symbol.generics]=function(){return e},n}(t)}function isGeneric(t){return"function"==typeof t&&!!t.prototype[_Symbol.generics]}function getDefinition(t){return"function"==typeof t&&t.prototype[_Symbol.generics]?Object.getPrototypeOf(t.prototype).constructor:t}function hasInterface(t,e){var n="function"==typeof t[_Symbol.interfaces]?t[_Symbol.interfaces]():t[_Symbol.interfaces];return Array.isArray(n)?n.indexOf(e)>-1:n===e}function getRestParams(t,e){for(var n=t.length,r=Array(n>e?n-e:0),i=e;i<n;i++)r[i-e]=t[i];return r}function toString$2(t){return null!=t&&"function"==typeof t.ToString?t.ToString():String(t)}function equals$1(t,e){if(t===e)return!0;if(null==t)return null==e;if(null==e)return!1;if(isGeneric(t)&&isGeneric(e))return getDefinition(t)===getDefinition(e)&&equalsRecords(t.prototype[_Symbol.generics](),e.prototype[_Symbol.generics]());if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;if("function"==typeof t.Equals)return t.Equals(e);if(Array.isArray(t)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!equals$1(t[n],e[n]))return!1;return!0}if(ArrayBuffer.isView(t)){if(t.byteLength!==e.byteLength)return!1;for(var r=new DataView(t.buffer),i=new DataView(e.buffer),o=0;o<t.byteLength;o++)if(r.getUint8(o)!==i.getUint8(o))return!1;return!0}return t instanceof Date&&t.getTime()==e.getTime()}function compare(t,e){if(t===e)return 0;if(null==t)return null==e?0:-1;if(null==e)return-1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return-1;if(hasInterface(t,"System.IComparable"))return t.CompareTo(e);if(Array.isArray(t)){if(t.length!=e.length)return t.length<e.length?-1:1;for(var n=0,r=0;n<t.length;n++)if(0!==(r=compare(t[n],e[n])))return r;return 0}if(ArrayBuffer.isView(t)){if(t.byteLength!=e.byteLength)return t.byteLength<e.byteLength?-1:1;for(var i=new DataView(t.buffer),o=new DataView(e.buffer),s=0,a=0,u=0;s<t.byteLength;s++){if(a=i.getUint8(s),u=o.getUint8(s),a<u)return-1;if(a>u)return 1}return 0}return t instanceof Date?compare(t.getTime(),e.getTime()):t<e?-1:1}function equalsRecords(t,e){if(t===e)return!0;for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++)if(!equals$1(t[n[r]],e[n[r]]))return!1;return!0}function compareRecords(t,e){if(t===e)return 0;for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=compare(t[n[r]],e[n[r]]);if(0!==i)return i}return 0}function equalsUnions(t,e){if(t===e)return!0;if(t.Case!==e.Case)return!1;for(var n=0;n<t.Fields.length;n++)if(!equals$1(t.Fields[n],e.Fields[n]))return!1;return!0}function compareUnions(t,e){if(t===e)return 0;var n=compare(t.Case,e.Case);if(0!==n)return n;for(var r=0;r<t.Fields.length;r++)if(n=compare(t.Fields[r],e.Fields[r]),0!==n)return n;return 0}function createDisposable(t){var e;return e={Dispose:t},e[_Symbol.interfaces]="System.IDisposable",e}function createObj(t){for(var e={},n=t,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var s=o;e[s[0]]=s[1]}return e}function addRangeInPlace(t,e){iterate$1(function(t){return e.push(t)},t)}function permute$1(t,e){for(var n=e.map(function(){return null}),r=new Array(e.length),i=0;i<e.length;i++){var o=t(i);if(o<0||o>=e.length)throw"Not a valid permutation";n[o]=e[i],r[o]=1}for(var s=0;s<e.length;s++)if(1!=r[s])throw"Not a valid permutation";return n}function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tree_sizeAux(t,e){return"MapOne"===e.Case?t+1:"MapNode"===e.Case?tree_sizeAux(tree_sizeAux(t+1,e.Fields[2]),e.Fields[3]):t}function tree_size(t){return tree_sizeAux(0,t)}function tree_empty(){return new MapTree("MapEmpty",[])}function tree_height$1(t){return"MapOne"===t.Case?1:"MapNode"===t.Case?t.Fields[4]:0}function tree_mk$1(t,e,n,r){var i=[t,r],o=function(){var i=tree_height$1(t),o=tree_height$1(r),s=i<o?o:i;return new MapTree("MapNode",[e,n,t,r,s+1])};return"MapEmpty"===i[0].Case&&"MapEmpty"===i[1].Case?new MapTree("MapOne",[e,n]):o()}function tree_rebalance$1(t,e,n,r){var i=tree_height$1(t),o=tree_height$1(r);if(o>i+2){if("MapNode"===r.Case){if(tree_height$1(r.Fields[2])>i+1){if("MapNode"===r.Fields[2].Case)return tree_mk$1(tree_mk$1(t,e,n,r.Fields[2].Fields[2]),r.Fields[2].Fields[0],r.Fields[2].Fields[1],tree_mk$1(r.Fields[2].Fields[3],r.Fields[0],r.Fields[1],r.Fields[3]));throw"rebalance"}return tree_mk$1(tree_mk$1(t,e,n,r.Fields[2]),r.Fields[0],r.Fields[1],r.Fields[3])}throw"rebalance"}if(i>o+2){if("MapNode"===t.Case){if(tree_height$1(t.Fields[3])>o+1){if("MapNode"===t.Fields[3].Case)return tree_mk$1(tree_mk$1(t.Fields[2],t.Fields[0],t.Fields[1],t.Fields[3].Fields[2]),t.Fields[3].Fields[0],t.Fields[3].Fields[1],tree_mk$1(t.Fields[3].Fields[3],e,n,r));throw"rebalance"}return tree_mk$1(t.Fields[2],t.Fields[0],t.Fields[1],tree_mk$1(t.Fields[3],e,n,r))}throw"rebalance"}return tree_mk$1(t,e,n,r)}function tree_add$1(t,e,n,r){if("MapOne"===r.Case){var i=t.Compare(e,r.Fields[0]);return i<0?new MapTree("MapNode",[e,n,new MapTree("MapEmpty",[]),r,2]):0===i?new MapTree("MapOne",[e,n]):new MapTree("MapNode",[e,n,r,new MapTree("MapEmpty",[]),2])}if("MapNode"===r.Case){var i=t.Compare(e,r.Fields[0]);return i<0?tree_rebalance$1(tree_add$1(t,e,n,r.Fields[2]),r.Fields[0],r.Fields[1],r.Fields[3]):0===i?new MapTree("MapNode",[e,n,r.Fields[2],r.Fields[3],r.Fields[4]]):tree_rebalance$1(r.Fields[2],r.Fields[0],r.Fields[1],tree_add$1(t,e,n,r.Fields[3]))}return new MapTree("MapOne",[e,n])}function tree_find(t,e,n){var r=tree_tryFind(t,e,n);if(null!=r)return r;throw"key not found"}function tree_tryFind(t,e,n){if("MapOne"===n.Case){var r=t.Compare(e,n.Fields[0]);return 0===r?n.Fields[1]:null}if("MapNode"===n.Case){var r=t.Compare(e,n.Fields[0]);return r<0?tree_tryFind(t,e,n.Fields[2]):0===r?n.Fields[1]:tree_tryFind(t,e,n.Fields[3])}return null}function tree_partition1$1(t,e,n,r,i,o){return e(n,r)?[tree_add$1(t,n,r,i),o]:[i,tree_add$1(t,n,r,o)]}function tree_partitionAux$1(t,e,n,r,i){var o=[r,i];if("MapOne"===n.Case)return tree_partition1$1(t,e,n.Fields[0],n.Fields[1],o[0],o[1]);if("MapNode"===n.Case){var s=tree_partitionAux$1(t,e,n.Fields[3],o[0],o[1]),a=tree_partition1$1(t,e,n.Fields[0],n.Fields[1],s[0],s[1]);return tree_partitionAux$1(t,e,n.Fields[2],a[0],a[1])}return o}function tree_partition$1(t,e,n){return tree_partitionAux$1(t,e,n,tree_empty(),tree_empty())}function tree_filter1(t,e,n,r,i){return e(n,r)?tree_add$1(t,n,r,i):i}function tree_filterAux$1(t,e,n,r){return"MapOne"===n.Case?tree_filter1(t,e,n.Fields[0],n.Fields[1],r):"MapNode"===n.Case?function(){var i=tree_filterAux$1(t,e,n.Fields[2],r),o=tree_filter1(t,e,n.Fields[0],n.Fields[1],i);return tree_filterAux$1(t,e,n.Fields[3],o)}():r}function tree_filter$1(t,e,n){return tree_filterAux$1(t,e,n,tree_empty())}function tree_spliceOutSuccessor$1(t){if("MapOne"===t.Case)return[t.Fields[0],t.Fields[1],new MapTree("MapEmpty",[])];if("MapNode"===t.Case){if("MapEmpty"===t.Fields[2].Case)return[t.Fields[0],t.Fields[1],t.Fields[3]];var e=tree_spliceOutSuccessor$1(t.Fields[2]);return[e[0],e[1],tree_mk$1(e[2],t.Fields[0],t.Fields[1],t.Fields[3])]}throw"internal error: Map.spliceOutSuccessor"}function tree_remove$1(t,e,n){if("MapOne"===n.Case){var r=t.Compare(e,n.Fields[0]);return 0===r?new MapTree("MapEmpty",[]):n}if("MapNode"===n.Case){var r=t.Compare(e,n.Fields[0]);if(r<0)return tree_rebalance$1(tree_remove$1(t,e,n.Fields[2]),n.Fields[0],n.Fields[1],n.Fields[3]);if(0===r){var i=[n.Fields[2],n.Fields[3]];if("MapEmpty"===i[0].Case)return n.Fields[3];if("MapEmpty"===i[1].Case)return n.Fields[2];var o=tree_spliceOutSuccessor$1(n.Fields[3]),s=o[1],a=o[0],u=o[2];return tree_mk$1(n.Fields[2],a,s,u)}return tree_rebalance$1(n.Fields[2],n.Fields[0],n.Fields[1],tree_remove$1(t,e,n.Fields[3]))}return tree_empty()}function tree_mem$1(t,e,n){return"MapOne"===n.Case?0===t.Compare(e,n.Fields[0]):"MapNode"===n.Case&&function(){var r=t.Compare(e,n.Fields[0]);return r<0?tree_mem$1(t,e,n.Fields[2]):0===r||tree_mem$1(t,e,n.Fields[3])}()}function tree_iter$1(t,e){"MapOne"===e.Case?t(e.Fields[0],e.Fields[1]):"MapNode"===e.Case&&(tree_iter$1(t,e.Fields[2]),t(e.Fields[0],e.Fields[1]),tree_iter$1(t,e.Fields[3]))}function tree_tryPick(t,e){return"MapOne"===e.Case?t(e.Fields[0],e.Fields[1]):"MapNode"===e.Case?function(){var n=tree_tryPick(t,e.Fields[2]);if(null==n){var r=t(e.Fields[0],e.Fields[1]);if(null==r)return tree_tryPick(t,e.Fields[3]);var i=r;return i}var i=n;return i}():null}function tree_exists$1(t,e){return"MapOne"===e.Case?t(e.Fields[0],e.Fields[1]):"MapNode"===e.Case&&(!(!tree_exists$1(t,e.Fields[2])&&!t(e.Fields[0],e.Fields[1]))||tree_exists$1(t,e.Fields[3]))}function tree_forall$1(t,e){return"MapOne"===e.Case?t(e.Fields[0],e.Fields[1]):"MapNode"!==e.Case||!(!tree_forall$1(t,e.Fields[2])||!t(e.Fields[0],e.Fields[1]))&&tree_forall$1(t,e.Fields[3])}function tree_mapi(t,e){return"MapOne"===e.Case?new MapTree("MapOne",[e.Fields[0],t(e.Fields[0],e.Fields[1])]):"MapNode"===e.Case?function(){var n=tree_mapi(t,e.Fields[2]),r=t(e.Fields[0],e.Fields[1]),i=tree_mapi(t,e.Fields[3]);return new MapTree("MapNode",[e.Fields[0],r,n,i,e.Fields[4]])}():tree_empty()}function tree_foldBack$1(t,e,n){return"MapOne"===e.Case?t(e.Fields[0],e.Fields[1],n):"MapNode"===e.Case?function(){var r=tree_foldBack$1(t,e.Fields[3],n),i=t(e.Fields[0],e.Fields[1],r);return tree_foldBack$1(t,e.Fields[2],i)}():n}function tree_fold$1(t,e,n){return"MapOne"===n.Case?t(e,n.Fields[0],n.Fields[1]):"MapNode"===n.Case?function(){var r=tree_fold$1(t,e,n.Fields[2]),i=t(r,n.Fields[0],n.Fields[1]);return tree_fold$1(t,i,n.Fields[3])}():e}function tree_mkFromEnumerator$1(t,e,n){for(var r=n.next();!r.done;)e=tree_add$1(t,r.value[0],r.value[1],e),r=n.next();return e}function tree_ofSeq$1(t,e){var n=e[Symbol.iterator]();return tree_mkFromEnumerator$1(t,tree_empty(),n)}function tree_collapseLHS$1(t){return null!=t.tail?"MapOne"===t.head.Case?t:tree_collapseLHS$1("MapNode"===t.head.Case?ofArray$$1([t.head.Fields[2],new MapTree("MapOne",[t.head.Fields[0],t.head.Fields[1]]),t.head.Fields[3]],t.tail):t.tail):new List$1}function tree_mkIterator$1(t){return{stack:tree_collapseLHS$1(new List$1(t,new List$1)),started:!1}}function tree_moveNext$1(t){function e(t){if(null==t.stack.tail)return null;if("MapOne"===t.stack.head.Case)return[t.stack.head.Fields[0],t.stack.head.Fields[1]];throw"Please report error: Map iterator, unexpected stack for current"}if(t.started){if(null==t.stack.tail)return{done:!0,value:null};if("MapOne"===t.stack.head.Case)return t.stack=tree_collapseLHS$1(t.stack.tail),{done:null==t.stack.tail,value:e(t)};throw"Please report error: Map iterator, unexpected stack for moveNext"}return t.started=!0,{done:null==t.stack.tail,value:e(t)}}function from$6(t,e){var n=new FMap;return n.tree=e,n.comparer=t||new GenericComparer,n}function create$4(t,e){return e=e||new GenericComparer,from$6(e,t?tree_ofSeq$1(e,t):tree_empty())}function add$2(t,e,n){return from$6(n.comparer,tree_add$1(n.comparer,t,e,n.tree))}function remove$1(t,e){return from$6(e.comparer,tree_remove$1(e.comparer,t,e.tree))}function tryGetValue(t,e,n){return t.has(e)?[!0,t.get(e)]:[!1,n]}function tryFind$1(t,e){return tree_tryFind(e.comparer,t,e.tree)}function tryPick$1(t,e){return tree_tryPick(t,e.tree)}function __failIfNone(t){if(null==t)throw"Seq did not contain any matching element";return t}function toList(t){return foldBack$1(function(t,e){return new List$1(t,e)},t,new List$1)}function ofArray$1(t){return delay(function(){return unfold(function(e){return e<t.length?[t[e],e+1]:null},0)})}function append$2(t,e){return delay(function(){var n=!1,r=t[Symbol.iterator](),i=[r,null];return unfold(function(){var t=void 0;if(!n){if(t=i[0].next(),!t.done)return[t.value,i];n=!0,i=[null,e[Symbol.iterator]()]}return t=i[1].next(),t.done?null:[t.value,i]},i)})}function countBy(t,e){return map$6(function(t){return[t[0],count(t[1])]},groupBy$1(t,e))}function concat$1(t){return delay(function(){var e=t[Symbol.iterator](),n=null;return unfold(function(t){for(var r=!1;!r;)if(null==t){var i=e.next();i.done?r=!0:t=i.value[Symbol.iterator]()}else{var o=t.next();o.done?t=null:(n=o.value,r=!0)}return null!=t&&null!=n?[n,t]:null},null)})}function collect$1(t,e){return concat$1(map$6(t,e))}function choose$2(t,e){var n=function e(n){var r=n.next();if(!r.done){var i=t(r.value);return null!=i?[i,n]:e(n)}};return delay(function(){return unfold(function(t){return n(t)},e[Symbol.iterator]())})}function compareWith(t,e,n){var r=tryFind$$1(function(t){return 0!=t},map2(function(e,n){return t(e,n)},e,n));return null!=r?r:count(e)-count(n)}function delay(t){var e;return e={},e[Symbol.iterator]=function(){return t()[Symbol.iterator]()},e}function distinctBy(t,e){return choose$2(function(t){return t[0]},scan(function(e,n){var r=e[1],i=t(n);return r.has(i)?[null,r]:[n,add$1(i,r)]},[null,create$3()],e))}function distinct(t){return distinctBy(function(t){return t},t)}function empty(){return unfold(function(){})}function enumerateThenFinally(t,e){return delay(function(){var n=void 0;try{n=t[Symbol.iterator]()}catch(t){return}finally{e()}return unfold(function(t){try{var n=t.next();return n.done?null:[n.value,t]}catch(t){return}finally{e()}},n)})}function exists$1(t,e){function n(e){var r=e.next();return!r.done&&(t(r.value)||n(e))}return n(e[Symbol.iterator]())}function filter$3(t,e){function n(e){for(var n=e.next();!n.done;){if(t(n.value))return[n.value,e];n=e.next()}}return delay(function(){return unfold(n,e[Symbol.iterator]())})}function fold$1(t,e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(t,e);for(var r=void 0,i=0,o=n[Symbol.iterator]();r=o.next(),!r.done;i++)e=t(e,r.value,i);return e}function foldBack$1(t,e,n){for(var r=Array.isArray(e)||ArrayBuffer.isView(e)?e:Array.from(e),i=r.length-1;i>=0;i--)n=t(r[i],n,i);return n}function fold2(t,e,n,r){for(var i=n[Symbol.iterator](),o=r[Symbol.iterator](),s=void 0,a=void 0,u=0;s=i.next(),a=o.next(),!s.done&&!a.done;u++)e=t(e,s.value,a.value,u);return e}function forAll$1(t,e){return fold$1(function(e,n){return e&&t(n)},!0,e)}function groupBy$1(t,e){var n=[],r=fold$1(function(e,r){var i=t(r),o=tryFind$1(i,e);return null==o?(n.push(i),add$2(i,[r],e)):(o.push(r),e)},create$4(),e);return n.map(function(t){return[t,r.get(t)]})}function tryHead(t){var e=t[Symbol.iterator](),n=e.next();return n.done?null:n.value}function head(t){return __failIfNone(tryHead(t))}function initialize$1(t,e){return delay(function(){return unfold(function(n){return n<t?[e(n),n+1]:null},0)})}function tryItem(t,e){if(t<0)return null;if(Array.isArray(e)||ArrayBuffer.isView(e))return t<e.length?e[t]:null;for(var n=0,r=e[Symbol.iterator]();;n++){var i=r.next();if(i.done)return null;if(n===t)return i.value}}function item(t,e){return __failIfNone(tryItem(t,e))}function iterate$1(t,e){fold$1(function(e,n){return t(n)},null,e)}function iterateIndexed(t,e){fold$1(function(e,n,r){return t(r,n)},null,e)}function isEmpty$1(t){var e=t[Symbol.iterator]();return e.next().done}function tryLast(t){try{return reduce(function(t,e){return e},t)}catch(t){return null}}function last(t){return __failIfNone(tryLast(t))}function count(t){return Array.isArray(t)||ArrayBuffer.isView(t)?t.length:fold$1(function(t,e){return t+1},0,t)}function map$6(t,e){return delay(function(){return unfold(function(e){var n=e.next();return n.done?null:[t(n.value),e]},e[Symbol.iterator]())})}function mapIndexed$1(t,e){return delay(function(){var n=0;return unfold(function(e){var r=e.next();return r.done?null:[t(n++,r.value),e]},e[Symbol.iterator]())})}function map2(t,e,n){return delay(function(){var r=e[Symbol.iterator](),i=n[Symbol.iterator]();return unfold(function(){var e=r.next(),n=i.next();return e.done||n.done?null:[t(e.value,n.value),null]})})}function map3(t,e,n,r){return delay(function(){var i=e[Symbol.iterator](),o=n[Symbol.iterator](),s=r[Symbol.iterator]();return unfold(function(){var e=i.next(),n=o.next(),r=s.next();return e.done||n.done||r.done?null:[t(e.value,n.value,r.value),null]})})}function rangeStep(t,e,n){if(0===e)throw"Step cannot be 0";return delay(function(){return unfold(function(t){return e>0&&t<=n||e<0&&t>=n?[t,t+e]:null},t)})}function range$1(t,e){return rangeStep(t,1,e)}function reduce(t,e){if(Array.isArray(e)||ArrayBuffer.isView(e))return e.reduce(t);var n=e[Symbol.iterator](),r=n.next();if(r.done)throw"Seq was empty";for(var i=r.value;r=n.next(),!r.done;)i=t(i,r.value);return i}function reverse$2(t){var e=Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):Array.from(t);return ofArray$1(e.reverse())}function scan(t,e,n){return delay(function(){var r=n[Symbol.iterator]();return unfold(function(n){if(null==n)return[e,e];var i=r.next();return i.done?void 0:(n=t(n,i.value),[n,n])},null)})}function singleton$1(t){return unfold(function(t){return null!=t?[t,null]:null},t)}function skip$1(t,e){var n;return n={},n[Symbol.iterator]=function(){for(var n=e[Symbol.iterator](),r=1;r<=t;r++)if(n.next().done)throw"Seq has not enough elements";return n},n}function skipWhile(t,e){return delay(function(){var n=!1;return filter$3(function(e){return n||(n=!t(e))},e)})}function sortWith(t,e){var n=Array.from(e);return ofArray$1(n.sort(t))}function sumBy(t,e){return fold$1(function(e,n){return e+t(n)},0,e)}function take$1(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return delay(function(){var r=e[Symbol.iterator]();return unfold(function(e){if(e<t){var i=r.next();if(!i.done)return[i.value,e+1];if(!n)throw"Seq has not enough elements"}},0)})}function truncate(t,e){return take$1(t,e,!0)}function takeWhile(t,e){return delay(function(){var n=e[Symbol.iterator]();return unfold(function(e){var r=n.next();if(!r.done&&t(r.value))return[r.value,null]},0)})}function tryFind$$1(t,e,n){for(var r=0,i=e[Symbol.iterator]();;r++){var o=i.next();if(o.done)return void 0===n?null:n;if(t(o.value,r))return o.value}}function find$$1(t,e){return __failIfNone(tryFind$$1(t,e))}function tryFindBack(t,e,n){for(var r=null,i=0,o=e[Symbol.iterator]();;i++){var s=o.next();if(s.done)return null===r?void 0===n?null:n:r;t(s.value,i)&&(r=s.value)}}function tryFindIndex(t,e){for(var n=0,r=e[Symbol.iterator]();;n++){var i=r.next();if(i.done)return null;if(t(i.value,n))return n}}function tryFindIndexBack(t,e){for(var n=-1,r=0,i=e[Symbol.iterator]();;r++){var o=i.next();if(o.done)return n===-1?null:n;t(o.value,r)&&(n=r)}}function tryPick$$1(t,e){for(var n=0,r=e[Symbol.iterator]();;n++){var i=r.next();if(i.done)break;var o=t(i.value,n);if(null!=o)return o}}function pick$$1(t,e){return __failIfNone(tryPick$$1(t,e))}function unfold(t,e){var n;return n={},n[Symbol.iterator]=function(){return{next:function(){var n=t(e);return null!=n?(e=n[1],{done:!1,value:n[0]}):{done:!0}}}},n}function zip(t,e){return map2(function(t,e){return[t,e]},t,e)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ofArray$$1(t,e){for(var n=e||new List$1,r=t.length-1;r>=0;r--)n=new List$1(t[r],n);return n}function append$1(t,e){return fold$1(function(t,e){return new List$1(e,t)},e,reverse$1(t))}function choose$1(t,e){var n=fold$1(function(e,n){var r=t(n);return null!=r?new List$1(r,e):e},new List$1,e);return reverse$1(n)}function collect$$1(t,e){return fold$1(function(e,n){return append$1(e,t(n))},new List$1,e)}function concat$$1(t){return collect$$1(function(t){return t},t)}function filter$2(t,e){return reverse$1(fold$1(function(e,n){return t(n)?new List$1(n,e):e},new List$1,e))}function initialize$$1(t,e){if(t<0)throw"List length must be non-negative";for(var n=new List$1,r=1;r<=t;r++)n=new List$1(e(t-r),n);return n}function map$5(t,e){return reverse$1(fold$1(function(e,n){return new List$1(t(n),e)},new List$1,e))}function mapIndexed$$1(t,e){return reverse$1(fold$1(function(e,n,r){return new List$1(t(r,n),e)},new List$1,e))}function reverse$1(t){return fold$1(function(t,e){return new List$1(e,t)},new List$1,t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tree_countAux(t,e){return"SetOne"===t.Case?e+1:"SetEmpty"===t.Case?e:tree_countAux(t.Fields[1],tree_countAux(t.Fields[2],e+1))}function tree_count(t){return tree_countAux(t,0)}function tree_SetOne(t){return new SetTree("SetOne",[t])}function tree_SetNode(t,e,n,r){return new SetTree("SetNode",[t,e,n,r])}function tree_height(t){return"SetOne"===t.Case?1:"SetNode"===t.Case?t.Fields[3]:0}function tree_mk(t,e,n){var r=[t,n],i=function(){var r=tree_height(t),i=tree_height(n),o=r<i?i:r;return tree_SetNode(e,t,n,o+1)};return"SetEmpty"===r[0].Case&&"SetEmpty"===r[1].Case?tree_SetOne(e):i()}function tree_rebalance(t,e,n){var r=tree_height(t),i=tree_height(n);if(i>r+tree_tolerance){if("SetNode"===n.Case){if(tree_height(n.Fields[1])>r+1){if("SetNode"===n.Fields[1].Case)return tree_mk(tree_mk(t,e,n.Fields[1].Fields[1]),n.Fields[1].Fields[0],tree_mk(n.Fields[1].Fields[2],n.Fields[0],n.Fields[2]));throw"rebalance"}return tree_mk(tree_mk(t,e,n.Fields[1]),n.Fields[0],n.Fields[2])}throw"rebalance"}if(r>i+tree_tolerance){if("SetNode"===t.Case){if(tree_height(t.Fields[2])>i+1){if("SetNode"===t.Fields[2].Case)return tree_mk(tree_mk(t.Fields[1],t.Fields[0],t.Fields[2].Fields[1]),t.Fields[2].Fields[0],tree_mk(t.Fields[2].Fields[2],e,n));throw"rebalance"}return tree_mk(t.Fields[1],t.Fields[0],tree_mk(t.Fields[2],e,n))}throw"rebalance"}return tree_mk(t,e,n)}function tree_add(t,e,n){return"SetOne"===n.Case?function(){var r=t.Compare(e,n.Fields[0]);return r<0?tree_SetNode(e,new SetTree("SetEmpty",[]),n,2):0===r?n:tree_SetNode(e,n,new SetTree("SetEmpty",[]),2)}():"SetEmpty"===n.Case?tree_SetOne(e):function(){var r=t.Compare(e,n.Fields[0]);return r<0?tree_rebalance(tree_add(t,e,n.Fields[1]),n.Fields[0],n.Fields[2]):0===r?n:tree_rebalance(n.Fields[1],n.Fields[0],tree_add(t,e,n.Fields[2]))}()}function tree_balance(t,e,n,r){var i=[e,r],o=function(e){return tree_add(t,n,e)},s=function(e,r){return tree_add(t,n,tree_add(t,e,r))};if("SetOne"===i[0].Case)return"SetEmpty"===i[1].Case?o(i[0]):"SetOne"===i[1].Case?s(i[0].Fields[0],i[1]):s(i[0].Fields[0],i[1]);if("SetNode"===i[0].Case){if("SetOne"===i[1].Case){var a=i[1].Fields[0],u=i[0];return tree_add(t,n,tree_add(t,a,u))}if("SetNode"===i[1].Case){var l=i[0].Fields[3],p=i[1].Fields[3],c=i[0].Fields[0],a=i[1].Fields[0],h=i[0].Fields[1],f=i[0].Fields[2],d=i[1].Fields[1],y=i[1].Fields[2];return l+tree_tolerance<p?tree_rebalance(tree_balance(t,e,n,d),a,y):p+tree_tolerance<l?tree_rebalance(h,c,tree_balance(t,f,n,r)):tree_mk(e,n,r)}return o(i[0])}var m=i[1];return tree_add(t,n,m)}function tree_split(t,e,n){return"SetOne"===n.Case?function(){var r=t.Compare(n.Fields[0],e);return r<0?[n,!1,new SetTree("SetEmpty",[])]:0===r?[new SetTree("SetEmpty",[]),!0,new SetTree("SetEmpty",[])]:[new SetTree("SetEmpty",[]),!1,n]}():"SetEmpty"===n.Case?[new SetTree("SetEmpty",[]),!1,new SetTree("SetEmpty",[])]:function(){var r=t.Compare(e,n.Fields[0]);if(r<0){var i=tree_split(t,e,n.Fields[1]),o=i[0],s=i[2],a=i[1];return[o,a,tree_balance(t,s,n.Fields[0],n.Fields[2])]}if(0===r)return[n.Fields[1],!0,n.Fields[2]];var i=tree_split(t,e,n.Fields[2]),u=i[0],l=i[2],a=i[1];return[tree_balance(t,n.Fields[1],n.Fields[0],u),a,l]}()}function tree_spliceOutSuccessor(t){return"SetOne"===t.Case?[t.Fields[0],new SetTree("SetEmpty",[])]:"SetNode"===t.Case?"SetEmpty"===t.Fields[1].Case?[t.Fields[0],t.Fields[2]]:function(){var e=tree_spliceOutSuccessor(t.Fields[1]),n=e[1],r=e[0];return[r,tree_mk(n,t.Fields[0],t.Fields[2])]}():function(){throw"internal error: Map.spliceOutSuccessor"}()}function tree_remove(t,e,n){return"SetOne"===n.Case?function(){var r=t.Compare(e,n.Fields[0]);return 0===r?new SetTree("SetEmpty",[]):n}():"SetNode"===n.Case?function(){var r=t.Compare(e,n.Fields[0]);if(r<0)return tree_rebalance(tree_remove(t,e,n.Fields[1]),n.Fields[0],n.Fields[2]);if(0===r){var i=[n.Fields[1],n.Fields[2]];if("SetEmpty"===i[0].Case)return n.Fields[2];if("SetEmpty"===i[1].Case)return n.Fields[1];var o=tree_spliceOutSuccessor(n.Fields[2]),s=o[0],a=o[1];return tree_mk(n.Fields[1],s,a)}return tree_rebalance(n.Fields[1],n.Fields[0],tree_remove(t,e,n.Fields[2]))}():n}function tree_mem(t,e,n){return"SetOne"===n.Case?0===t.Compare(e,n.Fields[0]):"SetEmpty"!==n.Case&&function(){var r=t.Compare(e,n.Fields[0]);return r<0?tree_mem(t,e,n.Fields[1]):0===r||tree_mem(t,e,n.Fields[2])}()}function tree_iter(t,e){"SetOne"===e.Case?t(e.Fields[0]):"SetEmpty"===e.Case||(tree_iter(t,e.Fields[1]),t(e.Fields[0]),tree_iter(t,e.Fields[2]))}function tree_foldBack(t,e,n){return"SetOne"===e.Case?t(e.Fields[0],n):"SetEmpty"===e.Case?n:tree_foldBack(t,e.Fields[1],t(e.Fields[0],tree_foldBack(t,e.Fields[2],n)))}function tree_fold(t,e,n){return"SetOne"===n.Case?t(e,n.Fields[0]):"SetEmpty"===n.Case?e:function(){var r=tree_fold(t,e,n.Fields[1]),i=t(r,n.Fields[0]);return tree_fold(t,i,n.Fields[2])}()}function tree_forall(t,e){return"SetOne"===e.Case?t(e.Fields[0]):"SetEmpty"===e.Case||!(!t(e.Fields[0])||!tree_forall(t,e.Fields[1]))&&tree_forall(t,e.Fields[2])}function tree_exists(t,e){return"SetOne"===e.Case?t(e.Fields[0]):"SetEmpty"!==e.Case&&(!(!t(e.Fields[0])&&!tree_exists(t,e.Fields[1]))||tree_exists(t,e.Fields[2]))}function tree_subset(t,e,n){return tree_forall(function(e){return tree_mem(t,e,n)},e)}function tree_psubset(t,e,n){return!!tree_forall(function(e){return tree_mem(t,e,n)},e)&&tree_exists(function(n){return!tree_mem(t,n,e)},n)}function tree_filterAux(t,e,n,r){return"SetOne"===n.Case?e(n.Fields[0])?tree_add(t,n.Fields[0],r):r:"SetEmpty"===n.Case?r:function(){var i=e(n.Fields[0])?tree_add(t,n.Fields[0],r):r;return tree_filterAux(t,e,n.Fields[1],tree_filterAux(t,e,n.Fields[2],i))}()}function tree_filter(t,e,n){return tree_filterAux(t,e,n,new SetTree("SetEmpty",[]))}function tree_diffAux(t,e,n){return"SetOne"===e.Case?tree_remove(t,e.Fields[0],n):"SetEmpty"===e.Case?n:tree_diffAux(t,e.Fields[1],tree_diffAux(t,e.Fields[2],tree_remove(t,e.Fields[0],n)))}function tree_diff(t,e,n){return tree_diffAux(t,n,e)}function tree_union(t,e,n){var r=[e,n],i=function(t){return t},o=function(e,n){return tree_add(t,e,n)};if("SetEmpty"===r[0].Case){var s=r[1];return s}if("SetOne"===r[0].Case)return"SetEmpty"===r[1].Case?i(r[0]):"SetOne"===r[1].Case?o(r[0].Fields[0],r[1]):o(r[0].Fields[0],r[1]);if("SetEmpty"===r[1].Case)return i(r[0]);if("SetOne"===r[1].Case){var a=r[1].Fields[0],u=r[0];return tree_add(t,a,u)}var l=r[0].Fields[3],p=r[1].Fields[3],c=r[0].Fields[0],a=r[1].Fields[0],h=r[0].Fields[1],f=r[0].Fields[2],d=r[1].Fields[1],y=r[1].Fields[2];if(l>p){var m=tree_split(t,c,n),g=m[0],v=m[2];return tree_balance(t,tree_union(t,h,g),c,tree_union(t,f,v))}var m=tree_split(t,a,e),g=m[0],v=m[2];return tree_balance(t,tree_union(t,d,g),a,tree_union(t,y,v))}function tree_intersectionAux(t,e,n,r){return"SetOne"===n.Case?tree_mem(t,n.Fields[0],e)?tree_add(t,n.Fields[0],r):r:"SetEmpty"===n.Case?r:function(){var i=tree_intersectionAux(t,e,n.Fields[2],r),o=tree_mem(t,n.Fields[0],e)?tree_add(t,n.Fields[0],i):i;return tree_intersectionAux(t,e,n.Fields[1],o)}()}function tree_intersection(t,e,n){return tree_intersectionAux(t,n,e,new SetTree("SetEmpty",[]))}function tree_partition1(t,e,n,r,i){return e(n)?[tree_add(t,n,r),i]:[r,tree_add(t,n,i)]}function tree_partitionAux(t,e,n,r,i){var o=[r,i];if("SetOne"===n.Case){var s=o[0],a=o[1];return tree_partition1(t,e,n.Fields[0],s,a)}if("SetEmpty"===n.Case)return o;var u=function(){var r=o[0],i=o[1];return tree_partitionAux(t,e,n.Fields[2],r,i)}(),l=function(){var r=u[0],i=u[1];return tree_partition1(t,e,n.Fields[0],r,i)}(),p=l[0],c=l[1];return tree_partitionAux(t,e,n.Fields[1],p,c)}function tree_partition(t,e,n){var r=[new SetTree("SetEmpty",[]),new SetTree("SetEmpty",[])],i=r[0],o=r[1];return tree_partitionAux(t,e,n,i,o)}function tree_collapseLHS(t){return null!=t.tail?"SetOne"===t.head.Case?t:tree_collapseLHS("SetNode"===t.head.Case?ofArray$$1([t.head.Fields[1],tree_SetOne(t.head.Fields[0]),t.head.Fields[2]],t.tail):t.tail):new List$1}function tree_mkIterator(t){return{stack:tree_collapseLHS(new List$1(t,new List$1)),started:!1}}function tree_moveNext(t){function e(t){if(null==t.stack.tail)return null;if("SetOne"===t.stack.head.Case)return t.stack.head.Fields[0];throw"Please report error: Set iterator, unexpected stack for current"}if(t.started){if(null==t.stack.tail)return{done:!0,value:null};if("SetOne"===t.stack.head.Case)return t.stack=tree_collapseLHS(t.stack.tail),{done:null==t.stack.tail,value:e(t)};throw"Please report error: Set iterator, unexpected stack for moveNext"}return t.started=!0,{done:null==t.stack.tail,value:e(t)}}function tree_compareStacks(t,e,n){var r=function(e,r){return tree_compareStacks(t,ofArray$$1([new SetTree("SetEmpty",[]),tree_SetOne(e)],r),n)},i=function(e,r,i,o){return tree_compareStacks(t,ofArray$$1([r,tree_SetNode(e,new SetTree("SetEmpty",[]),i,0)],o),n)},o=function(n,r,i,o){return tree_compareStacks(t,e,ofArray$$1([r,tree_SetNode(n,new SetTree("SetEmpty",[]),i,0)],o))};if(null!=e.tail){if(null!=n.tail){if("SetOne"===n.head.Case){if("SetOne"===e.head.Case){var s=e.head.Fields[0],a=n.head.Fields[0],u=e.tail,l=n.tail,p=t.Compare(s,a);return 0!==p?p:tree_compareStacks(t,u,l)}if("SetNode"===e.head.Case){if("SetEmpty"===e.head.Fields[1].Case){var c=e.head.Fields[1],h=e.head.Fields[0],f=e.head.Fields[2],d=n.head.Fields[0],y=e.tail,m=n.tail,g=t.Compare(h,d);return 0!==g?g:tree_compareStacks(t,ofArray$$1([f],y),ofArray$$1([c],m))}return i(e.head.Fields[0],e.head.Fields[1],e.head.Fields[2],e.tail)}var v=n.head.Fields[0],$=n.tail;return tree_compareStacks(t,e,ofArray$$1([new SetTree("SetEmpty",[]),tree_SetOne(v)],$))}if("SetNode"===n.head.Case){if("SetEmpty"===n.head.Fields[1].Case){if("SetOne"===e.head.Case){var C=e.head.Fields[0],b=n.head.Fields[0],S=n.head.Fields[2],w=e.tail,_=n.tail,T=t.Compare(C,b);return 0!==T?T:tree_compareStacks(t,ofArray$$1([new SetTree("SetEmpty",[])],w),ofArray$$1([S],_))}if("SetNode"===e.head.Case){if("SetEmpty"===e.head.Fields[1].Case){var x=e.head.Fields[0],E=e.head.Fields[2],A=n.head.Fields[0],F=n.head.Fields[2],N=e.tail,k=n.tail,H=t.Compare(x,A);return 0!==H?H:tree_compareStacks(t,ofArray$$1([E],N),ofArray$$1([F],k))}return i(e.head.Fields[0],e.head.Fields[1],e.head.Fields[2],e.tail)}return o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===e.head.Case?r(e.head.Fields[0],e.tail):"SetNode"===e.head.Case?i(e.head.Fields[0],e.head.Fields[1],e.head.Fields[2],e.tail):o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===e.head.Case?r(e.head.Fields[0],e.tail):"SetNode"===e.head.Case?i(e.head.Fields[0],e.head.Fields[1],e.head.Fields[2],e.tail):tree_compareStacks(t,e.tail,n.tail);
}return 1}return null!=n.tail?-1:0}function tree_compare(t,e,n){return"SetEmpty"===e.Case?"SetEmpty"===n.Case?0:-1:"SetEmpty"===n.Case?1:tree_compareStacks(t,ofArray$$1([e]),ofArray$$1([n]))}function tree_mkFromEnumerator(t,e,n){for(var r=n.next();!r.done;)e=tree_add(t,r.value,e),r=n.next();return e}function tree_ofSeq(t,e){var n=e[Symbol.iterator]();return tree_mkFromEnumerator(t,new SetTree("SetEmpty",[]),n)}function from$5(t,e){var n=new FSet;return n.tree=e,n.comparer=t||new GenericComparer,n}function create$3(t,e){return e=e||new GenericComparer,from$5(e,t?tree_ofSeq(e,t):new SetTree("SetEmpty",[]))}function add$1(t,e){return from$5(e.comparer,tree_add(e.comparer,t,e.tree))}function union(t,e){return"SetEmpty"===e.tree.Case?t:"SetEmpty"===t.tree.Case?e:from$5(t.comparer,tree_union(t.comparer,t.tree,e.tree))}function difference(t,e){return"SetEmpty"===t.tree.Case?t:"SetEmpty"===e.tree.Case?t:from$5(t.comparer,tree_diff(t.comparer,t.tree,e.tree))}function intersect(t,e){return"SetEmpty"===e.tree.Case?e:"SetEmpty"===t.tree.Case?t:from$5(t.comparer,tree_intersection(t.comparer,t.tree,e.tree))}function isProperSubsetOf(t,e){return t instanceof FSet&&e instanceof FSet?tree_psubset(t.comparer,t.tree,e.tree):(e=e instanceof Set?e:new Set(e),forAll$1(function(t){return e.has(t)},t)&&exists$1(function(e){return!t.has(e)},e))}function isProperSubset(t,e){return isProperSubsetOf(t,e)}function isSubsetOf(t,e){return t instanceof FSet&&e instanceof FSet?tree_subset(t.comparer,t.tree,e.tree):(e=e instanceof Set?e:new Set(e),forAll$1(function(t){return e.has(t)},t))}function isSubset(t,e){return isSubsetOf(t,e)}function isProperSupersetOf(t,e){return t instanceof FSet&&e instanceof FSet?tree_psubset(t.comparer,e.tree,t.tree):isProperSubset(e instanceof Set?e:new Set(e),t)}function isSupersetOf(t,e){return t instanceof FSet&&e instanceof FSet?tree_subset(t.comparer,e.tree,t.tree):isSubset(e instanceof Set?e:new Set(e),t)}function create$6(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;switch(arguments.length){case 1:return fromTicks(arguments[0]);case 3:t=0,e=arguments[0],n=arguments[1],r=arguments[2],i=0;break;default:t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[4]||0}return 864e5*t+36e5*e+6e4*n+1e3*r+i}function fromTicks(t){return t/1e4}function __changeKind(t,e){var n=void 0;return t.kind==e?t:(n=new Date(t.getTime()),n.kind=e,n)}function __getValue(t,e){return t[(1==t.kind?"getUTC":"get")+e]()}function minValue(){return parse(-864e13,1)}function parse(t,e){var n=null==t?new Date:new Date(t);if(isNaN(n.getTime()))throw"The string is not a valid Date.";return n.kind=e||("string"==typeof t&&"Z"==t.slice(-1)?1:2),n}function create$5(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2,u=1===a?new Date(Date.UTC(t,e-1,n,r,i,o,s)):new Date(t,e-1,n,r,i,o,s);if(isNaN(u.getTime()))throw"The parameters describe an unrepresentable Date.";return u.kind=a,u}function now(){return parse()}function isLeapYear(t){return t%4==0&&t%100!=0||t%400==0}function daysInMonth(t,e){return 2==e?isLeapYear(t)?29:28:e>=8?e%2==0?31:30:e%2==0?30:31}function date(t){return create$5(year(t),month(t),day(t),0,0,0,0,t.kind)}function day(t){return __getValue(t,"Date")}function hour(t){return __getValue(t,"Hours")}function millisecond(t){return __getValue(t,"Milliseconds")}function minute(t){return __getValue(t,"Minutes")}function month(t){return __getValue(t,"Month")+1}function second(t){return __getValue(t,"Seconds")}function year(t){return __getValue(t,"FullYear")}function ticks$$1(t){return 1e4*(t.getTime()+62135604e6)}function add$3(t,e){return parse(t.getTime()+e,t.kind)}function subtract$$1(t,e){return"number"==typeof e?parse(t.getTime()-e,t.kind):t.getTime()-e.getTime()}function create$7(t,e){var n="g";return n+=1&e?"i":"",n+=2&e?"m":"",new RegExp(t,n)}function escape(t){return t.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function matches(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t instanceof RegExp?(r=t,t=e,r.lastIndex=n,r):r=create$7(e,n);if(!r.global)throw"Non-global RegExp";for(var i=void 0,o=[];null!==(i=r.exec(t));)o.push(i);return o}function fsFormat(t){function e(t){return!(null===t||"object"!==("undefined"==typeof t?"undefined":_typeof(t))||t instanceof Number||t instanceof String||t instanceof Boolean)}function n(t,n){return t.replace(fsFormatRegExp,function(t,r,i,o,s,a){switch(a){case"f":case"F":n=n.toFixed(s||6);break;case"g":case"G":n=n.toPrecision(s);break;case"e":case"E":n=n.toExponential(s);break;case"O":n=toString$2(n);break;case"A":try{n=JSON.stringify(n,function(t,n){return n&&n[Symbol.iterator]&&!Array.isArray(n)&&e(n)?Array.from(n):n})}catch(t){n="{"+Object.getOwnPropertyNames(n).map(function(t){return t+": "+String(n[t])}).join(", ")+"}"}}var u=i.indexOf("+")>=0&&parseInt(n)>=0;if(!isNaN(o=parseInt(o))){var l=o>=0&&i.indexOf("0")>=0?"0":" ";n=padLeft(n,Math.abs(o)-(u?1:0),l,o<0)}var p=r+(u?"+"+n:n);return p.replace(/%/g,"%%")})}function r(t){return function(e){var o=n(t,e);return fsFormatRegExp.test(o)?r(o):i(o.replace(/%%/g,"%"))}}for(var i=void 0,o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(0===s.length)return function(e){return i=e,fsFormatRegExp.test(t)?r(t):i(t)};for(var u=0;u<s.length;u++)t=n(t,s[u]);return t.replace(/%%/g,"%")}function endsWith(t,e){var n=t.lastIndexOf(e);return n>=0&&n==t.length-e.length}function initialize$2(t,e){if(t<0)throw"String length must be non-negative";for(var n=new Array(t),r=0;r<t;r++)n[r]=e(r);return n.join("")}function isNullOrEmpty(t){return"string"!=typeof t||0==t.length}function isNullOrWhiteSpace(t){return"string"!=typeof t||/^\s*$/.test(t)}function join(t,e){return e="string"==typeof e?getRestParams(arguments,1):e,(Array.isArray(e)?e:Array.from(e)).join(t)}function padLeft(t,e,n,r){n=n||" ",t=String(t),e-=t.length;for(var i=-1;++i<e;)t=r?t+n:n+t;return t}function replace$$1(t,e,n){return t.replace(new RegExp(escape(e),"g"),n)}function trim(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("both"==e&&0==r.length)return t.trim();if("start"==e||"both"==e){var o=0==r.length?/^\s+/:new RegExp("^["+escape(r.join(""))+"]+");t=t.replace(o,"")}if("end"==e||"both"==e){var s=0==r.length?/\s+$/:new RegExp("["+escape(r.join(""))+"]+$");t=t.replace(s,"")}return t}function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function protectedCont(t){return function(e){if(e.cancelToken.isCancelled)e.onCancel("cancelled");else if(e.trampoline.incrementAndCheck())e.trampoline.hijack(function(){try{t(e)}catch(t){e.onError(t)}});else try{t(e)}catch(t){e.onError(t)}}}function protectedBind(t,e){return protectedCont(function(n){t({onSuccess:function(t){return e(t)(n)},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function protectedReturn(t){return protectedCont(function(e){return e.onSuccess(t)})}function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function choice1Of2(t){return new Choice("Choice1Of2",[t])}function choice2Of2(t){return new Choice("Choice2Of2",[t])}function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function emptyContinuation(t){}function awaitPromise(t){return fromContinuations(function(e){return t.then(e[0]).catch(function(t){return("cancelled"==t?e[2]:e[1])(t)})})}function fromContinuations(t){return protectedCont(function(e){return t([e.onSuccess,e.onError,e.onCancel])})}function parallel(t){return awaitPromise(Promise.all(map$6(function(t){return startAsPromise(t)},t)))}function sleep(t){return protectedCont(function(e){setTimeout(function(){return e.cancelToken.isCancelled?e.onCancel("cancelled"):e.onSuccess(void 0)},t)})}function start(t,e){return startWithContinuations(t,e)}function startImmediate(t,e){return start(t,e)}function startWithContinuations(t,e,n,r,i){"function"!=typeof e&&(i=e,e=null);var o=new Trampoline;t({onSuccess:e?e:emptyContinuation,onError:n?n:emptyContinuation,onCancel:r?r:emptyContinuation,cancelToken:i?i:defaultCancellationToken,trampoline:o})}function startAsPromise(t,e){return new Promise(function(n,r){return startWithContinuations(t,n,r,r,e?e:defaultCancellationToken)})}function isLocalHost(){return"undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}function Async_AwaitFuture_Static(t){return fromContinuations(function(e){t.Then(e[0])})}function Async_Future_Static(t,e,n){var r,i=new Choice("Choice1Of3",[null]),o=new List$1,s=!1,a=function(t){if("Choice2Of3"===i.Case){var e=i.Fields[0];t(e)}else{if("Choice3Of3"===i.Case){var n=i.Fields[0];throw n}o=new List$1(t,o)}},u=function(){s||(iterate$1(function(t){Log.trace("system","Starting future '%s'....",t)},function(){var e=t;return null!=e?[e]:[]}()),s=!0,function(t){startImmediate(t)}(function(n){return n.Delay(function(){return n.Combine(n.TryWith(n.Delay(function(){return n.Bind(e,function(e){return iterate$1(function(t){Log.trace("system","Future '%s' evaluated to: %O",t,e)},function(){var e=t;return null!=e?[e]:[]}()),i=new Choice("Choice2Of3",[e]),n.Zero()})}),function(t){return Log.exn("system","Evaluating future failed: %O",t),i=new Choice("Choice3Of3",[t]),n.Zero()}),n.Delay(function(){return n.For(o,function(t){return a(t),n.Zero()})}))})}(singleton$2)))};return n===!0&&u(),r={},r[_Symbol.interfaces]="TheGamma.Common.Future",r.Then=function(t){u(),a(t)},r}function Async_StartAsFuture_Static(t){return function(t){return function(e){return function(n){return Async_Future_Static(t,e,n)}}}()(t)(!0)}function Async_CreateNamedFuture_Static(t,e){return function(t){return function(e){return function(n){return Async_Future_Static(t,e,n)}}}(t)(e)(!1)}function Async_StartAsNamedFuture_Static(t,e){return function(t){return function(e){return function(n){return Async_Future_Static(t,e,n)}}}(t)(e)(!0)}function convertTupleSequence(t,e,n){return function(r){return r.Delay(function(){return r.Bind(n,function(n){return r.Return(n.map(function(n){return[t(n[0]),e(n[1])]}))})})}(singleton$2)}function trimLeft(t,e){return _Array$from(skipWhile(function(e){return t===e},e.split(""))).join("")}function trimRight(t,e){return _Array$from(skipWhile(function(e){return t===e},e.split("").reverse())).reverse().join("")}function concatUrl(t,e){return trimRight("/",t)+"/"+trimLeft("/",e)}function GeoChartOptions_get_empty_Static(){return new GeoChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ScatterChartOptions_get_empty_Static(){return new ScatterChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ColumnChartOptions_get_empty_Static(){return new ColumnChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function LineChartOptions_get_empty_Static(){return new LineChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function BarChartOptions_get_empty_Static(){return new BarChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function AreaChartOptions_get_empty_Static(){return new AreaChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function PieChartOptions_get_empty_Static(){return new PieChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function isArray$5(t){return"[object Array]"===toString$4.call(t)}function VirtualPatch(t,e,n){this.type=Number(t),this.vNode=e,this.patch=n}function isVirtualNode(t){return t&&"VirtualNode"===t.type&&t.version===version$4}function isVirtualText(t){return t&&"VirtualText"===t.type&&t.version===version$5}function isWidget$1(t){return t&&"Widget"===t.type}function isThunk$1(t){return t&&"Thunk"===t.type}function handleThunk$1(t,e){var n=t,r=e;return isThunk$2(e)&&(r=renderThunk(e,t)),isThunk$2(t)&&(n=renderThunk(t,null)),{a:n,b:r}}function renderThunk(t,e){var n=t.vnode;if(n||(n=t.vnode=t.render(e)),!(isVNode$1(n)||isVText$1(n)||isWidget$2(n)))throw new Error("thunk did not return a valid node");return n}function isHook$1(t){return t&&("function"==typeof t.hook&&!t.hasOwnProperty("hook")||"function"==typeof t.unhook&&!t.hasOwnProperty("unhook"))}function diffProps$1(t,e){var n;for(var r in t){r in e||(n=n||{},n[r]=void 0);var i=t[r],o=e[r];if(i!==o)if(isObject$6(i)&&isObject$6(o))if(getPrototype(o)!==getPrototype(i))n=n||{},n[r]=o;else if(isHook(o))n=n||{},n[r]=o;else{var s=diffProps$1(i,o);s&&(n=n||{},n[r]=s)}else n=n||{},n[r]=o}for(var a in e)a in t||(n=n||{},n[a]=e[a]);return n}function getPrototype(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}function diff$2(t,e){var n={a:t};return walk(t,e,n,0),n}function walk(t,e,n,r){if(t!==e){var i=n[r],o=!1;if(isThunk(t)||isThunk(e))thunks(t,e,n,r);else if(null==e)isWidget(t)||(clearState(t,n,r),i=n[r]),i=appendPatch(i,new VPatch(VPatch.REMOVE,t,e));else if(isVNode(e))if(isVNode(t))if(t.tagName===e.tagName&&t.namespace===e.namespace&&t.key===e.key){var s=diffProps(t.properties,e.properties);s&&(i=appendPatch(i,new VPatch(VPatch.PROPS,t,s))),i=diffChildren(t,e,n,i,r)}else i=appendPatch(i,new VPatch(VPatch.VNODE,t,e)),o=!0;else i=appendPatch(i,new VPatch(VPatch.VNODE,t,e)),o=!0;else isVText(e)?isVText(t)?t.text!==e.text&&(i=appendPatch(i,new VPatch(VPatch.VTEXT,t,e))):(i=appendPatch(i,new VPatch(VPatch.VTEXT,t,e)),o=!0):isWidget(e)&&(isWidget(t)||(o=!0),i=appendPatch(i,new VPatch(VPatch.WIDGET,t,e)));i&&(n[r]=i),o&&clearState(t,n,r)}}function diffChildren(t,e,n,r,i){for(var o=t.children,s=reorder(o,e.children),a=s.children,u=o.length,l=a.length,p=u>l?u:l,c=0;c<p;c++){var h=o[c],f=a[c];i+=1,h?walk(h,f,n,i):f&&(r=appendPatch(r,new VPatch(VPatch.INSERT,null,f))),isVNode(h)&&h.count&&(i+=h.count)}return s.moves&&(r=appendPatch(r,new VPatch(VPatch.ORDER,t,s.moves))),r}function clearState(t,e,n){unhook(t,e,n),destroyWidgets(t,e,n)}function destroyWidgets(t,e,n){if(isWidget(t))"function"==typeof t.destroy&&(e[n]=appendPatch(e[n],new VPatch(VPatch.REMOVE,t,null)));else if(isVNode(t)&&(t.hasWidgets||t.hasThunks))for(var r=t.children,i=r.length,o=0;o<i;o++){var s=r[o];n+=1,destroyWidgets(s,e,n),isVNode(s)&&s.count&&(n+=s.count)}else isThunk(t)&&thunks(t,null,e,n)}function thunks(t,e,n,r){var i=handleThunk(t,e),o=diff$2(i.a,i.b);hasPatches(o)&&(n[r]=new VPatch(VPatch.THUNK,null,o))}function hasPatches(t){for(var e in t)if("a"!==e)return!0;return!1}function unhook(t,e,n){if(isVNode(t)){if(t.hooks&&(e[n]=appendPatch(e[n],new VPatch(VPatch.PROPS,t,undefinedKeys(t.hooks)))),t.descendantHooks||t.hasThunks)for(var r=t.children,i=r.length,o=0;o<i;o++){var s=r[o];n+=1,unhook(s,e,n),isVNode(s)&&s.count&&(n+=s.count)}}else isThunk(t)&&thunks(t,null,e,n)}function undefinedKeys(t){var e={};for(var n in t)e[n]=void 0;return e}function reorder(t,e){var n=keyIndex(e),r=n.keys,i=n.free;if(i.length===e.length)return{children:e,moves:null};var o=keyIndex(t),s=o.keys,a=o.free;if(a.length===t.length)return{children:e,moves:null};for(var u=[],l=0,p=i.length,c=0,h=0;h<t.length;h++){var f,d=t[h];d.key?r.hasOwnProperty(d.key)?(f=r[d.key],u.push(e[f])):(f=h-c++,u.push(null)):l<p?(f=i[l++],u.push(e[f])):(f=h-c++,u.push(null))}for(var y=l>=i.length?e.length:i[l],m=0;m<e.length;m++){var g=e[m];g.key?s.hasOwnProperty(g.key)||u.push(g):m>=y&&u.push(g)}for(var v,$=u.slice(),C=0,b=[],S=[],w=0;w<e.length;){var _=e[w];for(v=$[C];null===v&&$.length;)b.push(remove$3($,C,null)),v=$[C];v&&v.key===_.key?(C++,w++):_.key?(v&&v.key&&r[v.key]!==w+1?(b.push(remove$3($,C,v.key)),v=$[C],v&&v.key===_.key?C++:S.push({key:_.key,to:w})):S.push({key:_.key,to:w}),w++):v&&v.key&&b.push(remove$3($,C,v.key))}for(;C<$.length;)v=$[C],b.push(remove$3($,C,v&&v.key));return b.length!==c||S.length?{children:u,moves:{removes:b,inserts:S}}:{children:u,moves:null}}function remove$3(t,e,n){return t.splice(e,1),{from:e,key:n}}function keyIndex(t){for(var e={},n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.key?e[o.key]=i:n.push(i)}return{keys:e,free:n}}function appendPatch(t,e){return t?(isArray$4(t)?t.push(e):t=[t,e],t):e}function iterativelyWalk(t,e){"length"in t||(t=[t]),t=slice$1.call(t);for(;t.length;){var n=t.shift(),r=e(n);if(r)return r;n.childNodes&&n.childNodes.length&&(t=slice$1.call(n.childNodes).concat(t))}}function Comment$1(t,e){return this instanceof Comment$1?(this.data=t,this.nodeValue=t,this.length=t.length,void(this.ownerDocument=e||null)):new Comment$1(t,e)}function DOMText$1(t,e){return this instanceof DOMText$1?(this.data=t||"",this.length=this.data.length,void(this.ownerDocument=e||null)):new DOMText$1(t)}function dispatchEvent$2(t){var e=this,n=t.type;t.target||(t.target=e),e.listeners||(e.listeners={});var r=e.listeners[n];return r?r.forEach(function(n){t.currentTarget=e,"function"==typeof n?n(t):n.handleEvent(t)}):void(e.parentNode&&e.parentNode.dispatchEvent(t))}function addEventListener$2(t,e){var n=this;n.listeners||(n.listeners={}),n.listeners[t]||(n.listeners[t]=[]),n.listeners[t].indexOf(e)===-1&&n.listeners[t].push(e)}function removeEventListener$2(t,e){var n=this;if(n.listeners&&n.listeners[t]){var r=n.listeners[t],i=r.indexOf(e);i!==-1&&r.splice(i,1)}}function serializeNode$1(t){switch(t.nodeType){case 3:return escapeText(t.data);case 8:return"<!--"+t.data+"-->";default:return serializeElement(t)}}function serializeElement(t){var e=[],n=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(n=n.toLowerCase()),e.push("<"+n+properties(t)+datasetify(t)),voidElements.indexOf(n)>-1?e.push(" />"):(e.push(">"),t.childNodes.length?e.push.apply(e,t.childNodes.map(serializeNode$1)):t.textContent||t.innerText?e.push(escapeText(t.textContent||t.innerText)):t.innerHTML&&e.push(t.innerHTML),e.push("</"+n+">")),e.join("")}function isProperty(t,e){var n=typeof t[e];return"style"===e&&Object.keys(t.style).length>0||t.hasOwnProperty(e)&&("string"===n||"boolean"===n||"number"===n)&&"nodeName"!==e&&"className"!==e&&"tagName"!==e&&"textContent"!==e&&"innerText"!==e&&"namespaceURI"!==e&&"innerHTML"!==e}function stylify(t){if("string"==typeof t)return t;var e="";return Object.keys(t).forEach(function(n){var r=t[n];n=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),e+=n+":"+r+";"}),e}function datasetify(t){var e=t.dataset,n=[];for(var r in e)n.push({name:"data-"+r,value:e[r]});return n.length?stringify$1(n):""}function stringify$1(t){var e=[];return t.forEach(function(t){var n=t.name,r=t.value;"style"===n&&(r=stylify(r)),e.push(n+'="'+escapeAttributeValue(r)+'"')}),e.length?" "+e.join(" "):""}function properties(t){var e=[];for(var n in t)isProperty(t,n)&&e.push({name:n,value:t[n]});for(var r in t._attributes)for(var i in t._attributes[r]){var o=t._attributes[r][i],s=(o.prefix?o.prefix+":":"")+i;e.push({name:s,value:o.value})}return t.className&&e.push({name:"class",value:t.className}),e.length?stringify$1(e):""}function escapeText(t){var e="";return"string"==typeof t?e=t:t&&(e=t.toString()),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeAttributeValue(t){return escapeText(t).replace(/"/g,"&quot;")}function DOMElement$1(t,e,n){if(!(this instanceof DOMElement$1))return new DOMElement$1(t);var r=void 0===n?htmlns:n||null;this.tagName=r===htmlns?String(t).toUpperCase():t,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=e||null,this.namespaceURI=r,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}function DocumentFragment$1(t){return this instanceof DocumentFragment$1?(this.childNodes=[],this.parentNode=null,void(this.ownerDocument=t||null)):new DocumentFragment$1}function Event$1(t){}function Document$1(){return this instanceof Document$1?(this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],void(this.nodeType=9)):new Document$1}function applyProperties$1(t,e,n){for(var r in e){var i=e[r];void 0===i?removeProperty(t,r,i,n):isHook$2(i)?(removeProperty(t,r,i,n),i.hook&&i.hook(t,r,n?n[r]:void 0)):isObject$7(i)?patchObject(t,e,n,r,i):t[r]=i}}function removeProperty(t,e,n,r){if(r){var i=r[e];if(isHook$2(i))i.unhook&&i.unhook(t,e,n);else if("attributes"===e)for(var o in i)t.removeAttribute(o);else if("style"===e)for(var s in i)t.style[s]="";else"string"==typeof i?t[e]="":t[e]=null}}function patchObject(t,e,n,r,i){var o=n?n[r]:void 0;if("attributes"!==r){if(o&&isObject$7(o)&&getPrototype$1(o)!==getPrototype$1(i))return void(t[r]=i);isObject$7(t[r])||(t[r]={});var s="style"===r?"":void 0;for(var a in i){var u=i[a];t[r][a]=void 0===u?s:u}}else for(var l in i){var p=i[l];void 0===p?t.removeAttribute(l):t.setAttribute(l,p)}}function getPrototype$1(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}function createElement$1(t,e){var n=e?e.document||document$5:document$5,r=e?e.warn:null;if(t=handleThunk$2(t).a,isWidget$3(t))return t.init();if(isVText$2(t))return n.createTextNode(t.text);if(!isVNode$2(t))return r&&r("Item is not a valid virtual dom node",t),null;var i=null===t.namespace?n.createElement(t.tagName):n.createElementNS(t.namespace,t.tagName),o=t.properties;applyProperties(i,o);for(var s=t.children,a=0;a<s.length;a++){var u=createElement$1(s[a],e);u&&i.appendChild(u)}return i}function domIndex$1(t,e,n,r){return n&&0!==n.length?(n.sort(ascending),recurse(t,e,n,r,0)):{}}function recurse(t,e,n,r,i){if(r=r||{},t){indexInRange(n,i,i)&&(r[i]=t);var o=e.children;if(o)for(var s=t.childNodes,a=0;a<e.children.length;a++){i+=1;var u=o[a]||noChild,l=i+(u.count||0);indexInRange(n,i,l)&&recurse(s[a],u,n,r,i),i=l}}return r}function indexInRange(t,e,n){if(0===t.length)return!1;for(var r,i,o=0,s=t.length-1;o<=s;){if(r=(s+o)/2>>0,i=t[r],o===s)return i>=e&&i<=n;if(i<e)o=r+1;else{if(!(i>n))return!0;s=r-1}}return!1}function ascending(t,e){return t>e?1:-1}function updateWidget$1(t,e){return!(!isWidget$5(t)||!isWidget$5(e))&&("name"in t&&"name"in e?t.id===e.id:t.init===e.init)}function applyPatch$1(t,e,n){var r=t.type,i=t.vNode,o=t.patch;switch(r){case VPatch$1.REMOVE:return removeNode(e,i);case VPatch$1.INSERT:return insertNode(e,o,n);case VPatch$1.VTEXT:return stringPatch(e,i,o,n);case VPatch$1.WIDGET:return widgetPatch(e,i,o,n);case VPatch$1.VNODE:return vNodePatch(e,i,o,n);case VPatch$1.ORDER:return reorderChildren(e,o),e;case VPatch$1.PROPS:return applyProperties$2(e,o,i.properties),e;case VPatch$1.THUNK:return replaceRoot(e,n.patch(e,o,n));default:return e}}function removeNode(t,e){var n=t.parentNode;return n&&n.removeChild(t),destroyWidget(t,e),null}function insertNode(t,e,n){var r=n.render(e,n);return t&&t.appendChild(r),t}function stringPatch(t,e,n,r){var i;if(3===t.nodeType)t.replaceData(0,t.length,n.text),i=t;else{var o=t.parentNode;i=r.render(n,r),o&&i!==t&&o.replaceChild(i,t)}return i}function widgetPatch(t,e,n,r){var i,o=updateWidget(e,n);i=o?n.update(e,t)||t:r.render(n,r);var s=t.parentNode;return s&&i!==t&&s.replaceChild(i,t),o||destroyWidget(t,e),i}function vNodePatch(t,e,n,r){var i=t.parentNode,o=r.render(n,r);return i&&o!==t&&i.replaceChild(o,t),o}function destroyWidget(t,e){"function"==typeof e.destroy&&isWidget$4(e)&&e.destroy(t)}function reorderChildren(t,e){for(var n,r,i,o=t.childNodes,s={},a=0;a<e.removes.length;a++)r=e.removes[a],n=o[r.from],r.key&&(s[r.key]=n),t.removeChild(n);for(var u=o.length,l=0;l<e.inserts.length;l++)i=e.inserts[l],n=s[i.key],t.insertBefore(n,i.to>=u++?null:o[i.to])}function replaceRoot(t,e){return t&&e&&t!==e&&t.parentNode&&t.parentNode.replaceChild(e,t),e}function patch$2(t,e,n){return n=n||{},n.patch=n.patch&&n.patch!==patch$2?n.patch:patchRecursive,n.render=n.render||render$2,n.patch(t,e,n)}function patchRecursive(t,e,n){var r=patchIndices(e);if(0===r.length)return t;var i=domIndex(t,e.a,r),o=t.ownerDocument;n.document||o===document$2||(n.document=o);for(var s=0;s<r.length;s++){var a=r[s];t=applyPatch(t,i[a],e[a],n)}return t}function applyPatch(t,e,n,r){if(!e)return t;var i;if(isArray$6(n))for(var o=0;o<n.length;o++)i=patchOp(n[o],e,r),e===t&&(t=i);else i=patchOp(n,e,r),e===t&&(t=i);return t}function patchIndices(t){var e=[];for(var n in t)"a"!==n&&e.push(Number(n));return e}function VirtualNode(t,e,n,r,i){this.tagName=t,this.properties=e||noProperties,this.children=n||noChildren,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof i?i:null;var o,s=n&&n.length||0,a=0,u=!1,l=!1,p=!1;for(var c in e)if(e.hasOwnProperty(c)){var h=e[c];isVHook(h)&&h.unhook&&(o||(o={}),o[c]=h)}for(var f=0;f<s;f++){var d=n[f];isVNode$4(d)?(a+=d.count||0,!u&&d.hasWidgets&&(u=!0),!l&&d.hasThunks&&(l=!0),p||!d.hooks&&!d.descendantHooks||(p=!0)):!u&&isWidget$7(d)?"function"==typeof d.destroy&&(u=!0):!l&&isThunk$3(d)&&(l=!0)}this.count=s+a,this.hasWidgets=u,this.hasThunks=l,this.hooks=o,this.descendantHooks=p}function VirtualText(t){this.text=String(t)}function parseTag$1(t,e){if(!t)return"DIV";var n=!e.hasOwnProperty("id"),r=split$3(t,classIdSplit),i=null;notClassId.test(r[1])&&(i="DIV");var o,s,a,u;for(u=0;u<r.length;u++)s=r[u],s&&(a=s.charAt(0),i?"."===a?(o=o||[],o.push(s.substring(1,s.length))):"#"===a&&n&&(e.id=s.substring(1,s.length)):i=s);return o&&(e.className&&o.push(e.className),e.className=o.join(" ")),e.namespace?i:i.toUpperCase()}function SoftSetHook(t){return this instanceof SoftSetHook?void(this.value=t):new SoftSetHook(t)}function Individual$1(t,e){return t in root?root[t]:(root[t]=e,e)}function OneVersion(t,e,n){var r="__INDIVIDUAL_ONE_VERSION_"+t,i=r+"_ENFORCE_SINGLETON",o=Individual(i,e);if(o!==e)throw new Error("Can only have one copy of "+t+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+e);return Individual(r,n)}function EvStore$1(t){var e=t[hashKey];return e||(e=t[hashKey]={}),e}function EvHook(t){return this instanceof EvHook?void(this.value=t):new EvHook(t)}function h$3(t,e,n){var r,i,o,s,a=[];return!n&&isChildren(e)&&(n=e,i={}),i=i||e||{},r=parseTag(t,i),i.hasOwnProperty("key")&&(o=i.key,i.key=void 0),i.hasOwnProperty("namespace")&&(s=i.namespace,i.namespace=void 0),"INPUT"!==r||s||!i.hasOwnProperty("value")||void 0===i.value||isHook$3(i.value)||(i.value=softSetHook(i.value)),transformProperties(i),void 0!==n&&null!==n&&addChild(n,a,r,i),new VNode$1(r,i,a,o,s)}function addChild(t,e,n,r){if("string"==typeof t)e.push(new VText$1(t));else if("number"==typeof t)e.push(new VText$1(String(t)));else if(isChild(t))e.push(t);else{if(!isArray$7(t)){if(null===t||void 0===t)return;throw UnexpectedVirtualElement({foreignObject:t,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<t.length;i++)addChild(t[i],e,n,r)}}function transformProperties(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(isHook$3(n))continue;"ev-"===e.substr(0,3)&&(t[e]=evHook(n))}}function isChild(t){return isVNode$3(t)||isVText$3(t)||isWidget$6(t)||isVThunk(t)}function isChildren(t){return"string"==typeof t||isArray$7(t)||isChild(t)}function UnexpectedVirtualElement(t){var e=new Error;return e.type="virtual-hyperscript.unexpected.virtual-element",e.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+errorString(t.foreignObject)+".\nThe parent vnode is:\n"+errorString(t.parentVnode),e.foreignObject=t.foreignObject,e.parentVnode=t.parentVnode,e}function errorString(t){try{return JSON.stringify(t,null,"    ")}catch(e){return String(t)}}function _classCallCheck$10(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function protect(t,e,n){try{return e(t())}catch(t){n(t)}}function add$6(t,e){e.Subscribe(new Observer(t))}function choose$4(t,e){return new Observable(function(n){return e.Subscribe(new Observer(function(e){return protect(function(){return t(e)},function(t){null!=t&&n.OnNext(t)},n.OnError)},n.OnError,n.OnCompleted))})}function filter$6(t,e){return choose$4(function(e){return t(e)?e:null},e)}function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function choose$3(t,e){var n=e;return new Event$2(function(e){return n.Subscribe(new Observer(function(n){return protect(function(){return t(n)},function(t){null!=t&&e.OnNext(t)},e.OnError)},e.OnError,e.OnCompleted))},n.delegates)}function filter$5(t,e){return choose$3(function(e){return t(e)?e:null},e)}function createTree(t,e,n){for(var r=[],i=[],o=e,s=Array.isArray(o),a=0,o=s?o:_getIterator(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var l=u,p=[l[0],l[1]];if("Property"===p[1].Case){var c=p[1].Fields[0];i.push([p[0],c])}else if("Event"===p[1].Case)!function(){var t=p[1].Fields[0];i.push(["on"+p[0],function(e){t(e.target)(event)}])}();else{var h=p[1].Fields[0];r.push([p[0],h])}}var f=createObj(r),d=createObj(append$2(ofArray$$1([["attributes",f]]),i)),y=h$1(t,d,n);return y}function renderVirtual(t){return"Element"===t.Case?null==t.Fields[3]?function(){var e=t.Fields[1],n=t.Fields[2],r=t.Fields[0];return createTree(r,e,n.map(function(t){return renderVirtual(t)}))}():function(){throw"renderVirtual: Does not support elements with after-render handlers"}():"Delayed"===t.Case?function(){var e=t.Fields[1],n=t.Fields[2],r=t.Fields[0],i=function(){counter+=1;var t=fsFormat("delayed_%d")(function(t){return t})(counter),i=function e(i){return function(o){null!=o.parentElement?(o.dataset.renderedSymbol=r,o.id=t,n(t)):i>0?window.setTimeout(function(){e(i-1)(o)},1):Log.error("html","Delayed element was not created in time")}},o=function(){};o.prototype.hook=function(t,e,n){t.dataset.renderedSymbol!==r&&i(10)(t)};var s=new o;return{v:createTree("div",ofArray$$1([["renderhk",new DomAttribute("Property",[s])]]),[renderVirtual(e)])}}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}():"Part"===t.Case?function(){throw"renderVirtual: Does not support parts"}():function(){var e=t.Fields[0];return e}()}function render$1(t){return"Delayed"===t.Case?function(){counter+=1;var e=document.createElement("div");return e.id=fsFormat("delayed_%d")(function(t){return t})(counter),[e,function(){t.Fields[2](e.id)}]}():"Part"===t.Case?function(){var e=document.createElement("div");return[e,function(){t.Fields[0](e)}]}():"Element"===t.Case?function(){for(var e=document.createElement(t.Fields[0]),n=t.Fields[2].map(function(t){return render$1(t)}),r=0;r<=n.length-1;r++){var i=n[r];e.appendChild(i[0])}
for(var o=function(n){var r=t.Fields[1][n];"Attribute"===r[1].Case?e.setAttribute(r[0],r[1].Fields[0]):"Event"===r[1].Case?e.addEventListener(r[0],function(t){r[1].Fields[0](e)(t)}):e[r[0]]=r[1].Fields[0]},s=0;s<=t.Fields[1].length-1;s++)o(s);var a=function(){for(var r=0;r<=n.length-1;r++){var i=n[r];i[1]()}iterate$1(function(t){t(e)},function(){var e=t.Fields[3];return null!=e?[e]:[]}())};return[e,a]}():[document.createTextNode(t.Fields[0]),function(){}]}function renderTo(t,e){for(;null!=t.lastChild;)t.removeChild(t.lastChild);var n=render$1(e);t.appendChild(n[0]),n[1]()}function text(t){return new DomNode("Text",[t])}function op_EqualsGreater(t,e){return[t,new DomAttribute("Attribute",[e])]}function op_EqualsBangGreater(t,e){return[t,new DomAttribute("Event",[e])]}function listsEqual(t,e,n){var r=[t,e],i=function(){return!1};if(null!=r[0].tail){if(null!=r[1].tail){if(function(){var t=(r[1].tail,r[1].head),e=(r[0].tail,r[0].head);return n(e)(t)}()){var o=(r[0].head,r[0].tail),s=(r[1].head,r[1].tail);return listsEqual(o,s,n)}return i()}return i()}return null==r[1].tail||i()}function arraysEqual(t,e,n){var r=function r(i){return i===t.length&&i===e.length||i<t.length&&i<e.length&&(!!n(t[i])(e[i])&&r(i+1))};return r(0)}function memberNamesEqual(t,e){var n=[t,e],r=function(t,e){return t===e},i=function(){return!1};return"Method"===n[0].Case?"Method"===n[1].Case?r(n[0].Fields[0],n[1].Fields[0]):i():"Property"===n[1].Case?r(n[0].Fields[0],n[1].Fields[0]):i()}function _IBoundTypeVariablesI_(t){return"Forall"===t.Case?[t.Fields[0],t]:[new List$1,t]}function membersEqual(t,e,n){var r=[e,n],i=function(){return!1};if("Method"!==r[0].Case){if("Property"===r[1].Case){var o=r[0].Fields[0],s=r[1].Fields[0],a=r[0].Fields[1],u=r[1].Fields[1];return o===s&&typesEqualAux(t,a,u)}return i()}var l=_IBoundTypeVariablesI_(r[0].Fields[2]);if("Method"!==r[1].Case)return i();var p=_IBoundTypeVariablesI_(r[1].Fields[2]),c=r[0].Fields[1],h=r[1].Fields[1],f=r[0].Fields[0],d=r[1].Fields[0],y=l[1],m=p[1],g=l[0],v=p[0],$=function(){var e=new TypeContext(append$1(toList(zip(g,v)),t.EquivalentVars));return f===d&&typesEqualAux(e,y,m)?{v:listsEqual(c,h,function(t){return function(n){return t[0]===n[0]&&t[1]===n[1]&&typesEqualAux(e,t[2],n[2])}})}:{v:!1}}();return"object"===("undefined"==typeof $?"undefined":_typeof$1($))?$.v:void 0}function typesEqualAux(t,e,n){var r=[e,n],i=function(){return!0},o=function(){var e=function(){return!1};if("App"===r[0].Case){if("App"===r[1].Case){if(function(){var t=r[1].Fields[1],e=r[0].Fields[1];r[1].Fields[0],r[0].Fields[0];return e.length===t.length}()){var n=r[0].Fields[0],i=r[1].Fields[0],o=r[0].Fields[1],s=r[1].Fields[1];return forAll$1(function(e){return typesEqualAux(t,e[0],e[1])},new List$1([n,i],toList(zip(o,s))))}return e()}return e()}return e()};if("Any"===r[0].Case)return i();if("Parameter"!==r[0].Case){if("Delayed"===r[0].Case){if("Any"===r[1].Case)return i();if("Delayed"===r[1].Case){var s=r[0].Fields[0],a=r[1].Fields[0];return s===a}return o()}if("List"===r[0].Case){if("Any"===r[1].Case)return i();if("List"===r[1].Case){var u=r[0].Fields[0],l=r[1].Fields[0];return typesEqualAux(t,u,l)}return o()}if("Function"===r[0].Case){if("Any"===r[1].Case)return i();if("Function"===r[1].Case){var p=r[0].Fields[0],c=r[1].Fields[0],h=r[0].Fields[1],f=r[1].Fields[1];return listsEqual(new List$1(h,p),new List$1(f,c),function(e){return function(n){return typesEqualAux(t,e,n)}})}return o()}if("Object"===r[0].Case){if("Any"===r[1].Case)return i();if("Object"===r[1].Case){var d=r[0].Fields[0],y=r[1].Fields[0];return arraysEqual(d.Members,y.Members,function(e){return function(n){return membersEqual(t,e,n)}})}return o()}if("Primitive"===r[0].Case){if("Any"===r[1].Case)return i();if("Primitive"===r[1].Case){var m=r[0].Fields[0],g=r[1].Fields[0];return m.Equals(g)}return o()}if("Forall"===r[0].Case){if("Any"===r[1].Case)return i();if("Forall"===r[1].Case){if(function(){var t=r[1].Fields[0],e=r[0].Fields[0];r[1].Fields[1],r[0].Fields[1];return e.length===t.length}()){var v=r[0].Fields[1],$=r[1].Fields[1],C=r[0].Fields[0],b=r[1].Fields[0],S=new TypeContext(append$1(toList(zip(C,b)),t.EquivalentVars));return typesEqualAux(S,v,$)}return o()}return o()}return"Any"===r[1].Case?i():o()}if("Any"===r[1].Case)return i();if("Parameter"!==r[1].Case)return o();var w=function(){var e=r[0].Fields[0],n=r[1].Fields[0];return{v:exists$1(function(t){return t[0]===e&&t[1]===n},t.EquivalentVars)}}();return"object"===("undefined"==typeof w?"undefined":_typeof$1(w))?w.v:void 0}function substituteMembers(t,e){return e.map(function(e){return"Property"===e.Case?new Member("Property",[e.Fields[0],substituteTypes(t,e.Fields[1]),e.Fields[2],e.Fields[3]]):function(){var n=_IBoundTypeVariablesI_(e.Fields[2]),r=function(){var e=function(t){return function(e){return remove$1(e,t)}};return function(n){return fold$1(function(t,n){return e(t)(n)},t,n)}}()(n[0]),i=map$5(function(t){return[t[0],t[1],substituteTypes(r,t[2])]},e.Fields[1]);return new Member("Method",[e.Fields[0],i,substituteTypes(r,n[1]),e.Fields[3],e.Fields[4]])}()})}function substituteTypes(t,e){var n=function(){var n=function(){return e};if("Any"===e.Case)return n();if("Primitive"===e.Case)return n();if("Function"===e.Case)return new Type("Function",[map$5(function(e){return substituteTypes(t,e)},e.Fields[0]),substituteTypes(t,e.Fields[1])]);if("List"===e.Case)return new Type("List",[substituteTypes(t,e.Fields[0])]);if("Object"===e.Case)return new Type("Object",[new ObjectType(substituteMembers(t,e.Fields[0].Members))]);if("Delayed"===e.Case){var r,i=(r={},r[_Symbol.interfaces]="TheGamma.Common.Future",r.Then=function(n){e.Fields[1].Then(function(e){n(substituteTypes(t,e))})},r);return new Type("Delayed",[e.Fields[0],i])}if("App"===e.Case)return new Type("App",[substituteTypes(t,e.Fields[0]),map$5(function(e){return substituteTypes(t,e)},e.Fields[1])]);if("Forall"===e.Case){var o=function(){var e=function(t){return function(e){return remove$1(e,t)}};return function(n){return fold$1(function(t,n){return e(t)(n)},t,n)}}()(e.Fields[0]);return new Type("Forall",[e.Fields[0],substituteTypes(o,e.Fields[1])])}return n()};if("Parameter"===e.Case){if(t.has(e.Fields[0])){var r=e.Fields[0];return t.get(r)}return n()}return n()}function unifyTypesAux(t,e,n){var r=[e,n],i=function(){var e=function e(){var e=function(){var e=function e(){var e=function(){var e=function(){throw"unifyTypesAux: The lists of types had mismatching lengths"};if(null==r[0].tail)return null==r[1].tail?t:e();if(null==r[1].tail)return e();var n=function(){var e=r[0].head,n=r[1].head,i=r[0].tail,o=r[1].tail;return{v:unifyTypesAux(function(){var r=new List$1([e,n],t.Errors);return new UnifictionContext(t.FreeVars,t.Assignments,t.EquivalentVars,r)}(),i,o)}}();return"object"===("undefined"==typeof n?"undefined":_typeof$1(n))?n.v:void 0};if(null!=r[0].tail){if(null!=r[1].tail){if(function(){var e=(r[1].tail,r[0].tail,r[1].head),n=r[0].head;return typesEqualAux(new TypeContext(t.EquivalentVars),n,e)}()){var n=(r[0].head,r[1].head,r[0].tail),i=r[1].tail;return unifyTypesAux(t,n,i)}return e()}return e()}return e()};if(null!=r[0].tail){if("App"===r[0].head.Case){if(null!=r[1].tail){if("App"===r[1].head.Case){if(function(){var t=(r[1].tail,r[0].tail,r[1].head.Fields[1]),e=r[0].head.Fields[1];r[1].head.Fields[0],r[0].head.Fields[0];return e.length===t.length}()){var n=r[0].head.Fields[0],i=r[1].head.Fields[0],o=r[0].head.Fields[1],s=r[1].head.Fields[1],a=r[0].tail,u=r[1].tail;return unifyTypesAux(t,new List$1(n,append$1(o,a)),new List$1(i,append$1(s,u)))}return e()}return e()}return e()}return e()}return e()};if(null==r[0].tail)return e();if("List"===r[0].head.Case){if(null!=r[1].tail){if("List"===r[1].head.Case){var n=r[0].head.Fields[0],i=r[1].head.Fields[0],o=r[0].tail,s=r[1].tail;return unifyTypesAux(t,new List$1(n,o),new List$1(i,s))}return e()}return e()}if("Forall"!==r[0].head.Case)return e();if(null==r[1].tail)return e();if("Forall"!==r[1].head.Case)return e();if(!function(){var t=r[1].head.Fields[0],e=r[0].head.Fields[0];r[1].tail,r[0].tail,r[1].head.Fields[1],r[0].head.Fields[1];return e.length===t.length}())return e();var a=function(){var e=r[0].head.Fields[1],n=r[1].head.Fields[1],i=r[0].tail,o=r[1].tail,s=r[0].head.Fields[0],a=r[1].head.Fields[0],u=function(){var e=append$1(toList(zip(s,a)),t.EquivalentVars);return new UnifictionContext(t.FreeVars,t.Assignments,e,t.Errors)}();return{v:unifyTypesAux(u,new List$1(e,i),new List$1(n,o))}}();return"object"===("undefined"==typeof a?"undefined":_typeof$1(a))?a.v:void 0};if(null!=r[0].tail){if("Function"===r[0].head.Case){if(null!=r[1].tail){if("Function"===r[1].head.Case){var n=r[0].head.Fields[0],i=r[1].head.Fields[0],o=r[0].head.Fields[1],s=r[1].head.Fields[1],a=r[0].tail,u=r[1].tail;return unifyTypesAux(t,append$1(new List$1(o,n),a),append$1(new List$1(s,i),u))}return e()}return e()}if("Object"===r[0].head.Case){if(null!=r[1].tail){if("Object"===r[1].head.Case){if(function(){var t=(r[1].tail,r[0].tail,r[1].head.Fields[0].Members),e=r[0].head.Fields[0].Members;return arraysEqual(e,t,function(t){return function(e){return memberNamesEqual(t,e)}})}()){var l=(r[0].head.Fields[0].Members,r[1].head.Fields[0].Members,r[0].tail),p=r[1].tail;return unifyTypesAux(t,l,p)}return e()}return e()}return e()}return e()}return e()};if(null==r[0].tail)return i();if("Parameter"!==r[0].head.Case)return i();if(null==r[1].tail)return i();if(!function(){var e=(r[1].tail,r[0].tail,r[1].head),n=r[0].head.Fields[0];return!!t.FreeVars.has(n)&&"Parameter"!==e.Case}())return i();var o=function(){var e=r[0].head.Fields[0],n=r[1].head,i=r[0].tail,o=r[1].tail;return{v:unifyTypesAux(function(){var r=new List$1([e,n],t.Assignments);return new UnifictionContext(t.FreeVars,r,t.EquivalentVars,t.Errors)}(),i,o)}}();return"object"===("undefined"==typeof o?"undefined":_typeof$1(o))?o.v:void 0}function unifyTypes(t,e,n){var r=new UnifictionContext(create$3(t,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),new List$1,new List$1,new List$1),i=unifyTypesAux(r,ofArray$$1([e]),ofArray$$1([n]));return[i.Assignments,i.Errors]}function reduceType(t){var e=function(){return t};if("App"===t.Case){if("Forall"===t.Fields[0].Case){var n=t.Fields[1],r=t.Fields[0].Fields[1],i=t.Fields[0].Fields[0];if(i.length!==n.length)throw"reduceType: Invalid type application";var o=substituteTypes(create$4(toList(zip(i,n)),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),r);return reduceType(o)}return e()}return e()}function _classCallCheck$11(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function node(t,e){var n=null,r=new List$1,i=new List$1;return new _Node(r,i,t,e,n)}function needsEscaping(t){return t[0]>="0"&&t[0]<="9"||t.split("").some(function(t){return!(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9")})}function escapeIdent(t){return needsEscaping(t)?"'"+t+"'":t}function unionRanges(t,e){return new _Range(t.Start<e.Start?t.Start:e.Start,t.End>e.End?t.End:e.End)}function strictSubRange(t,e){return t.Start>e.Start&&t.End<=e.End||t.Start>=e.Start&&t.End<e.End}function formatToken(t){var e=function(){throw"Unsupported token"};if("RParen"===t.Case)return")";if("Equals"===t.Case)return"=";if("Dot"===t.Case)return".";if("Comma"===t.Case)return",";if("Let"===t.Case)return"let";if("LSquare"===t.Case)return"[";if("RSquare"===t.Case)return"]";if("Fun"===t.Case)return"fun";if("Arrow"===t.Case)return"->";if("Operator"===t.Case)return"GreaterThan"===t.Fields[0].Case?">":"GreaterThanOrEqual"===t.Fields[0].Case?">=":"LessThan"===t.Fields[0].Case?"<":"LessThanOrEqual"===t.Fields[0].Case?"<=":"Minus"===t.Fields[0].Case?"-":"Multiply"===t.Fields[0].Case?"*":"Plus"===t.Fields[0].Case?"+":"Power"===t.Fields[0].Case?"^":"Equals"===t.Fields[0].Case?"=":"/";if("Boolean"===t.Case)return t.Fields[0]?"true":"false";if("Number"===t.Case){var n=t.Fields[0];return n}if("String"===t.Case){var r=t.Fields[0];return'"'+replace$$1(replace$$1(replace$$1(r,"\\","\\\\"),"\n","\\n"),'"','\\"')+'"'}if("Ident"===t.Case){var i=t.Fields[0];return i}if("QIdent"===t.Case){var o=t.Fields[0];return"'"+o+"'"}if("White"===t.Case){var s=t.Fields[0];return s}if("Newline"===t.Case)return"\n";if("Error"===t.Case){var a=t.Fields[0];return a}return"EndOfFile"===t.Case?"":"By"===t.Case?e():"To"===t.Case?e():"("}function formatTokenInfo(t){var e=function(){throw"Unsupported token"};if("RParen"===t.Case)return"right parenthesis `)`";if("Equals"===t.Case)return"equals sign `=`";if("Dot"===t.Case)return"dot character `.`";if("Comma"===t.Case)return"comma character `,`";if("Let"===t.Case)return"`let` keyword";if("LSquare"===t.Case)return"left square bracket `[`";if("RSquare"===t.Case)return"right square bracket `]`";if("Fun"===t.Case)return"`fun` keyword";if("Arrow"===t.Case)return"arrow sign `->`";if("Operator"===t.Case)return"Divide"===t.Fields[0].Case?"division sign `/`":"GreaterThan"===t.Fields[0].Case?"greater than sign `>`":"GreaterThanOrEqual"===t.Fields[0].Case?"greater than or equals sign `>=`":"LessThan"===t.Fields[0].Case?"less than sign `<`":"LessThanOrEqual"===t.Fields[0].Case?"less than or equals sign `<=`":"Minus"===t.Fields[0].Case?"minus sign `-`":"Multiply"===t.Fields[0].Case?"multiplication sign `*`":"Plus"===t.Fields[0].Case?"plus sign `+`":"Power"===t.Fields[0].Case?"exponentiation sign `^`":"equals operator `=`";if("Boolean"===t.Case)return t.Fields[0]?"logical `true` value":"logical `false` value";if("Number"===t.Case){var n=t.Fields[0];return fsFormat("numerical value `%s`")(function(t){return t})(n)}if("String"===t.Case){var r=t.Fields[0];return fsFormat("string value `%s`")(function(t){return t})(replace$$1(r,"`","'"))}if("Ident"===t.Case){var i=t.Fields[0];return fsFormat("identifer `%s`")(function(t){return t})(i)}if("QIdent"===t.Case){var o=t.Fields[0];return fsFormat("quoted identifer `'%s'`")(function(t){return t})(o)}if("White"===t.Case){t.Fields[0];return"whitespace"}if("Newline"===t.Case)return"end of line";if("Error"===t.Case){if("`"===t.Fields[0])return"back-tick character";var s=t.Fields[0];return fsFormat("other character `%s`")(function(t){return t})(s)}return"EndOfFile"===t.Case?"end of file":"By"===t.Case?e():"To"===t.Case?e():"left parenthesis `(`"}function formatNode(t,e,n){for(var r=n.WhiteBefore,i=Array.isArray(r),o=0,r=i?r:_getIterator(r);;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if(o=r.next(),o.done)break;s=o.value}var a=s;t.Add(a.Token)}e(t)(n.Node);for(var u=n.WhiteAfter,l=Array.isArray(u),p=0,u=l?u:_getIterator(u);;){var c;if(l){if(p>=u.length)break;c=u[p++]}else{if(p=u.next(),p.done)break;c=p.value}var h=c;t.Add(h.Token)}}function formatName(t,e){""===e.Name||(needsEscaping(e.Name)?t.Add(new TokenKind("QIdent",[e.Name])):t.Add(new TokenKind("Ident",[e.Name])))}function formatArgument(t,e){null!=e.Name&&(formatNode(t,function(t){return function(e){formatName(t,e)}},e.Name),t.Add(new TokenKind("Equals",[]))),formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Value)}function formatExpression(t,e){if("Property"===e.Case)formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[0]),t.Add(new TokenKind("Dot",[])),formatNode(t,function(t){return function(e){formatName(t,e)}},e.Fields[1]);else if("Call"===e.Case)null!=e.Fields[0]&&formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[0]),t.Add(new TokenKind("Dot",[])),formatNode(t,function(t){return function(e){formatName(t,e)}},e.Fields[1]),t.Add(new TokenKind("LParen",[])),function(){var e=function(t){return function(e){iterateIndexed(function(e,n){0!==e&&t.Add(new TokenKind("Comma",[])),formatArgument(t,n)},e)}};return function(n){formatNode(t,e,n)}}()(e.Fields[2]),t.Add(new TokenKind("RParen",[]));else if("String"===e.Case)t.Add(new TokenKind("String",[e.Fields[0]]));else if("Number"===e.Case)t.Add(new TokenKind("Number",[String(e.Fields[0]),e.Fields[0]]));else if("Boolean"===e.Case)t.Add(new TokenKind("Boolean",[e.Fields[0]]));else if("Binary"===e.Case)formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[0]),function(){var e=function(t){return function(e){t.Add(new TokenKind("Operator",[e]))}};return function(n){formatNode(t,e,n)}}()(e.Fields[1]),formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[2]);else if("Function"===e.Case)t.Add(new TokenKind("Fun",[])),formatNode(t,function(t){return function(e){formatName(t,e)}},e.Fields[0]),t.Add(new TokenKind("Arrow",[])),formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[1]);else if("List"===e.Case){t.Add(new TokenKind("LSquare",[]));for(var n=e.Fields[0],r=Array.isArray(n),i=0,n=r?n:_getIterator(n);;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var s=o;formatNode(t,function(t){return function(e){formatExpression(t,e)}},s)}t.Add(new TokenKind("RSquare",[]))}else"Empty"===e.Case||formatNode(t,function(t){return function(e){formatName(t,e)}},e.Fields[0])}function formatCommand(t,e){"Let"===e.Case?(t.Add(new TokenKind("Let",[])),formatNode(t,function(t){return function(e){formatName(t,e)}},e.Fields[0]),t.Add(new TokenKind("Equals",[])),formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[1])):formatNode(t,function(t){return function(e){formatExpression(t,e)}},e.Fields[0])}function formatSingleExpression(t){var e=new FormattingContext([]);return formatNode(e,function(t){return function(e){formatExpression(t,e)}},t),join("",e.Strings)}function formatWhiteAfterExpr(t){var e=function(){var e=function(e){return append$1(e.WhiteAfter,t.WhiteAfter)};return"Variable"===t.Node.Case?e(t.Node.Fields[0]):"Property"===t.Node.Case?e(t.Node.Fields[1]):t.WhiteAfter}();return join("",toList(delay(function(){return map$6(function(t){return formatToken(t.Token)},e)})))}function formatWhiteBeforeExpr(t){var e=function(){var e=function(t){return t.WhiteBefore};return"Variable"===t.Node.Case?append$1(t.WhiteBefore,t.Node.Fields[0].WhiteBefore):"Call"===t.Node.Case?e(t.Node.Fields[1]):"Property"===t.Node.Case?e(t.Node.Fields[1]):t.WhiteBefore}();return join("",toList(delay(function(){return map$6(function(t){return formatToken(t.Token)},e)})))}function formatEntityKind(t){return"Variable"===t.Case?"variable":"Binding"===t.Case?"binding":"Operator"===t.Case?function(){var e=t.Fields[1];return formatToken(new TokenKind("Operator",[e]))+" operator"}():"List"===t.Case?"list":"Constant"===t.Case?"Number"===t.Fields[0].Case?function(){var e=t.Fields[0].Fields[0];return fsFormat("number `%f`")(function(t){return t})(e)}():"String"===t.Fields[0].Case?function(){var e=t.Fields[0].Fields[0];return fsFormat("string `%s`")(function(t){return t})(e)}():"Boolean"===t.Fields[0].Case?t.Fields[0].Fields[0]?"`true` value":"`false` value":"empty value":"Function"===t.Case?"function":"LetCommand"===t.Case?"let command":"RunCommand"===t.Case?"run command":"Program"===t.Case?"program":"Root"===t.Case?"root":"CallSite"===t.Case?"call site":"NamedParam"===t.Case?"named param":"ChainElement"===t.Case?"chain element":"ArgumentList"===t.Case?"argument list":"NamedMember"===t.Case?"property or method":"global value"}function entityCodeNameAndAntecedents(t){return"Program"===t.Case?function(){var e=t.Fields[0];return[1,e,anonymous]}():"RunCommand"===t.Case?function(){var e=t.Fields[0];return[2,ofArray$$1([e]),anonymous]}():"LetCommand"===t.Case?function(){var e=t.Fields[0],n=t.Fields[1];return[3,ofArray$$1([e,n]),anonymous]}():"Operator"===t.Case?function(){var e=t.Fields[0],n=t.Fields[2],r=t.Fields[1];return[4,ofArray$$1([e,n]),formatToken(new TokenKind("Operator",[r]))]}():"List"===t.Case?function(){var e=t.Fields[0];return[5,e,anonymous]}():"Constant"===t.Case?"Number"===t.Fields[0].Case?function(){var e=t.Fields[0].Fields[0];return[7,new List$1,String(e)]}():"Boolean"===t.Fields[0].Case?function(){var e=t.Fields[0].Fields[0];return[8,new List$1,String(e)]}():"Empty"===t.Fields[0].Case?[9,new List$1,anonymous]:function(){var e=t.Fields[0].Fields[0];return[6,new List$1,e]}():"Function"===t.Case?function(){var e=t.Fields[0],n=t.Fields[1];return[10,ofArray$$1([e,n]),anonymous]}():"GlobalValue"===t.Case?function(){var e=t.Fields[0];return[11,new List$1,e.Name]}():"Variable"===t.Case?function(){var e=t.Fields[1],n=t.Fields[0];return[12,ofArray$$1([e]),n.Name]}():"Binding"===t.Case?function(){var e=t.Fields[1],n=t.Fields[0];return[13,ofArray$$1([e]),n.Name]}():"ArgumentList"===t.Case?function(){var e=t.Fields[0];return[14,e,anonymous]}():"CallSite"===t.Case?"Choice2Of2"===t.Fields[2].Case?function(){var e=t.Fields[0],n=t.Fields[2].Fields[0],r=t.Fields[1];return[16,ofArray$$1([e]),r.Name+"."+String(n)]}():function(){var e=t.Fields[0],n=t.Fields[1],r=t.Fields[2].Fields[0];return[15,ofArray$$1([e]),n.Name+"."+r]}():"NamedParam"===t.Case?function(){var e=t.Fields[1],n=t.Fields[0];return[17,ofArray$$1([e]),n.Name]}():"NamedMember"===t.Case?function(){var e=t.Fields[1],n=t.Fields[0];return[18,ofArray$$1([e]),n.Name]}():"ChainElement"===t.Case?function(){var e=t.Fields[2],n=t.Fields[3],r=t.Fields[4],i=t.Fields[0],o=t.Fields[1];return[19,choose$1(function(t){return t},ofArray$$1([e,n,r])),o.Name+"."+String(i)]}():[0,new List$1,anonymous]}function Entity_get_Antecedents(){var t=entityCodeNameAndAntecedents(this.Kind);return t[1]}function Entity_get_Name(){var t=entityCodeNameAndAntecedents(this.Kind);return t[2]}function formatType(t){return"Forall"===t.Case?function(){var e=t.Fields[1];return formatType(e)}():"Parameter"===t.Case?function(){var e=t.Fields[0];return e}():"Delayed"===t.Case?function(){var e=t.Fields[0];return"@"+e}():"Primitive"===t.Case?"Number"===t.Fields[0].Case?"number":"String"===t.Fields[0].Case?"string":"Unit"===t.Fields[0].Case?"unit":"bool":"Object"===t.Case?function(){var e=t.Fields[0].Members,n=join(", ",map$6(function(t){return t.Name},truncate(5,e)));return"{ "+(e.length>5?n+", ...":n+" }")}():"Function"===t.Case?function(){var e=t.Fields[0],n=t.Fields[1];return"("+join(", ",map$5(function(t){return formatType(t)},e))+") -> "+formatType(n)}():"List"===t.Case?function(){var e=t.Fields[0];return"list<"+formatType(e)+">"}():"Any"===t.Case?"any":function(){var e=t.Fields[0],n=t.Fields[1];return formatType(e)+"<"+join(", ",map$5(function(t){return formatType(t)},n))+">"}()}function formatTypeInfo(t){return"Parameter"===t.Case?"unresolved type parameter":"App"===t.Case?"unresolved type application":"Delayed"===t.Case?"delayed type":"Primitive"===t.Case?"Number"===t.Fields[0].Case?"number":"String"===t.Fields[0].Case?"string":"Unit"===t.Fields[0].Case?"unit":"boolean":"Object"===t.Case?"object type":"Function"===t.Case?"function type":"List"===t.Case?"list type":"Any"===t.Case?"unknown":"generic type"}function rebuildExprNode(t,e,n){var r=[t,e,n],i=function(){throw"rebuildExprNode: Wrong variable length"},o=function(){throw"rebuildExprNode: Wrong property length"},s=function(){throw"rebuildExprNode: Wrong call length"},a=function(){throw"rebuildExprNode: Wrong function length"},u=function(){throw"rebuildExprNode: Wrong binary operator argument length"},l=function(){throw"rebuildExprNode: Not a node"};if("Function"===r[0].Case){if(null!=r[1].tail){if(null==r[1].tail.tail){if(null!=r[2].tail){if(null==r[2].tail.tail){var p=r[1].head,c=r[2].head;return new Expr("Function",[c,p])}return a()}return a()}return a()}return a()}if("Property"===r[0].Case){if(null!=r[1].tail){if(null==r[1].tail.tail){if(null!=r[2].tail){if(null==r[2].tail.tail){var h=r[1].head,f=r[2].head;return new Expr("Property",[h,f])}return o()}return o()}return o()}return o()}if("Binary"===r[0].Case){if(null!=r[1].tail){if(null!=r[1].tail.tail){if(null==r[1].tail.tail.tail){if(null==r[2].tail){var d=r[1].head,y=r[1].tail.head,m=r[0].Fields[1];return new Expr("Binary",[d,m,y])}return u()}return u()}return u()}return u()}if("Call"!==r[0].Case){if("Variable"===r[0].Case){if(null==r[1].tail){if(null!=r[2].tail){if(null==r[2].tail.tail){var g=r[2].head;return new Expr("Variable",[g])}return i()}return i()}return i()}if("Number"===r[0].Case)return l();if("Boolean"===r[0].Case)return l();if("String"===r[0].Case)return l();if("Empty"===r[0].Case)return l();if(null==r[2].tail){var v=r[1];return new Expr("List",[v])}throw"rebuildExprNode: Wrong list length"}if(null==r[1].tail)return s();if(null==r[2].tail)return s();var $=function(){var t=r[0].Fields[2],e=r[1].head,n=r[1].tail,i=r[0].Fields[0],o=r[2].head,s=r[2].tail,a=function(){var r=function(){return null!=i}()?[e,n]:[null,new List$1(e,n)],a=function t(e){return function(n){return function(r){var i=[e,n,r],o=function(){throw"rebuildExprNode: Wrong call length"};if(null==i[0].tail)return null==i[1].tail&&null==i[2].tail?new List$1:o();if(null!=i[0].head.Name){if(null!=i[1].tail){if(null!=i[2].tail){var s=i[0].tail,a=i[1].head,u=i[1].tail,l=i[2].head,p=i[2].tail;return new List$1(new Argument(l,a),t(s)(u)(p))}return o()}return o()}if(null!=i[1].tail){var c=i[0].tail,h=i[1].head,f=i[1].tail,d=i[2];return new List$1(new Argument(null,h),t(c)(f)(d))}return o()}}};return{v:{v:new Expr("Call",[r[0],o,function(){var e=a(t.Node)(r[1])(s);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,e,t.Entity)}()])}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}();return"object"===("undefined"==typeof $?"undefined":_typeof$1($))?$.v:void 0}function _IExprLeafIExprNodeI_(t){var e=function(){return new Choice("Choice1Of2",[null])};if("Call"!==t.Case){if("Variable"===t.Case){var n=t.Fields[0];return new Choice("Choice2Of2",[[new List$1,ofArray$$1([n])]])}if("List"===t.Case){var r=t.Fields[0];return new Choice("Choice2Of2",[[r,new List$1]])}if("Function"===t.Case){var i=t.Fields[1],o=t.Fields[0];return new Choice("Choice2Of2",[[ofArray$$1([i]),ofArray$$1([o])]])}if("Binary"===t.Case){var s=t.Fields[0],a=(t.Fields[1],t.Fields[2]);return new Choice("Choice2Of2",[[ofArray$$1([s,a]),new List$1]])}if("Number"===t.Case)return e();if("Boolean"===t.Case)return e();if("String"===t.Case)return e();if("Empty"===t.Case)return e();var u=t.Fields[0],l=t.Fields[1];return new Choice("Choice2Of2",[[ofArray$$1([u]),ofArray$$1([l])]])}if(null==t.Fields[0]){var p=function(){var e=t.Fields[2],n=t.Fields[1];return{v:new Choice("Choice2Of2",[[toList(delay(function(){return map$6(function(t){return t.Value},e.Node)})),new List$1(n,choose$1(function(t){return t.Name},e.Node))]])}}();if("object"===("undefined"==typeof p?"undefined":_typeof$1(p)))return p.v}else{var c=function(){var e=t.Fields[2],n=t.Fields[0],r=t.Fields[1];return{v:new Choice("Choice2Of2",[[new List$1(n,toList(delay(function(){return map$6(function(t){return t.Value},e.Node)}))),new List$1(r,choose$1(function(t){return t.Name},e.Node))]])}}();if("object"===("undefined"==typeof c?"undefined":_typeof$1(c)))return c.v}}function _IFindPropertyI_I_(t,e){return tryPick$$1(function(e){var n=function(){return null};if("Property"===e.Case){if(e.Fields[0]===t.Name){var r=e.Fields[3];e.Fields[0];return r}return n()}return n()},e.Members)}function _IFindMethodI_I_(t,e){return tryPick$$1(function(e){var n=function(){return null};if("Method"===e.Case){if(e.Fields[0]===t.Name){var r=e.Fields[1],i=e.Fields[4];e.Fields[0];return[r,i]}return n()}return n()},e.Members)}function storeArguments(t){return[_Array$from(t),mapIndexed$$1(function(t,e){return new Expression("MemberExpression",[new Expression("IdentifierExpression",["_stored",null]),new Expression("NumericLiteral",[t,null]),!0,null])},t)]}function evaluateExpression(_stored,expr){var prog=new Program$1(null,ofArray$$1([new Statement("ExpressionStatement",[expr,null])])),code=Babel.transformFromAst(Serializer.serializeProgram(prog),"",new BabelOptions(["es2015"]));Log.trace("interpreter","Interpreter evaluating: %O",code.code);try{var s=series.create(function(t){return t.Delay(function(){return t.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),timeline$1.create(s),series.values(new Int32Array([1])),_stored.length,eval(code.code)}catch(t){throw Log.exn("interpreter","Evaluation failed: %O",t),null}}function evaluateExpr(t,e){var n=storeArguments(t);return evaluateExpression(n[0],e(n[1]))}function evaluateCall(t,e,n){var r=storeArguments(new List$1(e,n));return evaluateExpression(r[0],t.Emit([r[1].head,r[1].tail]))}function evaluatePreview(t,e){var n=new Name("preview"),r=function(){var e=t;return null!=e?function(t){return reduceType(t)}(e):e}(),i=function t(){var t=function(){return null};if(null!=r){if("Object"===r.Case){var i=_IFindMethodI_I_(n,r.Fields[0]);if(null!=i){var o=i[1];return evaluateCall(o,e,new List$1)}return t()}return t()}return t()};if(null!=r){if("Object"===r.Case){var o=_IFindPropertyI_I_(n,r.Fields[0]);if(null!=o){var s=o;return evaluateCall(s,e,new List$1)}return i()}return i()}return i()}function ensureValue(t,e){(function(){return null==e.Value})()&&!function(){var n=evaluateEntity(t,e);null!=n&&(e.Value=new EntityValue(n,new Lazy(function(){return evaluatePreview(e.Type,n)})))}()}function getValue$1(t,e){return function(){return null==e.Value}()&&Log.error("interpreter","getValue: Value of entity %O has not been evaluated.",e),e.Value.Value}function evaluateEntity(t,e){var n=function(){return null},r=function(){return Log.error("interpreter","Cannot evaluate entity: %O",e),null};if("Constant"===e.Kind.Case){if("Number"===e.Kind.Fields[0].Case){var i=e.Kind.Fields[0].Fields[0];return i}if("String"===e.Kind.Fields[0].Case){var o=e.Kind.Fields[0].Fields[0];return o}if("Empty"===e.Kind.Fields[0].Case)return null;var s=e.Kind.Fields[0].Fields[0];return s}if("GlobalValue"===e.Kind.Case){var a=e.Kind.Fields[1];e.Kind.Fields[0];if(null!=a)return evaluateExpression([],a)}else if("ChainElement"===e.Kind.Case){if(e.Kind.Fields[0]){if(null!=e.Kind.Fields[3]){var u=e.Kind.Fields[3],l=e.Kind.Fields[1],p=reduceType(u.Type),c=function(){return null};if("Object"===p.Case){var h=_IFindPropertyI_I_(l,p.Fields[0]);if(null!=h){var f=h;return evaluateCall(f,getValue$1(t,u),new List$1)}return c()}return c()}return r()}if(null==e.Kind.Fields[3])return r();if(null==e.Kind.Fields[4])return r();if("ArgumentList"!==e.Kind.Fields[4].Kind.Case)return r();var d=e.Kind.Fields[4].Kind.Fields[0],y=e.Kind.Fields[3],m=e.Kind.Fields[1],g=function(){var e=toList(takeWhile(function(t){return"NamedParam"!==t.Kind.Case},d)),n=toList(skipWhile(function(t){return"NamedParam"!==t.Kind.Case},d)),r=_Array$from(map$5(function(e){return getValue$1(t,e)},e)),i=new _Map(choose$1(function(e){return"NamedParam"===e.Kind.Case?function(){var n=e.Kind.Fields[1],r=e.Kind.Fields[0];return[r.Name,getValue$1(t,n)]}():null},n)),o=reduceType(y.Type),s=function(){return null};if("Object"===o.Case){var a=_IFindMethodI_I_(m,o.Fields[0]);if(null!=a){var u=a[1],l=a[0],p=mapIndexed$$1(function(t,e){return t<r.length?r[t]:i.has(e[0])?i.get(e[0]):null},l);return{v:evaluateCall(u,getValue$1(t,y),p)}}return{v:s()}}return{v:s()}}();if("object"===("undefined"==typeof g?"undefined":_typeof$1(g)))return g.v}else{if("Operator"!==e.Kind.Case){if("Variable"===e.Kind.Case){var v=e.Kind.Fields[1],$=v.Value;return null!=$?function(t){return t.Value}($):$}return"ArgumentList"===e.Kind.Case?n():"NamedParam"===e.Kind.Case?n():"NamedMember"===e.Kind.Case?n():r()}if("Power"===e.Kind.Fields[1].Case){var C=e.Kind.Fields[0],b=e.Kind.Fields[2];return evaluateExpr(ofArray$$1([getValue$1(t,C),getValue$1(t,b)]),function(t){var e=function(){throw"evaluateEntity: Expected two arguments"};if(null!=t.tail){if(null!=t.tail.tail){if(null==t.tail.tail.tail){var n=t.head,r=t.tail.head,i=new Expression("MemberExpression",[new Expression("IdentifierExpression",["pow",null]),new Expression("IdentifierExpression",["Math",null]),!1,null]);return new Expression("CallExpression",[i,ofArray$$1([n,r]),null])}return e()}return e()}return e()})}var S=function(){var n=e.Kind.Fields[0],r=e.Kind.Fields[1],i=e.Kind.Fields[2];return{v:evaluateExpr(ofArray$$1([getValue$1(t,n),getValue$1(t,i)]),function(t){var e=function(){throw"evaluateEntity: Expected two arguments";
};if(null!=t.tail){if(null!=t.tail.tail){if(null==t.tail.tail.tail){var n=t.head,i=t.tail.head,o="Plus"===r.Case?new BinaryOperator("BinaryPlus",[]):"Minus"===r.Case?new BinaryOperator("BinaryMinus",[]):"Multiply"===r.Case?new BinaryOperator("BinaryMultiply",[]):"Divide"===r.Case?new BinaryOperator("BinaryDivide",[]):"GreaterThan"===r.Case?new BinaryOperator("BinaryGreater",[]):"LessThan"===r.Case?new BinaryOperator("BinaryLess",[]):"GreaterThanOrEqual"===r.Case?new BinaryOperator("BinaryGreaterOrEqual",[]):"LessThanOrEqual"===r.Case?new BinaryOperator("BinaryLessOrEqual",[]):"Power"===r.Case?function(){throw"evaluateEntity: Power is not a binary operation"}():new BinaryOperator("BinaryEqualStrict",[]);return new Expression("BinaryExpression",[o,n,i,null])}return e()}return e()}return e()})}}();if("object"===("undefined"==typeof S?"undefined":_typeof$1(S)))return S.v}}function evaluateEntityTree(t,e){var n=new _Map,r=function e(r){if(!n.has(r.Symbol)&&function(){return null==r.Value}()){n.set(r.Symbol,!0);for(var i=Entity_get_Antecedents.bind(r)(),o=i,s=Array.isArray(o),a=0,o=s?o:_getIterator(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var l=u;e(l)}ensureValue(t,r)}};return r(e),e.Value}function globalEntity(t,e,n,r){var i=new EntityKind("GlobalValue",[new Name(t),r]),o=_Symbol2(),s=n;return new Entity(i,o,null,e,s,new List$1)}function evaluate$1(t,e){Log.trace("interpreter","Evaluating entity %s (%O)",Entity_get_Name.bind(e)(),e.Kind);var n=new EvaluationContext(new _Map(toList(delay(function(){return map$6(function(t){return[Entity_get_Name.bind(t)(),t]},t)})))),r=evaluateEntityTree(n,e);return Log.trace("interpreter","Evaluated entity %s (%O) = %O",Entity_get_Name.bind(e)(),e.Kind,r),r}function _classCallCheck$12(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function start$1(t,e){var n=new MailboxProcessor(t,e);return n.start(),n}function getMembers(t){return function(e){return e.Delay(function(){return"Object"===t.Case?e.Return(t.Fields[0].Members):"Delayed"===t.Case?e.Bind(Async_AwaitFuture_Static(t.Fields[1]),function(t){return e.ReturnFrom(getMembers(t))}):function(){return Log.error("editors","getMembers: Type %O is not an object",t),e.Return(function(){throw"getMembers: Not an object"}())}()})}(singleton$2)}function extractMetadata(t){var e=tryPick$$1(function(t){return"http://thegamma.net"===t.Context&&"Documentation"===t.Type?t.Data:null},t),n=tryPick$$1(function(t){return"http://schema.org"===t.Context?t:null},t);return[n,null!=e?e:new Documentation("None",[])]}function getProperty(t,e){return tryPick$$1(function(e){var n=function(){return null};if("Property"===e.Case){if(e.Fields[0]===t.Name){var r=e.Fields[2],i=(e.Fields[0],e.Fields[1]),o=extractMetadata(r);return[o[0],i,o[1]]}return n()}return n()},e)}function filterProperties(t,e){var n=_Array$from(choose$2(function(e){return"Property"===e.Case?function(){var n=extractMetadata(e.Fields[2]);if(t([e.Fields[0],n[0],e.Fields[1]]))return new Property("Property",[e.Fields[0],n[0],e.Fields[1]])}():null},e));return n}function dominant(t,e){var n=count(t),r=count(e);return r>=2&&r>=~~(2*n/3)}function chooseableProperty(t,e,n){return function(r){return r.Delay(function(){return r.Bind(getMembers(n),function(n){var i=getProperty(e.Node,n),o=function(){return r.Return()};if(null==i)return o();if(null==i[0])return o();var s=function(){var o=i[0],s=i[1],a=filterProperties(function(e){return null!=e[1]&&function(){var n=e[1];return n.Type===o.Type&&(!t||typesEqual(e[2])(s))}()},n);return dominant(n,a)?{v:r.Return([e,a])}:{v:r.Return()}}();return"object"===("undefined"==typeof s?"undefined":_typeof$1(s))?s.v:void 0})})}(singleton$2)}function pickChainSuffixes(t,e){var n=function e(n){return function(r){return function(i){return function(o){return o.Delay(function(){return"Property"===i.Node.Case?function(){var s=i.Node.Fields[0],a=i.Node.Fields[1];return o.Bind(getMembers(s.Entity.Type),function(i){var u=getProperty(a.Node,i);if(null==u)return o.ReturnFrom(e(n)(r)(s));var l=function(){var i=u[1],l=u[0],p=u[2],c=new List$1([s.Entity.Type,a,l,i,p],r);return{v:o.Bind(t(c),function(t){return null!=t?o.ReturnFrom(e(new List$1(t,n))(c)(s)):o.ReturnFrom(e(n)(c)(s))})}}();return"object"===("undefined"==typeof l?"undefined":_typeof$1(l))?l.v:void 0})}():function(){var t=_IExprLeafIExprNodeI_(i.Node);if("Choice1Of2"===t.Case)return o.Return(n);var r=t.Fields[0][0];return o.ReturnFrom(function(){var t=function(t){return function(n){return e(t)(new List$1)(n)}};return function(e){return Async.fold(t,n,e)}}()(r))}()})}(singleton$2)}}};return n(new List$1)(new List$1)(e)}function collectCmdEditors(t){return function(e){return e.Delay(function(){var n=function(t){return Log.trace("editors","single choice"),e.Bind(collectSingleChoiceEditors(t),function(n){return Log.trace("editors","item list"),e.Bind(collectItemListEditors(t),function(r){return Log.trace("editors","multi choice"),e.Bind(collectNestedChoiceEditors(t),function(t){return e.Return(append$1(n,append$1(t,r)))})})})};return n("Expr"===t.Node.Case?t.Node.Fields[0]:t.Node.Fields[1])})}(singleton$2)}function replace$2(t,e,n){return n.substr(0,t.Start)+e+n.substr(t.End+1)}function replaceNameWithValue(t,e,n){var r=escapeIdent(n);return replace$2(e.Range,r,t)}function replaceTwoNamesWithValues(t,e,n,r,i){return replace$2(e.Range,escapeIdent(r),replace$2(n.Range,escapeIdent(i),t))}function removeRangeWithPrecendingDot(t,e){for(var n=e.Start;n>0&&"."!==t[n];)n-=1;return t.substr(0,n)+t.substr(e.End+1)}function insertDotTextAfter(t,e,n){return t.substr(0,e.End+1)+"."+escapeIdent(n)+t.substr(e.End+1)}function renderDoc(t){return"None"===t.Case?function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(new List$1):"Details"===t.Case?function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("h3")(new List$1)(ofArray$$1([text(t.Fields[0])])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("p")(new List$1)(ofArray$$1([text(t.Fields[1])]))])):function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("h3")(new List$1)(ofArray$$1([text(t.Fields[0])]))}function renderNestedDoc(t,e){var n=[t,e],r=function(){return[function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("h3")(new List$1)(ofArray$$1([text("Choose a value")])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("p")(new List$1)(ofArray$$1([text("First choose a category, then choose a value.")]))]};if("Details"===n[0].Case){if("Details"===n[1].Case){var i=n[0].Fields[1],o=n[1].Fields[1],s=n[1].Fields[0];return[function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("h3")(new List$1)(ofArray$$1([text(s)])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("p")(new List$1)(ofArray$$1([text(i),text(o)]))]}return r()}return r()}function bindEntity(t,e){var n=entityCodeNameAndAntecedents(e),r=map$5(function(t){return t.Symbol},new List$1(t.Root,n[1])),i=function(){var e=ListDictionaryModule.tryFind(r,t.Table);return null!=e?e:create$4(null,new GenericComparer(compare))}();if(i.has([n[0],n[2]]))return Log.trace("binder","Cached: binding %s %s",formatEntityKind(e),n[2]),i.get([n[0],n[2]]);var o=function(){Log.trace("binder","New: binding %s %s",formatEntityKind(e),n[2]);var o=_Symbol2(),s=function(){var t=null,n=new List$1,r=new List$1;return new Entity(e,o,null,r,t,n)}();return ListDictionaryModule.set(r,add$2([n[0],n[2]],s,i),t.Table),{v:s}}();return"object"===("undefined"==typeof o?"undefined":_typeof$1(o))?o.v:void 0}function setEntity(t,e,n){return t.Bound.push([e.Range,n]),e.Entity=n,n}function bindExpression(t,e,n){var r=function(t){var e=t;return function(t){return function(n){return bindExpression(e,t,n)}}},i=function(){var t=null;return function(e){return function(n){return bindExpression(t,e,n)}}}();if("Call"!==n.Node.Case){if("Property"===n.Node.Case){var o=i(e)(n.Node.Fields[0]),s=function(t){return setEntity(e,n.Node.Fields[1],t)}(bindEntity(e,new EntityKind("NamedMember",[n.Node.Fields[1].Node,o])));return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("ChainElement",[!0,n.Node.Fields[1].Node,s,o,null])))}if("Binary"===n.Node.Case){var a=i(e)(n.Node.Fields[0]),u=i(e)(n.Node.Fields[2]);return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Operator",[a,n.Node.Fields[1].Node,u])))}if("List"===n.Node.Case){var l=map$5(i(e),n.Node.Fields[0]);return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("List",[l])))}if("Function"===n.Node.Case){var p=null==t?function(){throw"bindExpression: Function missing call site"}():t,c=function(t){return setEntity(e,n.Node.Fields[0],t)}(bindEntity(e,new EntityKind("Binding",[n.Node.Fields[0].Node,p]))),h=i(new BindingContext(add$2(n.Node.Fields[0].Node,c,e.Variables),e.GlobalValues,e.Root,e.Table,e.Bound))(n.Node.Fields[1]);return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Function",[c,h])))}if("Boolean"===n.Node.Case)return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Constant",[new Constant("Boolean",[n.Node.Fields[0]])])));if("String"===n.Node.Case)return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Constant",[new Constant("String",[n.Node.Fields[0]])])));if("Number"===n.Node.Case)return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Constant",[new Constant("Number",[n.Node.Fields[0]])])));if("Empty"===n.Node.Case)return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Constant",[new Constant("Empty",[])])));var f=tryFind$1(n.Node.Fields[0].Node,e.Variables);if(null!=f)return function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("Variable",[n.Node.Fields[0].Node,f])));var d=tryFind$1(n.Node.Fields[0].Node,e.GlobalValues);return function(t){return setEntity(e,n,t)}(null==d?bindEntity(e,new EntityKind("GlobalValue",[n.Node.Fields[0].Node,null])):d)}var y=function(){var t=null!=function(){var t=n.Node.Fields[0];return null!=t?i(e)(t):t}()?function(){var t=n.Node.Fields[0];return null!=t?i(e)(t):t}():e.Root,o=function(r){return bindEntity(e,new EntityKind("CallSite",[t,n.Node.Fields[1].Node,r]))},s=mapIndexed$$1(function(t,n){var i=o(null!=n.Name?new Choice("Choice1Of2",[n.Name.Node.Name]):new Choice("Choice2Of2",[t])),s=r(i)(e)(n.Value);return null==n.Name?s:function(t){return setEntity(e,n.Name,t)}(bindEntity(e,new EntityKind("NamedParam",[n.Name.Node,s])))},n.Node.Fields[2].Node),a=function(t){return setEntity(e,n.Node.Fields[2],t)}(bindEntity(e,new EntityKind("ArgumentList",[s]))),u=function(t){return setEntity(e,n.Node.Fields[1],t)}(bindEntity(e,new EntityKind("NamedMember",[n.Node.Fields[1].Node,t])));return{v:function(t){return setEntity(e,n,t)}(bindEntity(e,new EntityKind("ChainElement",[!1,n.Node.Fields[1].Node,u,t,a])))}}();if("object"===("undefined"==typeof y?"undefined":_typeof$1(y)))return y.v}function bindCommand(t,e){return"Expr"===e.Node.Case?function(){var n=bindExpression(null,t,e.Node.Fields[0]),r=function(n){return setEntity(t,e,n)}(bindEntity(t,new EntityKind("RunCommand",[n])));return[t,r]}():function(){var n=bindExpression(null,t,e.Node.Fields[1]),r=function(n){return setEntity(t,e.Node.Fields[0],n)}(bindEntity(t,new EntityKind("Variable",[e.Node.Fields[0].Node,n]))),i=function(n){return setEntity(t,e,n)}(bindEntity(t,new EntityKind("LetCommand",[r,n])));return[new BindingContext(add$2(e.Node.Fields[0].Node,r,t.Variables),t.GlobalValues,t.Root,t.Table,t.Bound),i]}()}function bindProgram(t,e){t.Bound.splice(0);var n=fold$1(function(t,e){var n=bindCommand(t[0],e);return[n[0],new List$1(n[1],t[1])]},[t,new List$1],e.Body.Node);return[bindEntity(t,new EntityKind("Program",[n[1]])),new BindingResult(_Array$from(t.Bound))]}function createContext$1(t,e){var n=function(){var t=new EntityKind("Root",[]),e=new List$1,n=_Symbol2(),r=null,i=new List$1;return new Entity(t,n,null,i,r,e)}(),r=new _Map,i=[];return new BindingContext(create$4(null,new GenericComparer(function(t,e){return t.CompareTo(e)})),create$4(toList(delay(function(){return map$6(function(t){return[new Name(Entity_get_Name.bind(t)()),t]},t)})),new GenericComparer(function(t,e){return t.CompareTo(e)})),n,r,i)}function startsWith(t,e,n,r){return n===r.length||e!==t.length&&(t[e]===r[n]&&startsWith(t,e+1,n+1,r))}function letter(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}function number(t){return t>="0"&&t<="9"}function addAndTokenize(t,e,n,r){return function(e){t.Tokens.push(e)}(new Token(e,new _Range(n,n+r-1))),tokenizeInput(t,n+r)}function tokenizeIdent(t,e,n){return e+n<t.Input.length&&(!!letter(t.Input[e+n])||number(t.Input[e+n]))?tokenizeIdent(t,e,n+1):addAndTokenize(t,new TokenKind("Ident",[t.Input.substr(e,n)]),e,n)}function tokenizeString(t,e,n,r){return n+r>=t.Input.length?tokenizeStringEnd(!0,t,e,n,r):function(){var i=t.Input[n+r],o=function(){return'"'===i?tokenizeStringEnd(!1,t,e,n,r+1):"\\"===i?function(){var i=t.Input[n+r+1];return'"'===i?tokenizeString(t,new List$1('"',e),n,r+2):"\\"===i?tokenizeString(t,new List$1("\\",e),n,r+2):"n"===i?tokenizeString(t,new List$1("\n",e),n,r+2):"t"===i?tokenizeString(t,new List$1("\t",e),n,r+2):tokenizeString(t,ofArray$$1([i,"\\"],e),n,r+2)}():tokenizeString(t,new List$1(i,e),n,r+1)};return"\\"===i&&n+r+1>=t.Input.length?tokenizeStringEnd(!0,t,new List$1("\\",e),n,r+1):o()}()}function tokenizeStringEnd(t,e,n,r,i){var o=_Array$from(n).reverse().join(""),s=new _Range(r,r+i);return t&&e.Errors.push(Tokenizer.inputEndInsideString(s,o)),addAndTokenize(e,new TokenKind("String",[o]),r,i)}function tokenizeQuotedIdent(t,e,n){return e+n>=t.Input.length?tokenizeQuotedIdentEnd(!0,t,e,n):function(){var r=t.Input[e+n];return"\n"===r?tokenizeQuotedIdentEnd(!0,t,e,n+1):"'"===r?tokenizeQuotedIdentEnd(!1,t,e,n+1):tokenizeQuotedIdent(t,e,n+1)}()}function tokenizeQuotedIdentEnd(t,e,n,r){var i=new _Range(n,n+r),o=e.Input.substr(n+1,r-(t?1:2)),s=endsWith(o,"\n")?o.substr(0,o.length-1):o;return t&&e.Errors.push(Tokenizer.missingClosingQuote(i,s)),addAndTokenize(e,new TokenKind("QIdent",[s]),n,r)}function tokenizeWhite(t,e,n){return e+n<t.Input.length&&" "===t.Input[e+n]?tokenizeWhite(t,e,n+1):addAndTokenize(t,new TokenKind("White",[t.Input.substr(e,n)]),e,n)}function tokenizeNumber(t,e,n,r){return n+r<t.Input.length&&number(t.Input[n+r])?tokenizeNumber(t,e,n,r+1):n+r<t.Input.length&&!e&&"."===t.Input[n+r]?tokenizeNumber(t,!0,n,r+1):function(){var e=t.Input.substr(n,r);return addAndTokenize(t,new TokenKind("Number",[e,_Number$parseFloat(e)]),n,r)}()}function tokenizeInput(t,e){return e>=t.Input.length?t:function(){var n=t.Input[e],r=function r(){var r=function r(){var r=function r(){var r=function r(){var r=function r(){var r=function r(){var r=function(){return"\n"===n?addAndTokenize(t,new TokenKind("Newline",[]),e,1):" "===n?tokenizeWhite(t,e,1):'"'===n?tokenizeString(t,new List$1,e,1):"'"===n?tokenizeQuotedIdent(t,e,1):"("===n?addAndTokenize(t,new TokenKind("LParen",[]),e,1):")"===n?addAndTokenize(t,new TokenKind("RParen",[]),e,1):"*"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("Multiply",[])]),e,1):"+"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("Plus",[])]),e,1):","===n?addAndTokenize(t,new TokenKind("Comma",[]),e,1):"-"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("Minus",[])]),e,1):"."===n?addAndTokenize(t,new TokenKind("Dot",[]),e,1):"/"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("Divide",[])]),e,1):"<"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("LessThan",[])]),e,1):"="===n?addAndTokenize(t,new TokenKind("Equals",[]),e,1):">"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("GreaterThan",[])]),e,1):"["===n?addAndTokenize(t,new TokenKind("LSquare",[]),e,1):"]"===n?addAndTokenize(t,new TokenKind("RSquare",[]),e,1):"^"===n?addAndTokenize(t,new TokenKind("Operator",[new Operator("Power",[])]),e,1):letter(n)?tokenizeIdent(t,e,1):number(n)?tokenizeNumber(t,!1,e,1):function(){return t.Errors.push(Tokenizer.unexpectedCharacter(new _Range(e,e),n)),addAndTokenize(t,new TokenKind("Error",[n]),e,1)}()};return">"===n&&startsWith(t.Input,e,0,">=")?addAndTokenize(t,new TokenKind("Operator",[new Operator("GreaterThanOrEqual",[])]),e,2):r()};return"<"===n&&startsWith(t.Input,e,0,"<=")?addAndTokenize(t,new TokenKind("Operator",[new Operator("LessThanOrEqual",[])]),e,2):r()};return"f"===n&&startsWith(t.Input,e,0,"false")?addAndTokenize(t,new TokenKind("Boolean",[!1]),e,5):r()};return"t"===n&&startsWith(t.Input,e,0,"true")?addAndTokenize(t,new TokenKind("Boolean",[!0]),e,4):r()};return"l"===n&&startsWith(t.Input,e,0,"let")?addAndTokenize(t,new TokenKind("Let",[]),e,3):r()};return"f"===n&&startsWith(t.Input,e,0,"fun")?addAndTokenize(t,new TokenKind("Fun",[]),e,3):r()};return"-"===n&&startsWith(t.Input,e,0,"->")?addAndTokenize(t,new TokenKind("Arrow",[]),e,2):r()}()}function tokenize$1(t){var e=function(){var e=[];return new Context$1([],e,t)}(),n=tokenizeInput(e,0);return n.Tokens.push(new Token(new TokenKind("EndOfFile",[]),new _Range(t.length,t.length))),[_Array$from(n.Tokens),_Array$from(n.Errors)]}function clone$1(t){return new Context$$1(t.Tokens,_Array$from(t.Whitespace),_Array$from(t.Errors),t.TopLevel,t.Silent,t.StrictlyNested,t.IndentCurrent,t.IndentStack,t.Position)}function next$1(t){t.Position=t.Position+1}function usingSilentMode(t){var e,n=t.Silent;return t.Silent=!0,e={},e[_Symbol.interfaces]="System.IDisposable",e.Dispose=function(){t.Silent=n},e}function addError(t,e){t.Silent||t.Errors.push(e)}function usingIndent(t,e,n){var r,i=function(){var r=n.IndentStack,i=function e(){var e=function(){return n.IndentStack=new List$1([n.IndentCurrent,t],n.IndentStack),!0};if(null!=r.tail){if(r.head[1])return e();if(function(){var t=r.head[0];return t!==n.IndentCurrent}()){r.head[0];throw"usingIndent: We forgot to set the top-stack line indentation"}return e()}return e()};if(null!=r.tail){if(r.head[1]){if(function(){var t=r.head[0];return t>n.IndentCurrent}()){r.head[0];return function(t){addError(n,t)}(Parser.unindentedBlock(e.Range,e.Token)),!1}return i()}return i()}return i()}();return r={},r[_Symbol.interfaces]="System.IDisposable",r.Dispose=function(){var t=[i,n.IndentStack];if(t[0]){if(null==t[1].tail)throw"usingIndent: We lost item from an indentation stack";var e=(t[1].head,t[1].tail);n.IndentStack=e}},r}function usingTopLevelNesting(t){var e,n=t.StrictlyNested;t.StrictlyNested=!0;var r=t.IndentStack;return null!=r.tail&&(t.IndentStack=new List$1([0,!0],r.tail)),e={},e[_Symbol.interfaces]="System.IDisposable",e.Dispose=function(){t.StrictlyNested=n},e}function usingNonTopLevel(t){var e,n=t.TopLevel;return t.TopLevel=!1,e={},e[_Symbol.interfaces]="System.IDisposable",e.Dispose=function(){t.TopLevel=n},e}function setLineIndent(t,e){t.IndentCurrent=e;var n=t.IndentStack,r=function r(){var r=function(){};if(null!=n.tail)if(n.head[1])r();else{var i=(n.head[0],n.tail);t.IndentStack=new List$1([e,!0],i)}else r()};if(null!=n.tail)if(n.head[1])r();else if(function(){var t=n.head[0];return e<=t}()){var i=(n.head[0],n.tail);t.IndentStack=new List$1([2147483647,!0],i)}else r();else r()}function justToken(t){var e=function(t){return t.Tokens[t.Position]},n=e(t),r=function(e){return t.Whitespace.push(e),next$1(t),justToken(t)};if("Newline"===n.Token.Case){t.Whitespace.push(n),next$1(t);var i=e(t);if("White"===i.Token.Case){var o=i.Token.Fields[0];t.Whitespace.push(i),setLineIndent(t,o.length),next$1(t)}else setLineIndent(t,0);return justToken(t)}return"Error"===n.Token.Case?r(n):"White"===n.Token.Case?r(n):n}function token(t){var e=justToken(t),n=toList(t.Whitespace);return t.Whitespace.splice(0),[n,e]}function nestedToken(t){var e=function e(){var e=toList(t.Whitespace);return t.Whitespace.splice(0),e},n=justToken(t),r=t.IndentStack,i=function(){return null==r.tail?[e(),n]:null};if(null!=r.tail){if(function(){var e=r.head[0];return t.IndentCurrent>e||!t.StrictlyNested&&t.IndentCurrent===e}()){r.head[0];return[e(),n]}return i()}return i()}function node$1(t,e){return new _Node(new List$1,new List$1,t,e)}function whiteAfter(t,e){var n=append$1(e.WhiteAfter,t);return new _Node(e.WhiteBefore,n,e.Range,e.Node,e.Entity)}function whiteBefore(t,e){return new _Node(append$1(t,e.WhiteBefore),e.WhiteAfter,e.Range,e.Node,e.Entity)}function lastCallOrPropertyRange(t,e){var n=function(t){return t.Range};return"Call"===t.Node.Case?n(t.Node.Fields[1]):"Property"===t.Node.Case?n(t.Node.Fields[1]):t.Range}function _IIdentifierI_I_(t,e){var n=[t,e],r=function(t,e,n){return function(t){return whiteBefore(n,t)}(node$1(e,new Name(t)))};return"Ident"===n[1].Token.Case?r(n[1].Token.Fields[0],n[1].Range,n[0]):"QIdent"===n[1].Token.Case?r(n[1].Token.Fields[0],n[1].Range,n[0]):void 0}function precedence(t){var e=function(){return[1,new Associativity("Left",[])]},n=function(){return[2,new Associativity("Left",[])]},r=function(){return[3,new Associativity("Left",[])]};return"GreaterThan"===t.Case?e():"GreaterThanOrEqual"===t.Case?e():"LessThan"===t.Case?e():"LessThanOrEqual"===t.Case?e():"Plus"===t.Case?n():"Minus"===t.Case?n():"Multiply"===t.Case?r():"Divide"===t.Case?r():"Power"===t.Case?[4,new Associativity("Right",[])]:[0,new Associativity("Left",[])]}function precClimb(t,e){var n=function e(n){return function(r){var i=function(){return[n,r]};if(null!=r){if(function(){var e=r[0];r[1];return precedence(e.Node)[0]>=t}()){var o=r[1],s=r[0],a=precedence(s.Node),u=a[1].Equals(new Associativity("Left",[]))?a[0]+1:a[0],l=precClimb(u,o),p=node$1(unionRanges(n.Range,l[0].Range),new Expr("Binary",[n,s,l[0]]));return e(p)(l[1])}return i()}return i()}};return n(e.Fields[0])(e.Fields[1])}function buildExpression(t,e){return precClimb(0,fold$1(function(t,e){return new OpExpr("OpExpr",[e[0],[e[1],t]])},new OpExpr("OpExpr",[e,null]),t))[0]}function makeCallOrProp(t,e,n){var r=[t,n],i=function(n){var r=null!=t?unionRanges(t.Range,n.Range):unionRanges(e.Range,n.Range);return node$1(r,new Expr("Call",[t,e,n]))};if(null==r[0])return null!=r[1]?i(r[1]):node$1(e.Range,new Expr("Variable",[e]));if(null!=r[1])return i(r[1]);var o=r[0];return node$1(unionRanges(o.Range,e.Range),new Expr("Property",[o,e]))}function parseChain(t,e,n,r,i,o){var s=function(t){return whiteAfter(i,t)}(makeCallOrProp(e,n,r)),a=new _Range(t.End+1,t.End+1),u=node$1(a,new Expr("Property",[s,node$1(a,new Name(""))])),l=nestedToken(o),p=function(){return null==l?function(){var t=token(o),e=_IIdentifierI_I_(t[0],t[1]);if(null==e){var n=function(t){return lastCallOrPropertyRange(s,t)};return function(t){addError(o,t)}(Parser.unexpectedScopeEndAfterDot(t[1].Range,n,t[1].Token)),u}var r=function(){var t=e,n=function(t){return lastCallOrPropertyRange(s,t)};!function(t){addError(o,t)}(Parser.unindentedIdentifierAfterDot(t.Range,n,t.Node.Name));var r=[o.TopLevel,o.IndentStack],i=function(){return u};if(r[0])return{v:i()};if(null!=r[1].tail){if(function(){r[1].tail,r[1].head[0],r[1].head[1];return o.IndentCurrent>0}()){var a=r[1].head[1],l=(r[1].head[0],r[1].tail);return next$1(o),o.IndentStack=new List$1([o.IndentCurrent,a],l),{v:parseMember(s,t,o)}}return{v:i()}}return{v:i()}}();if("object"===("undefined"==typeof r?"undefined":_typeof$1(r)))return r.v}():function(){var t=l[1];if(function(t){addError(o,t)}(Parser.unexpectedTokenAfterDot(t.Range,t.Token)),t.Token.Equals(new TokenKind("EndOfFile",[])))return u;next$1(o);var e=usingSilentMode(o);try{return parseMember(s,node$1(a,new Name("")),o)}finally{hasInterface(e,"System.IDisposable")&&e.Dispose()}}()};if(null!=l){var c=_IIdentifierI_I_(l[0],l[1]);if(null!=c){var h=c;return next$1(o),parseMember(s,h,o)}return p()}return p()}function parseDotOrLParen(t,e,n,r){return"LParen"===r.Token.Case?function(){next$1(n);var i=usingNonTopLevel(n);try{var o=function(){var i=parseCallArgList(!1,r.Range,new List$1,n),o=function(t){return whiteAfter(i[1],t)}(node$1(unionRanges(r.Range,i[0]),i[2])),s=nestedToken(n),a=function(){return makeCallOrProp(t,e,o)};if(null!=s){if("Dot"===s[1].Token.Case){var u=s[1].Range,l=s[0];return next$1(n),{v:parseChain(u,t,e,o,l,n)}}return{v:a()}}return{v:a()}}();if("object"===("undefined"==typeof o?"undefined":_typeof$1(o)))return o.v}finally{hasInterface(i,"System.IDisposable")&&i.Dispose()}}():"Dot"===r.Token.Case?function(){return next$1(n),parseChain(r.Range,t,e,null,new List$1,n)}():null}function parseMember(t,e,n){var r=function(){var r=nestedToken(n);if(null!=r){var i=r[0],o=r[1];return parseDotOrLParen(t,whiteAfter(i,e),n,o)}var s=function(){var r=token(n),i=function(){var i=usingSilentMode(n);try{return parseDotOrLParen(t,whiteAfter(r[0],e),n,r[1])}finally{hasInterface(i,"System.IDisposable")&&i.Dispose()}}();if(null!=i)return function(t){addError(n,t)}(Parser.unindentedDotAfterIdentifier(e.Range,r[1].Range)),{v:i}}();if("object"===("undefined"==typeof s?"undefined":_typeof$1(s)))return s.v}();return null==r?null==t?node$1(e.Range,new Expr("Variable",[e])):node$1(unionRanges(t.Range,e.Range),new Expr("Property",[t,e])):r}function parseFunction(t,e){var n=nestedToken(t),r=function(){return null==n?function(){!function(e){addError(t,e)}(Parser.unexpectedScopeEndInFunc(e));var n=new _Range(e.End,e.End);return node$1(n,new Expr("Function",[node$1(n,new Name("")),node$1(n,new Expr("Empty",[]))]))}():function(){var r=n[0],i=n[1];!function(e){addError(t,e)}(Parser.unexpectedTokenAfterFun(i.Range,i.Token));var o=new _Range(e.End,e.End);return function(t){return whiteBefore(r,t)}(node$1(o,new Expr("Function",[node$1(o,new Name("")),node$1(o,new Expr("Empty",[]))])))}()};if(null==n)return r();var i=_IIdentifierI_I_(n[0],n[1]);if(null==i)return r();var o=function(){var n=i;next$1(t);var r=nestedToken(t),o=function(r){var i=null!=r?function(){var t=r[0],e=r[1];return[e.Range,t]}():[unionRanges(e,n.Range),new List$1];!function(e){addError(t,e)}(Parser.missingArrowInFunc(i[0]));var o=function(){var e=parseExpression(new List$1,t);return null!=e?e:node$1(new _Range(n.Range.End,n.Range.End),new Expr("Empty",[]))}();return node$1(unionRanges(e,o.Range),new Expr("Function",[n,whiteBefore(i[1],o)]))};if(null==r)return{v:o(r)};if("Arrow"!==r[1].Token.Case)return{v:o(r)};var s=function(){var i=r[1].Range,o=r[0];next$1(t);var s=function(){var n=parseExpression(new List$1,t);return null!=n?n:(function(e){addError(t,e)}(Parser.missingBodyOfFunc(unionRanges(e,i))),node$1(new _Range(i.End,i.End),new Expr("Empty",[])))}(),a=unionRanges(e,s.Range);return{v:{v:node$1(a,new Expr("Function",[whiteAfter(o,n),s]))}}}();return"object"===("undefined"==typeof s?"undefined":_typeof$1(s))?s.v:void 0}();return"object"===("undefined"==typeof o?"undefined":_typeof$1(o))?o.v:void 0}function parseTerm(t){var e=nestedToken(t),n=function(){var n=function(){return null};if(null==e)return n();if("Number"===e[1].Token.Case){var r=function(){var n=e[1].Token.Fields[1],r=e[1].Range,i=e[0];return next$1(t),{v:function(t){return whiteAfter(i,t)}(node$1(r,new Expr("Number",[n])))}}();if("object"===("undefined"==typeof r?"undefined":_typeof$1(r)))return r.v}else if("String"===e[1].Token.Case){var i=function(){var n=e[1].Range,r=e[1].Token.Fields[0],i=e[0];return next$1(t),{v:function(t){return whiteAfter(i,t)}(node$1(n,new Expr("String",[r])))}}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}else if("Boolean"===e[1].Token.Case){var o=function(){var n=e[1].Token.Fields[0],r=e[1].Range,i=e[0];return next$1(t),{v:function(t){return whiteAfter(i,t)}(node$1(r,new Expr("Boolean",[n])))}}();if("object"===("undefined"==typeof o?"undefined":_typeof$1(o)))return o.v}else{if("LParen"===e[1].Token.Case){var s=e[1],a=e[0];return next$1(t),parseParenTermEnd(new List$1(s,reverse$1(a)),new List$1,parseExpression(new List$1,t),t)}if("LSquare"!==e[1].Token.Case){if("Fun"===e[1].Token.Case){var u=e[1];e[0];return next$1(t),parseFunction(t,u.Range)}return n()}var l=e[1],p=e[0];next$1(t);var c=usingNonTopLevel(t);try{return parseListElements(!1,l.Range,p,l.Range,new List$1,t)}finally{hasInterface(c,"System.IDisposable")&&c.Dispose()}}};if(null==e)return n();var r=_IIdentifierI_I_(e[0],e[1]);if(null==r)return n();var i=r,o=e[1];next$1(t);var s=usingIndent(!1,o,t);try{var a=parseMember(null,i,t);return a}finally{hasInterface(s,"System.IDisposable")&&s.Dispose()}}function parseListElements(t,e,n,r,i,o){var s=function(){var t=parseExpression(new List$1,o);return null!=t?[!0,function(e){return new List$1(whiteAfter(e,t),i)}]:[!1,function(t){return i}]}(),a=nestedToken(o),u=function(){return function(t){addError(o,t)}(Parser.unexpectedScopeEndInList(e)),node$1(unionRanges(r,e),new Expr("List",[reverse$1(s[1](new List$1))]))};if(null==a)return u();if("RSquare"!==a[1].Token.Case){if("Comma"===a[1].Token.Case){var l=a[1].Range,p=a[0];return next$1(o),!s[0]&&t&&!function(t){addError(o,t)}(Parser.unexpectedTokenInList(l,new TokenKind("Comma",[]))),parseListElements(!0,l,n,r,s[1](p),o)}if(function(){var t=a[1];return!t.Token.Equals(new TokenKind("EndOfFile",[]))}()){var c=a[1];return next$1(o),function(t){addError(o,t)}(Parser.unexpectedTokenInList(c.Range,c.Token)),parseListElements(t,c.Range,n,r,s[1](new List$1),o)}return u()}var h=function(){var t=a[1].Range,e=a[0];return next$1(o),{v:function(t){return whiteBefore(e,t)}(node$1(unionRanges(r,t),new Expr("List",[reverse$1(s[1](new List$1))])))}}();return"object"===("undefined"==typeof h?"undefined":_typeof$1(h))?h.v:void 0}function parseParenTermEnd(t,e,n,r){var i=function(e){var i=null==n?function(){var n=function(t){return reduce(function(t,e){return unionRanges(t,e)},t)}(map$5(function(t){return t.Range},append$1(ofArray$$1([t.head]),e)));return function(t){addError(r,t)}(Parser.missingParenthesizedExpr(n)),node$1(n,new Expr("Empty",[]))}():n;return whiteAfter(reverse$1(e),whiteBefore(reverse$1(t),i))},o=nestedToken(r);if(null==o){var s=null!=n?n.Range:t.head.Range;return function(t){addError(r,t)}(Parser.unindentedTokenInParenthesizedExpr(s)),i(e)}if("RParen"===o[1].Token.Case){var a=o[1],u=o[0];return next$1(r),i(new List$1(a,append$1(reverse$1(u),e)))}var l=o[1],p=o[0];return next$1(r),function(t){addError(r,t)}(Parser.unexpectedTokenInParenthesizedExpr(l.Range,l.Token)),parseParenTermEnd(t,new List$1(l,append$1(reverse$1(p),e)),n,r)}function parseExpression(t,e){var n=[t,parseTerm(e)];if(null==n[1]){if(null!=n[0].tail){var r=n[0].tail,i=n[0].head[0],o=n[0].head[1],s=justToken(e);return function(t){addError(e,t)}(Parser.unexpectedTokenAfterOperator(s.Range,new TokenKind("Operator",[o.Node]),s.Token)),buildExpression(r,i)}}else{var a=function(){var t=n[1],r=nestedToken(e),i=function(){return buildExpression(n[0],t)};if(null!=r){if("Equals"===r[1].Token.Case){var o=r[1],s=r[0];return next$1(e),{v:parseExpression(new List$1([t,whiteBefore(s,node$1(o.Range,new Operator("Equals",[])))],n[0]),e)}}if("Operator"===r[1].Token.Case){var a=r[1].Token.Fields[0],u=r[1],l=r[0];return next$1(e),{v:parseExpression(new List$1([t,whiteBefore(l,node$1(u.Range,a))],n[0]),e)}}return{v:i()}}return{v:i()}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}}function parseExpressionOrNamedParam(t){var e=clone$1(t),n=nestedToken(e),r=function(){return new Choice("Choice2Of2",[parseExpression(new List$1,t)])};if(null!=n){var i=_IIdentifierI_I_(n[0],n[1]);if(null!=i){var o=i;next$1(e);var s=nestedToken(e),a=function(){return new Choice("Choice2Of2",[parseExpression(new List$1,t)])};if(null!=s){if("Equals"===s[1].Token.Case){var u=s[1],l=s[0];nestedToken(t),next$1(t),nestedToken(t),next$1(t);var p=parseExpression(new List$1,t);return null==p?(function(e){addError(t,e)}(Parser.unexpectedTokenInArgList(u.Range,u.Token)),new Choice("Choice2Of2",[node$1(o.Range,new Expr("Variable",[o]))])):new Choice("Choice1Of2",[[whiteAfter(l,o),p]])}return a()}return a()}return r()}return r()}function parseCallArgList(t,e,n,r){var i=function(){var t=parseExpressionOrNamedParam(r);if("Choice1Of2"===t.Case){var e=t.Fields[0][1],i=t.Fields[0][0];
return[!0,new List$1(new Argument(i,e),n)]}if(null!=t.Fields[0]){var o=t.Fields[0];return[!0,new List$1(new Argument(null,o),n)]}return[!1,n]}(),o=nestedToken(r),s=function(){var n=function(){return function(t){addError(r,t)}(Parser.unexpectedScopeEndInArgList(e)),[e,new List$1,reverse$1(i[1])]};if(null!=o){if(function(){var t=o[1];return!t.Token.Equals(new TokenKind("EndOfFile",[]))}()){var s=o[1];return next$1(r),function(t){addError(r,t)}(Parser.unexpectedTokenInArgList(s.Range,s.Token)),parseCallArgList(t,s.Range,i[1],r)}return n()}return n()};if(null!=o){if("RParen"===o[1].Token.Case){var a=o[1],u=o[0];return next$1(r),!t||i[0]||!function(t){addError(r,t)}(Parser.unexpectedTokenInArgList(e,new TokenKind("RParen",[]))),[a.Range,u,reverse$1(i[1])]}if("Comma"===o[1].Token.Case){if(function(){o[0],o[1].Range;return i[0]}()){var l=o[1].Range;o[0];return next$1(r),parseCallArgList(!0,l,i[1],r)}return s()}return s()}return s()}function parseNestedExpressions(t,e,n){var r=parseExpression(new List$1,n);if(null==r){var i=nestedToken(n),o=function(){return null==e.tail?new List$1:new List$1(whiteAfter(reverse$1(t),e.head),e.tail)};if(null==i)return o();if("EndOfFile"===i[1].Token.Case)return o();var s=i[1],a=i[0];return next$1(n),parseNestedExpressions(append$1(new List$1(s,reverse$1(a)),t),e,n)}if(null!=e.tail)return function(t){addError(n,t)}(Parser.nestedExpressionInCommand(r.Range)),parseNestedExpressions(new List$1,new List$1(whiteBefore(reverse$1(t),r),e),n);var u=usingTopLevelNesting(n);try{return parseNestedExpressions(new List$1,new List$1(whiteBefore(reverse$1(t),r),e),n)}finally{hasInterface(u,"System.IDisposable")&&u.Dispose()}}function parseLetBinding(t,e,n){var r=nestedToken(n),i=function(){return null==r?function(){!function(t){addError(n,t)}(Parser.missingBodyInLetBinding(e));var r=new _Range(e.End,e.End);return[new List$1,function(e){return whiteBefore(t,e)}(node$1(r,new Command("Let",[node$1(r,new Name("")),node$1(r,new Expr("Empty",[]))])))]}():function(){var i=r[0],o=r[1];!function(t){addError(n,t)}(Parser.unexpectedTokenInLetBinding(o.Range,o.Token));var s=new _Range(e.End,e.End),a=function(){var t=reverse$1(parseNestedExpressions(new List$1,new List$1,n));return null==t.tail?[node$1(s,new Expr("Empty",[])),new List$1]:[t.head,t.tail]}();return[a[1],function(e){return whiteBefore(t,e)}(node$1(unionRanges(e,a[0].Range),new Command("Let",[whiteBefore(i,node$1(s,new Name(""))),a[0]])))]}()};if(null==r)return i();var o=_IIdentifierI_I_(r[0],r[1]);if(null==o)return i();var s=function(){var r=o;next$1(n);var i=nestedToken(n);if(null==i){!function(t){addError(n,t)}(Parser.missingBodyInLetBinding(r.Range));var s=node$1(new _Range(r.Range.End,r.Range.End),new Expr("Empty",[]));return{v:[new List$1,function(e){return whiteBefore(t,e)}(node$1(unionRanges(e,r.Range),new Command("Let",[r,s])))]}}if("Equals"===i[1].Token.Case){var a=i[1].Range,u=i[0];next$1(n);var l=reverse$1(parseNestedExpressions(new List$1,new List$1,n));return null==l.tail?(function(t){addError(n,t)}(Parser.missingBodyInLetBinding(unionRanges(e,a))),{v:[new List$1,function(e){return whiteBefore(t,e)}(node$1(unionRanges(e,a),new Command("Let",[whiteAfter(u,r),node$1(new _Range(a.End,a.End),new Expr("Empty",[]))])))]}):{v:[l.tail,function(e){return whiteBefore(t,e)}(node$1(unionRanges(e,l.head.Range),new Command("Let",[whiteAfter(u,r),l.head])))]}}var p=i[1],c=i[0];!function(t){addError(n,t)}(Parser.unexpectedTokenInLetBinding(p.Range,p.Token));var h=function(){var t=reverse$1(parseNestedExpressions(new List$1,new List$1,n));return null==t.tail?[node$1(new _Range(r.Range.End,r.Range.End),new Expr("Empty",[])),new List$1]:[t.head,t.tail]}();return{v:[h[1],function(e){return whiteBefore(t,e)}(node$1(unionRanges(e,r.Range),new Command("Let",[whiteAfter(c,r),h[0]])))]}}();return"object"===("undefined"==typeof s?"undefined":_typeof$1(s))?s.v:void 0}function parseCommands(t,e){var n=token(e);if("Let"!==n[1].Token.Case){if("EndOfFile"===n[1].Token.Case)return null==t.tail?new List$1:reverse$1(new List$1(new _Node(t.head.WhiteBefore,n[0],t.head.Range,t.head.Node,t.head.Entity),t.tail));var r=function(){var t=usingIndent(!0,n[1],e);try{return map$5(function(t){return node$1(t.Range,new Command("Expr",[t]))},parseNestedExpressions(reverse$1(n[0]),new List$1,e))}finally{hasInterface(t,"System.IDisposable")&&t.Dispose()}}();return parseCommands(append$1(r,t),e)}var i=function(){var r=n[1].Range;next$1(e);var i=function(){var t=usingIndent(!1,n[1],e);try{return parseLetBinding(n[0],r,e)}finally{hasInterface(t,"System.IDisposable")&&t.Dispose()}}(),o=map$5(function(t){return node$1(t.Range,new Command("Expr",[t]))},i[0]);return{v:parseCommands(append$1(o,new List$1(i[1],t)),e)}}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}function parseProgram(t){try{var e=function(){var e=tokenize$1(t),n=function(){var t=!0,n=!1,r=!1,i=0,o=0,s=new List$1,a=[];return new Context$$1(e[0],[],a,t,n,r,o,s,i)}(),r=parseCommands(new List$1,n),i=e[1].concat(_Array$from(n.Errors)),o=fold$1(function(t,e){return unionRanges(t,e.Range)},new _Range(0,0),r);return{v:[new Program$$1(node$1(o,r)),i]}}();if("object"===("undefined"==typeof e?"undefined":_typeof$1(e)))return e.v}catch(t){Log.exn("parsing","Exception while parsing program: %O",t);var n=new _Range(0,0),r=Parser.exceptionWhileParsing(n,toString$2(t));return[new Program$$1(node$1(n,new List$1)),[r]]}}function addError$1(t,e,n){t.Errors.push(n(t.Ranges.get(e.Symbol)))}function _IFindPropertyI_I_$1(t,e){return tryPick$$1(function(e){var n=function(){return null};if("Property"===e.Case){if(e.Fields[0]===t.Name){var r=e.Fields[2],i=(e.Fields[0],e.Fields[1]);return[r,i]}return n()}return n()},e.Members)}function _IFindMethodI_I_$1(t,e){return tryPick$$1(function(e){var n=function(){return null};if("Method"===e.Case){if(e.Fields[0]===t.Name){var r=e.Fields[1],i=e.Fields[3],o=(e.Fields[0],e.Fields[2]);return[i,r,o]}return n()}return n()},e.Members)}function inferListType(t){return reduce(function(t){return function(e,n){return t(e)>t(n)?e:n}}(function(t){return t[1]}),append$1(ofArray$$1([[new Type("Any",[]),0]]),map$5(function(t){return[t.head,t.length]},function(t){return List.groupWith(typesEqual,t)}(filter$2(function(t){return"Any"!==t.Case},t)))))[0]}function resolveParameterType(t,e,n){var r=function(){throw"resolveParameterType: Instance is not an object"};if("Object"===t.Case){var i=_IFindMethodI_I_$1(e,t.Fields[0]);if(null!=i){var o=i[1];if("Choice2Of2"===n.Case){var s=item(n.Fields[0],o);return s[2]}return pick$$1(function(t){return t[0]===n.Fields[0]?t[2]:null},o)}return r()}return r()}function checkMethodCall(t,e,n,r,i){for(var o=function(){var e=toList(takeWhile(function(t){return"NamedParam"!==t.Kind.Case},i)),n=toList(skipWhile(function(t){return"NamedParam"!==t.Kind.Case},i));return[_Array$from(e),create$4(choose$1(function(e){return"NamedParam"===e.Kind.Case?[e.Kind.Fields[0].Name,e.Kind.Fields[1]]:function(){return function(n){addError$1(t,e,n)}(function(t){return TypeChecker.nameBasedParamMustBeLast(t)}),null}()},n),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}))]}(),s=mapIndexed$$1(function(e,n){var i=e<o[0].length?o[0][e]:tryFind$1(n[0],o[1]);if(null==i){if(n[1])return[n[0],n[2],n[2],null];if(null==i)return function(e){addError$1(t,r,e)}(function(t){return TypeChecker.parameterMissingValue(n[0],t)}),[n[0],n[2],new Type("Any",[]),null];throw["C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\analyzer/typechecker.fs",72,12]}return[n[0],n[2],getType(t,i),i]},n),a="Forall"===e.Case?[e.Fields[0],e.Fields[1]]:[new List$1,e],u=collect$$1(function(e){var n=unifyTypes(a[0],e[1],e[2]);if(function(){return null!=e[3]}())for(var r=function(){if(o){if(s>=i.length)return"break";u=i[s++]}else{if(s=i.next(),s.done)return"break";u=s.value}var n=u;!function(){var n=e[3];return function(e){addError$1(t,n,e)}}()(function(t){return TypeChecker.incorrectParameterType(e[0],e[1],e[2],n[0],n[1],t)})},i=n[1],o=Array.isArray(i),s=0,i=o?i:_getIterator(i);;){var u,l=r();if("break"===l)break}return n[0]},s),l=groupBy$1(function(t){return t[0]},u),p=l,c=Array.isArray(p),h=0,p=c?p:_getIterator(p);;){var f;if(c){if(h>=p.length)break;f=p[h++]}else{if(h=p.next(),h.done)break;f=h.value}var d=f,y=toList(d[1]),m=function(){};null!=y.tail&&null!=y.tail.tail?!function(){for(var e=y.head[1],n=y.tail,i=y.head[0],o=function(){if(a){if(u>=s.length)return"break";l=s[u++]}else{if(u=s.next(),u.done)return"break";l=u.value}var n=l;!function(e){addError$1(t,r,e)}(function(t){return TypeChecker.inferenceConflict(i,e,n[1],t)})},s=n,a=Array.isArray(s),u=0,s=a?s:_getIterator(s);;){var l,p=o();if("break"===p)break}}():m()}var g=substituteTypes(create$4(u,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),a[1]);return g}function getType(t,e){return function(){return null==e.Type}()&&!function(){var n=t.Errors.length;e.Type=typeCheckEntity(t,e),e.Errors=toList(delay(function(){return map$6(function(e){return t.Errors[e]},range$1(n,t.Errors.length-1))}))}(),e.Type}function typeCheckEntity(t,e){var n=function(e,n){return function(n){addError$1(t,e,n)}(function(t){return TypeChecker.callMissingInstance(n.Name,t)}),new Type("Any",[])},r=function(t){throw fsFormat("typeCheckEntity: Call to %s is missing argument list!")(function(t){return t})(t.Name)};if("Variable"===e.Kind.Case){var i=e.Kind.Fields[1];return getType(t,i)}if("ChainElement"===e.Kind.Case)if(e.Kind.Fields[0]){if(null==e.Kind.Fields[3])return n(e.Kind.Fields[2],e.Kind.Fields[1]);var o=function(){var n=e.Kind.Fields[2],r=e.Kind.Fields[3],i=e.Kind.Fields[1],o=function(){var o=reduceType(getType(t,r)),s=function(){return"Object"===o.Case?function(){var e=o.Fields[0].Members;return function(e){addError$1(t,n,e)}(function(t){return TypeChecker.propertyMissing(i.Name,e,t)}),new Type("Any",[])}():function(){return function(e){addError$1(t,r,e)}(function(t){return TypeChecker.notAnObject(i.Name,o,t)}),new Type("Any",[])}()};if("Any"===o.Case)return{v:{v:new Type("Any",[])}};if("Object"===o.Case){var a=_IFindPropertyI_I_$1(i,o.Fields[0]);if(null!=a){var u=a[0],l=a[1];return e.Meta=u,{v:{v:l}}}return{v:{v:s()}}}return{v:{v:s()}}}();if("object"===("undefined"==typeof o?"undefined":_typeof$1(o)))return o.v}();if("object"===("undefined"==typeof o?"undefined":_typeof$1(o)))return o.v}else{if(null==e.Kind.Fields[3])return n(e.Kind.Fields[2],e.Kind.Fields[1]);if(null==e.Kind.Fields[4])return r(e.Kind.Fields[1]);if("ArgumentList"!==e.Kind.Fields[4].Kind.Case)return r(e.Kind.Fields[1]);var s=function(){var n=e.Kind.Fields[4],r=e.Kind.Fields[4].Kind.Fields[0],i=e.Kind.Fields[2],o=e.Kind.Fields[3],s=e.Kind.Fields[1],a=function(){var a=reduceType(getType(t,o)),u=function(){return"Object"===a.Case?function(){var e=a.Fields[0].Members;return function(e){addError$1(t,i,e)}(function(t){return TypeChecker.methodMissing(s.Name,e,t)}),new Type("Any",[])}():function(){return function(e){addError$1(t,o,e)}(function(t){return TypeChecker.notAnObject(s.Name,a,t)}),new Type("Any",[])}()};if("Any"===a.Case)return{v:{v:new Type("Any",[])}};if("Object"===a.Case){var l=_IFindMethodI_I_$1(s,a.Fields[0]);if(null!=l){var p=l[1],c=l[0],h=l[2];return e.Meta=c,{v:{v:checkMethodCall(t,h,p,n,r)}}}return{v:{v:u()}}}return{v:{v:u()}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}();if("object"===("undefined"==typeof s?"undefined":_typeof$1(s)))return s.v}else if("Operator"===e.Kind.Case){var a=function(){var n=e.Kind.Fields[0],r=e.Kind.Fields[1],i=e.Kind.Fields[2];return iterateIndexed(function(e,n){var i=getType(t,n);typesEqual(i)(new Type("Primitive",[new PrimitiveType("Number",[])]))||!function(e){addError$1(t,n,e)}(function(t){return TypeChecker.numericOperatorExpectsNumbers(r,e,i,t)})},ofArray$$1([n,i])),{v:new Type("Primitive",[new PrimitiveType("Number",[])])}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}else if("List"===e.Kind.Case){var u=function(){for(var n=e.Kind.Fields[0],r=map$5(function(e){return getType(t,e)},n),i=inferListType(r),o=function(){if(a){if(u>=s.length)return"break";l=s[u++]}else{if(u=s.next(),u.done)return"break";l=u.value}var e=l,n=getType(t,e);typesEqual(i)(n)||!function(n){addError$1(t,e,n)}(function(t){return TypeChecker.listElementTypeDoesNotMatch(i,n,t)})},s=n,a=Array.isArray(s),u=0,s=a?s:_getIterator(s);;){var l,p=o();if("break"===p)break}return{v:new Type("List",[i])}}();if("object"===("undefined"==typeof u?"undefined":_typeof$1(u)))return u.v}else{if("Binding"===e.Kind.Case){if("CallSite"===e.Kind.Fields[1].Kind.Case){var l=e.Kind.Fields[1].Kind.Fields[0],p=e.Kind.Fields[1].Kind.Fields[1],c=(e.Kind.Fields[0],e.Kind.Fields[1].Kind.Fields[2]),h=resolveParameterType(reduceType(getType(t,l)),p,c),f=function(){throw"typeCheckEntity: Expected parameter of function type"};if("Function"===h.Case){if(null!=h.Fields[0].tail){if(null==h.Fields[0].tail.tail){var d=h.Fields[0].head;return d}return f()}return f()}return f()}var y=e.Kind.Fields[0];throw fsFormat("typeCheckEntity: Variable binding %s is missing call site!")(function(t){return t})(y.Name)}if("Function"===e.Kind.Case){var m=e.Kind.Fields[1],g=e.Kind.Fields[0];return new Type("Function",[ofArray$$1([getType(t,g)]),getType(t,m)])}if("Constant"===e.Kind.Case)return"String"===e.Kind.Fields[0].Case?new Type("Primitive",[new PrimitiveType("String",[])]):"Boolean"===e.Kind.Fields[0].Case?new Type("Primitive",[new PrimitiveType("Bool",[])]):"Empty"===e.Kind.Fields[0].Case?new Type("Any",[]):new Type("Primitive",[new PrimitiveType("Number",[])]);if("Root"===e.Kind.Case)return new Type("Any",[]);if("LetCommand"===e.Kind.Case)return new Type("Any",[]);if("RunCommand"===e.Kind.Case)return new Type("Any",[]);if("ArgumentList"===e.Kind.Case)return new Type("Any",[]);if("NamedParam"===e.Kind.Case)return new Type("Any",[]);if("NamedMember"===e.Kind.Case)return new Type("Any",[]);if("CallSite"===e.Kind.Case)return new Type("Any",[]);if("Program"===e.Kind.Case)return new Type("Any",[]);var v=function(){var n=e.Kind.Fields[0];return t.Globals.has(n.Name)?{v:getType(t,t.Globals.get(n.Name))}:(function(n){addError$1(t,e,n)}(function(t){return TypeChecker.variableNotInScope(n.Name,t)}),{v:new Type("Any",[])})}();if("object"===("undefined"==typeof v?"undefined":_typeof$1(v)))return v.v}}function evaluateDelayedType(t,e){return function(n){return n.Delay(function(){var r=function(){return"Function"===e.Case?n.Bind(evaluateDelayedType(t,e.Fields[1]),function(r){return n.Bind(Async.map(function(e){return evaluateDelayedType(t,e)},e.Fields[0]),function(t){return n.Return(new Type("Function",[t,r]))})}):"List"===e.Case?n.Bind(evaluateDelayedType(t,e.Fields[0]),function(t){return n.Return(new Type("List",[t]))}):"Delayed"===e.Case?n.Bind(Async_AwaitFuture_Static(e.Fields[1]),function(e){return n.ReturnFrom(evaluateDelayedType(t,e))}):n.Return(e)};if("App"===e.Case){var i=function(){var r=e.Fields[1],i=e.Fields[0];return{v:n.Bind(evaluateDelayedType(t,i),function(t){return n.Return(new Type("App",[t,r]))})}}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}else{if("Forall"!==e.Case){if("Object"===e.Case){if(t){var o=e.Fields[0];return n.Bind(Async.Array.map(function(t){return function(e){return e.Delay(function(){return"Method"===t.Case?e.Bind(Async.map(function(t){return function(e){return e.Delay(function(){return e.Bind(evaluateDelayedType(!1,t[2]),function(n){return e.Return([t[0],t[1],n])})})}(singleton$2)},t.Fields[1]),function(n){return e.Return(new Member("Method",[t.Fields[0],n,t.Fields[2],t.Fields[3],t.Fields[4]]))}):e.Return(t)})}(singleton$2)},o.Members),function(t){return n.Return(new Type("Object",[new ObjectType(t)]))})}return r()}return r()}var s=function(){var r=e.Fields[1],i=e.Fields[0];return{v:n.Bind(evaluateDelayedType(t,r),function(t){return n.Return(new Type("Forall",[i,t]))})}}();if("object"===("undefined"==typeof s?"undefined":_typeof$1(s)))return s.v}})}(singleton$2)}function typeCheckEntityAsync(t,e){return function(n){return n.Delay(function(){var r=new _Map,i=function e(n){return function(i){return i.Delay(function(){var o="GlobalValue"===n.Kind.Case;return r.has(n.Symbol)||!o&&!function(){return null==n.Type}()?i.Zero():(r.set(n.Symbol,!0),i.Combine(i.For(Entity_get_Antecedents.bind(n)(),function(t){return i.Bind(e(t),function(){return i.Return()})}),i.Delay(function(){return Log.trace("typechecker","Type of entity '%s' (%O) is: %O",Entity_get_Name.bind(n)(),n.Kind,getType(t,n)),i.Bind(evaluateDelayedType(!0,getType(t,n)),function(t){return Log.trace("typechecker","Type of entity '%s' (%O) reduced to: %O",Entity_get_Name.bind(n)(),n.Kind,t),n.Type=t,i.Zero()})})))})}(singleton$2)};return n.Bind(i(e),function(){return n.Return(getType(t,e))})})}(singleton$2)}function collectTypeErrors(t){var e=[],n=new _Map,r=function t(r){if(!n.has(r.Symbol)){n.set(r.Symbol,!0);for(var i=Entity_get_Antecedents.bind(r)(),o=i,s=Array.isArray(o),a=0,o=s?o:_getIterator(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}var l=u;t(l)}addRangeInPlace(r.Errors,e)}};return r(t),_Array$from(e)}function typeCheckProgram(t,e,n){return function(r){return r.Delay(function(){return Log.trace("typechecker","Type checking program"),r.TryWith(r.Delay(function(){var i=new _Map(toList(delay(function(){return collect$1(function(t){return singleton$1([t[1].Symbol,t[0]])},e.Entities)}))),o=new _Map(toList(delay(function(){return map$6(function(t){return[Entity_get_Name.bind(t)(),t]},t)}))),s=new CheckingContext([],o,i);return r.Bind(typeCheckEntityAsync(s,n),function(t){return Log.trace("typechecker","Completed type checking"),r.Zero()})}),function(t){return Log.exn("typechecker","Type checking program failed: %O",t),r.Zero()})})}(singleton$2)}function updateLiveState(t,e){return"UpdateLocation"===e.Case?new LiveState(t.Globals,t.Code,t.Program,t.Mapper,e.Fields[0],t.Selection,t.State,t.CurrentPreview):"UpdateSource"===e.Case?new LiveState(t.Globals,e.Fields[0],e.Fields[2],e.Fields[3],e.Fields[1],t.Selection,t.State,t.CurrentPreview):"CustomEvent"===e.Case?t:new LiveState(e.Fields[0],t.Code,t.Program,t.Mapper,t.Location,t.Selection,t.State,t.CurrentPreview)}function offsetToLocation(t,e,n){var r=function(){return null==n.tail?new Position$1(t,e):offsetToLocation(t+1,e-n.head-1,n.tail)};if(null!=n.tail){if(e<=n.head){n.head,n.tail;return new Position$1(t,e)}return r()}return r()}function rangeToLoc(t,e){return new LineRange(offsetToLocation(1,e.Start,t),offsetToLocation(1,e.Start,t))}function offsetToLocation$1(t,e,n){var r=function(){return null==n.tail?new Position(t,e):offsetToLocation$1(t+1,e-n.head-1,n.tail)};if(null!=n.tail){if(e<=n.head){n.head,n.tail;return new Position(t,e)}return r()}return r()}function rangeToLoc$1(t,e){return new SourceLocation(offsetToLocation$1(1,e.Start,t.LineLengths),offsetToLocation$1(1,e.Start,t.LineLengths))}function getEmitterAndParams(t,e){var n=reduceType(e);if("Object"===n.Case)return pick$$1(function(e){var n=function n(){var n=function(){return null};if("Property"===e.Case){if(e.Fields[0]===t){var r=e.Fields[3];e.Fields[0];return[r,new List$1]}return n()}return n()};if("Method"===e.Case){if(e.Fields[0]===t){var r=e.Fields[1],i=e.Fields[4];e.Fields[0];return[i,r]}return n()}return n()},n.Fields[0].Members);throw Log.exn("codegen","getEmitterAndParams: Not an object %O",n),"getEmitterAndParams: Not an object"}function compileExpression(t,e){var n=function(){return"Variable"===e.Node.Case?new Expression("IdentifierExpression",[e.Node.Fields[0].Node.Name,rangeToLoc$1(t,e.Node.Fields[0].Range)]):"List"===e.Node.Case?function(){var n=map$5(function(e){return compileExpression(t,e)},e.Node.Fields[0]);return new Expression("ArrayExpression",[n,rangeToLoc$1(t,e.Range)])}():"Function"===e.Node.Case?function(){var n=new Expression("IdentifierExpression",[e.Node.Fields[0].Node.Name,rangeToLoc$1(t,e.Node.Fields[0].Range)]),r=compileExpression(function(){var r=add$2(e.Node.Fields[0].Node.Name,n,t.Globals);return new CompilationContext(t.LineLengths,r)}(),e.Node.Fields[1]),i=new Statement("BlockStatement",[ofArray$$1([new Statement("ReturnStatement",[r,rangeToLoc$1(t,e.Node.Fields[1].Range)])]),rangeToLoc$1(t,e.Node.Fields[1].Range)]);return new Expression("FunctionExpression",[null,ofArray$$1([new Pattern("IdentifierPattern",[e.Node.Fields[0].Node.Name,rangeToLoc$1(t,e.Node.Fields[0].Range)])]),i,!1,!1,rangeToLoc$1(t,e.Range)])}():"Empty"===e.Node.Case?function(){throw console.log("compileExpression: %O",e.Node),"!"}():function(){throw["C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\codegen/codegen.fs",37,8]}()};if("Binary"===e.Node.Case){if("Power"===e.Node.Fields[1].Node.Case){var r=e.Node.Fields[0],i=e.Node.Fields[2],o=compileExpression(t,r),s=compileExpression(t,i),a=rangeToLoc$1(t,e.Range),u=new Expression("MemberExpression",[new Expression("IdentifierExpression",["pow",a]),new Expression("IdentifierExpression",["Math",a]),!1,a]);return new Expression("CallExpression",[u,ofArray$$1([o,s]),rangeToLoc$1(t,e.Range)])}var l=e.Node.Fields[0],p=e.Node.Fields[1],c=e.Node.Fields[2],h=compileExpression(t,l),f=compileExpression(t,c),d="Plus"===p.Node.Case?new BinaryOperator("BinaryPlus",[]):"Minus"===p.Node.Case?new BinaryOperator("BinaryMinus",[]):"Multiply"===p.Node.Case?new BinaryOperator("BinaryMultiply",[]):"Divide"===p.Node.Case?new BinaryOperator("BinaryDivide",[]):"GreaterThan"===p.Node.Case?new BinaryOperator("BinaryGreater",[]):"LessThan"===p.Node.Case?new BinaryOperator("BinaryLess",[]):"GreaterThanOrEqual"===p.Node.Case?new BinaryOperator("BinaryGreaterOrEqual",[]):"LessThanOrEqual"===p.Node.Case?new BinaryOperator("BinaryLessOrEqual",[]):"Power"===p.Node.Case?function(){throw"compileExpression: Power is not a binary operation"}():new BinaryOperator("BinaryEqualStrict",[]);return new Expression("BinaryExpression",[d,h,f,rangeToLoc$1(t,e.Range)])}if("Call"!==e.Node.Case){if("Property"===e.Node.Case){var y=e.Node.Fields[0],m=e.Node.Fields[1],g=getEmitterAndParams(m.Node.Name,y.Entity.Type),v=compileExpression(t,y);return g[0].Emit([v,new List$1])}if("Number"===e.Node.Case){var $=e.Node.Fields[0];return new Expression("NumericLiteral",[$,rangeToLoc$1(t,e.Range)])}if("String"===e.Node.Case){var C=e.Node.Fields[0];return new Expression("StringLiteral",[C,rangeToLoc$1(t,e.Range)])}if("Boolean"===e.Node.Case){var b=e.Node.Fields[0];return new Expression("BooleanLiteral",[b,rangeToLoc$1(t,e.Range)])}if("Variable"===e.Node.Case){if(t.Globals.has(e.Node.Fields[0].Node.Name)){var S=e.Node.Fields[0];return t.Globals.get(S.Node.Name)}return n()}return n()}if(null==e.Node.Fields[0]){e.Node.Fields[2],e.Node.Fields[1];throw"compileExpression: Call without instance is not supported"}var w=function(){var n=e.Node.Fields[2],r=e.Node.Fields[0],i=e.Node.Fields[1],o=function(){var e=map$5(function(e){return[e.Name,compileExpression(t,e.Value)]},n.Node),o=_Array$from(map$6(function(t){return t[1]},takeWhile(function(t){return function(){return null==t[0]}()},e))),s=new _Map(choose$2(function(t){return null!=t[0]?function(){var e=t[0];return[e.Node.Name,t[1]]}():null},e)),a=getEmitterAndParams(i.Node.Name,r.Entity.Type),u=compileExpression(t,r),l=mapIndexed$$1(function(e,r){return e<o.length?o[e]:s.has(r[0])?s.get(r[0]):new Expression("NullLiteral",[rangeToLoc$1(t,n.Range)])},a[1]);return{v:{v:a[0].Emit([u,l])}}}();if("object"===("undefined"==typeof o?"undefined":_typeof$1(o)))return o.v}();if("object"===("undefined"==typeof w?"undefined":_typeof$1(w)))return w.v}function compileCommand(t,e){return"Expr"===e.Node.Case?function(){var n=compileExpression(t,e.Node.Fields[0]);return new Statement("ExpressionStatement",[n,rangeToLoc$1(t,e.Range)])}():function(){var n=compileExpression(t,e.Node.Fields[1]),r=new Pattern("IdentifierPattern",[e.Node.Fields[0].Node.Name,rangeToLoc$1(t,e.Node.Fields[0].Range)]),i=new VariableDeclarator("VariableDeclarator",[r,n,rangeToLoc$1(t,e.Range)]);return new Statement("VariableDeclaration",[new VariableDeclarationKind("Var",[]),ofArray$$1([i]),rangeToLoc$1(t,e.Range)])}()}function compileProgram(t,e){var n=map$5(function(e){return compileCommand(t,e)},e.Body.Node);return new Program$1(rangeToLoc$1(t,e.Body.Range),n)}function compile(t,e,n){return function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){return r.Bind(Async_AwaitFuture_Static(t),function(t){var i=create$4(choose$1(function(t){var e=function(){return null};if("GlobalValue"===t.Kind.Case){if(null!=t.Kind.Fields[1]){var n=t.Kind.Fields[1],r=t.Kind.Fields[0];return[r.Name,n]}return e()}return e()},t),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),o=new CompilationContext(toList(delay(function(){return map$6(function(t){return t.length},e.split("\n"))})),i),s=compileProgram(o,n),a=Babel.transformFromAst(Serializer.serializeProgram(s),e,new BabelOptions$1(["es2015"]));return Log.trace("codegen","Evaluating: %O",a),r.Return(a.code)})}),function(t){return Log.exn("codegen","Evaluating code failed: %O",t),r.Return("")})})}(singleton$2)}function trimLeft$1(t,e){return _Array$from(skipWhile(function(e){return t===e},e.split(""))).join("")}function trimRight$1(t,e){return _Array$from(skipWhile(function(e){return t===e},e.split("").reverse())).reverse().join("")}function concatUrl$1(t,e){return trimRight$1("/",t)+"/"+trimLeft$1("/",e)}function makeObjectType(t){return new Type("Object",[new ObjectType(_Array$from(t))])}function isNumeric(t){return t.Equals(new PrimitiveType("Number",[]))}function isConcatenable(t){return t.Equals(new PrimitiveType("String",[]))}function ident(t){return new Expression("IdentifierExpression",[t,null])}function str(t){return new Expression("StringLiteral",[t,null])}function bool(t){return new Expression("BooleanLiteral",[t,null])}function arr(t){return new Expression("ArrayExpression",[t,null])}function op_Dynamic$1(t,e){return new Expression("MemberExpression",[t,new Expression("IdentifierExpression",[e,null]),!1,null])}function op_DivideQmarkDivide(t,e){return new Expression("MemberExpression",[t,e,!0,null])}function op_DivideAtDivide(t,e){return new Expression("CallExpression",[t,e,null])}function getTypeAndEmitter(t){return"Number"===t.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(t){return op_DivideAtDivide(ident("Number"),ofArray$$1([t]))}]:"Bool"===t.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(t){return op_DivideAtDivide(ident("Boolean"),ofArray$$1([t]))}]:"Unit"===t.Case?[new Type("Primitive",[new PrimitiveType("Unit",[])]),function(t){return new Expression("NullLiteral",[null])}]:[new Type("Primitive",[new PrimitiveType("String",[])]),function(t){return t}]}function makeMethodEmitter(t,e){return new Emitter(function(e){var n=arr(toList(delay(function(){return map$6(function(t){return t},e[1])})));return op_DivideAtDivide(op_Dynamic$1(e[0],"addCall"),ofArray$$1([str(t),n]))})}function makeDataEmitter(t,e,n){return new Emitter(function(r){return e?op_DivideAtDivide(op_Dynamic$1(ident("series"),"create"),ofArray$$1([op_DivideAtDivide(op_Dynamic$1(r[0],"getData"),ofArray$$1([str(Transform.toUrl(reverse$1(n))),bool(t)])),str("key"),str("value"),str("")])):op_DivideAtDivide(op_Dynamic$1(ident("series"),"ordinal"),ofArray$$1([op_DivideAtDivide(op_Dynamic$1(r[0],"getData"),ofArray$$1([str(Transform.toUrl(reverse$1(n))),bool(t)])),str("key"),str("value"),str("")]))})}function makeProperty(t,e,n){var r=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),i=new Metadata("http://schema.thegamma.net/pivot","Fields",t.Fields);return new Member("Property",[e,makePivotType(t,n),ofArray$$1([r,i]),propertyEmitter])}function makeMethod(t,e,n,r,i){var o=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),s=new Metadata("http://schema.thegamma.net/pivot","Fields",t.Fields);return new Member("Method",[e,toList(delay(function(){return collect$1(function(t){return singleton$1([t[0],!1,new Type("Primitive",[t[1]])])},i)})),makePivotType(t,n),ofArray$$1([o,s]),makeMethodEmitter(r,i)])}function makeDataMember(t,e,n,r){var i=Transform.transformFields(t.InputFields,reverse$1(r));Log.trace("providers","Make data member using transform %O. Got fields: %O",r,i);var o=function(){var e=function(){var e=_Array$from(i).map(function(t){var e=getTypeAndEmitter(t.Type),n=new Emitter(function(n){return e[1](op_DivideQmarkDivide(n[0],str(t.Name)))});return new Member("Property",[t.Name,e[0],ofArray$$1([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),n])}),n=new Type("Object",[new ObjectType(e)]);return[t.LookupNamed("series")(ofArray$$1([new Type("Primitive",[new PrimitiveType("Number",[])]),n])),!1]};if(null!=r.tail){if("GetSeries"===r.head.Case){var n=function(){throw"makeDataMember: Series should have key and value"};if(null!=i.tail){if(null!=i.tail.tail){if(null==i.tail.tail.tail){var o=i.head,s=i.tail.head;return[t.LookupNamed("series")(ofArray$$1([new Type("Primitive",[o.Type]),new Type("Primitive",[s.Type])])),!0]}return n()}return n()}return n()}return e()}return e()}(),s=o[1]?r:new List$1(new Transformation("GetTheData",[]),r),a=new Metadata("http://schema.thegamma.net/pivot","Transformations",s),u=new Metadata("http://schema.thegamma.net/pivot","Fields",t.Fields);return new Member("Property",[e,o[0],ofArray$$1([a,u]),makeDataEmitter(n,o[1],s)])}function handleGetSeriesRequest(t,e,n,r){var i=[n,r],o=function(){throw"handleGetSeriesRequest: Should not happen"};return"!"===i[0]?"!"===i[1]?makeObjectType(toList(delay(function(){return map$6(function(n){return makeProperty(t,"with key "+n.Name,new List$1(new Transformation("GetSeries",[n.Name,"!"]),e))},t.Fields)}))):o():"!"===i[1]?makeObjectType(toList(delay(function(){return map$6(function(n){return makeDataMember(t,"and value "+n.Name,!1,new List$1(new Transformation("GetSeries",[i[0],n.Name]),e))},t.Fields)}))):o()}function handlePagingRequest(t,e,n,r){var i=makeMethod(t,"take",ofArray$$1([new Transformation("Empty",[]),new Transformation("Paging",[reverse$1(new List$1(new Paging("Take",[n+"-take"]),r))])],e),n+"-take",ofArray$$1([["count",new PrimitiveType("Number",[])]])),o=makeMethod(t,"skip",new List$1(new Transformation("Paging",[new List$1(new Paging("Skip",[n+"-skip"]),r)]),e),n+"-skip",ofArray$$1([["count",new PrimitiveType("Number",[])]])),s=makeProperty(t,"then",ofArray$$1([new Transformation("Empty",[]),new Transformation("Paging",[reverse$1(r)])],e));return makeObjectType(function(){var t=function(){throw"handlePagingRequest: Shold not happen"};return null!=r.tail?"Skip"===r.head.Case&&null==r.tail.tail?ofArray$$1([i,s]):t():ofArray$$1([o,i,s])}())}function handleDropRequest(t,e,n){var r=create$3(n,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return makeObjectType(toList(delay(function(){return append$2(singleton$1(makeProperty(t,"then",ofArray$$1([new Transformation("Empty",[]),new Transformation("DropColumns",[n])],e))),delay(function(){return collect$1(function(i){return r.has(i.Name)?empty():singleton$1(makeProperty(t,"drop "+i.Name,new List$1(new Transformation("DropColumns",[new List$1(i.Name,n)]),e)))},t.Fields)}))})))}function handleSortRequest(t,e,n){var r=create$3(map$5(function(t){return t[0]},n),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return makeObjectType(toList(delay(function(){return append$2(singleton$1(makeProperty(t,"then",ofArray$$1([new Transformation("Empty",[]),new Transformation("SortBy",[n])],e))),delay(function(){return collect$1(function(i){return r.has(i.Name)?empty():function(){var r=(fsFormat("Use the field '%s' as the next sorting keys")(function(t){return t})(i.Name),n.Equals(new List$1)?"by ":"and by ");return append$2(singleton$1(makeProperty(t,r+i.Name,new List$1(new Transformation("SortBy",[new List$1([i.Name,new SortDirection("Ascending",[])],n)]),e))),delay(function(){return singleton$1(makeProperty(t,r+i.Name+" descending",new List$1(new Transformation("SortBy",[new List$1([i.Name,new SortDirection("Descending",[])],n)]),e)))}));
}()},t.Fields)}))})))}function aggregationMembers(t,e,n,r){var i=exists$1(function(){var t=new Aggregation("CountAll",[]);return function(e){return t.Equals(e)}}(),r),o=function(t){return exists$1(function(e){var n=function(e){return e===t},r=function(){return!1};return"ReturnUnique"===e.Case?n(e.Fields[0]):"ConcatValues"===e.Case?n(e.Fields[0]):"Sum"===e.Case?n(e.Fields[0]):"Mean"===e.Case?n(e.Fields[0]):"CountAll"===e.Case?r():"GroupKey"===e.Case?r():n(e.Fields[0])},r)},s=function(i){return function(o){return makeProperty(t,i,new List$1(new Transformation("GroupBy",[n,new List$1(o,r)]),e))}};return toList(delay(function(){return append$2(singleton$1(makeProperty(t,"then",ofArray$$1([new Transformation("Empty",[]),new Transformation("GroupBy",[n,r])],e))),delay(function(){return append$2(i?empty():singleton$1(s("count all")(new Aggregation("CountAll",[]))),delay(function(){return collect$1(function(t){return o(t.Name)?empty():append$2(singleton$1(s("count distinct "+t.Name)(new Aggregation("CountDistinct",[t.Name]))),delay(function(){return append$2(singleton$1(s("return unique "+t.Name)(new Aggregation("ReturnUnique",[t.Name]))),delay(function(){return append$2(isConcatenable(t.Type)?singleton$1(s("concatenate values of "+t.Name)(new Aggregation("ConcatValues",[t.Name]))):empty(),delay(function(){return isNumeric(t.Type)?append$2(singleton$1(s("average "+t.Name)(new Aggregation("Mean",[t.Name]))),delay(function(){return singleton$1(s("sum "+t.Name)(new Aggregation("Sum",[t.Name])))})):empty()}))}))}))},t.Fields)}))}))}))}function handleGroupAggRequest(t,e,n,r){return makeObjectType(aggregationMembers(t,e,n,r))}function handleGroupRequest(t,e,n){var r=null==n.tail?"by ":"and ";return makeObjectType(toList(delay(function(){return append$2(map$6(function(i){return makeProperty(t,r+i.Name,new List$1(new Transformation("GroupBy",[new List$1(i.Name,n),new List$1]),e))},t.Fields),delay(function(){return null!=n.tail?aggregationMembers(t,e,n,ofArray$$1([new Aggregation("GroupKey",[])])):empty()}))})))}function handleFilterEqNeqRequest(t,e,n,r,i){return function(o){return o.Delay(function(){var s=concatUrl$1(concatUrl$1(t.Root,"range"),Transform.toUrl(reverse$1(new List$1(new Transformation("FilterBy",[i]),e))));return o.Bind(Http.Request("GET",s+"?"+n),function(s){var a=JSON.parse(s);return o.Return(makeObjectType(toList(delay(function(){return map$6(function(o){return makeProperty(t,o,new List$1(new Transformation("FilterBy",[new List$1([n,r,o],i)]),e))},a)}))))})})}(singleton$2)}function handleFilterRequest(t,e,n){var r=null==n.tail?"":"and ";return makeObjectType(toList(delay(function(){return append$2(collect$1(function(i){return append$2(singleton$1(makeProperty(t,r+i.Name+" is",new List$1(new Transformation("FilterBy",[new List$1([i.Name,!0,"!"],n)]),e))),delay(function(){return singleton$1(makeProperty(t,r+i.Name+" is not",new List$1(new Transformation("FilterBy",[new List$1([i.Name,!1,"!"],n)]),e)))}))},t.Fields),delay(function(){return null!=n.tail?singleton$1(makeProperty(t,"then",ofArray$$1([new Transformation("Empty",[]),new Transformation("FilterBy",[n])],e))):empty()}))})))}function makePivotTypeImmediate(t,e){return function(n){return n.Delay(function(){var r=null!=e.tail?[e.head,e.tail]:[new Transformation("Empty",[]),new List$1],i=function(){var e=Transform.transformFields(t.InputFields,reverse$1(r[1]));return new Context$2(t.Root,t.LookupNamed,t.InputFields,e)}(),o=function(t){return n.Return(handleFilterRequest(i,r[1],t))};if("GetSeries"===r[0].Case){var s=r[0].Fields[0],a=r[0].Fields[1];return n.Return(handleGetSeriesRequest(i,r[1],s,a))}if("Paging"===r[0].Case){var u=r[0].Fields[0],l=fsFormat("pgid-%d")(function(t){return t})(sumBy(function(t){return"Paging"===t.Case?1:0},r[1]));return n.Return(handlePagingRequest(i,r[1],l,u))}if("SortBy"===r[0].Case){var p=r[0].Fields[0];return n.Return(handleSortRequest(i,r[1],p))}if("DropColumns"===r[0].Case){var c=r[0].Fields[0];return n.Return(handleDropRequest(i,r[1],c))}if("FilterBy"===r[0].Case){if(null!=r[0].Fields[0].tail){if("!"===r[0].Fields[0].head[2]){var h=r[0].Fields[0].tail,f=r[0].Fields[0].head[1],d=r[0].Fields[0].head[0];return n.ReturnFrom(handleFilterEqNeqRequest(i,r[1],d,f,h))}return o(r[0].Fields[0])}return o(r[0].Fields[0])}if("GroupBy"===r[0].Case){if(null==r[0].Fields[1].tail){var y=r[0].Fields[0];return n.Return(handleGroupRequest(i,r[1],y))}var m=r[0].Fields[1],g=r[0].Fields[0];return n.Return(handleGroupAggRequest(i,r[1],g,m))}return"GetTheData"===r[0].Case?n.Return(function(){throw"makePivotTypeImmediate: Get the data shouldn't be of pivot type"}()):n.Return(makeObjectType(ofArray$$1([makeProperty(i,"group data",new List$1(new Transformation("GroupBy",[new List$1,new List$1]),r[1])),makeProperty(i,"filter data",new List$1(new Transformation("FilterBy",[new List$1]),r[1])),makeProperty(i,"sort data",new List$1(new Transformation("SortBy",[new List$1]),r[1])),makeProperty(i,"drop columns",new List$1(new Transformation("DropColumns",[new List$1]),r[1])),makeProperty(i,"paging",new List$1(new Transformation("Paging",[new List$1]),r[1])),makeProperty(i,"get series",new List$1(new Transformation("GetSeries",["!","!"]),r[1])),makeDataMember(i,"get the data",!1,r[1])])))})}(singleton$2)}function adjustForPreview(t){var e=function(){return t};if(null!=t.tail){if("GroupBy"===t.head.Case){if(null==t.head.Fields[0].tail){var n=t.tail;return n}if(null==t.head.Fields[1].tail){var r=t.head.Fields[0],i=t.tail;return new List$1(new Transformation("GroupBy",[r,ofArray$$1([new Aggregation("GroupKey",[])])]),i)}return e()}if("GetSeries"===t.head.Case){var o=t.tail;return o}return e()}return e()}function withPreview(t,e,n){return"Object"===n.Case?function(){var r=makeDataMember(t,"preview",!0,adjustForPreview(e));return new Type("Object",[new ObjectType([r].concat(n.Fields[0].Members))])}():function(){throw"withPreview: Expected object type"}()}function makePivotType(t,e){var n=Transform.toUrl(e),r=function(n){return n.Delay(function(){return n.TryWith(n.Delay(function(){return n.Bind(makePivotTypeImmediate(t,e),function(r){return n.Return(withPreview(t,e,r))})}),function(t){return Log.exn("providers","Failed when generating type for %O with exception %O",e,t),n.Return(function(){throw t}())})})}(singleton$2);return new Type("Delayed",["pivot: "+n,function(t){return function(e){return Async_CreateNamedFuture_Static(t,e)}}(n)(r)])}function providePivotType(t,e,n,r){var i=toList(delay(function(){return collect$1(function(t){return singleton$1(new Field(t[0],t[1]))},r)})),o=makePivotType(new Context$2(t,n,i,i),new List$1),s=ident("PivotContext"),a=new Metadata("http://schema.thegamma.net/pivot","Transformations",new List$1),u=new Metadata("http://schema.thegamma.net/pivot","Fields",i);return new ProvidedType("GlobalValue",[e,ofArray$$1([a,u]),new Expression("NewExpression",[s,ofArray$$1([str(concatUrl$1(t,"data")),new Expression("ArrayExpression",[new List$1,null])]),null]),o])}function pickMetaByType(t,e,n){return tryPick$$1(function(n){return n.Context===t&&n.Type===e?n.Data:null},n)}function pickPivotFields(t){var e=t.Entity,n=function(t){var e=pickMetaByType("http://schema.thegamma.net/pivot","Fields",t);if(null!=e)return e},r=function(){return null};return null!=e?"ChainElement"===e.Kind.Case?n(e.Meta):"GlobalValue"===e.Kind.Case?n(e.Meta):"Variable"===e.Kind.Case?n(e.Kind.Fields[1].Meta):r():r()}function pickPivotTransformations(t){var e=t.Entity,n=function(){return null};if(null==e)return n();if("ChainElement"!==e.Kind.Case){if("GlobalValue"===e.Kind.Case){e.Meta;return new List$1}return n()}var r=e.Meta,i=pickMetaByType("http://schema.thegamma.net/pivot","Transformations",r);return null!=i?i:void 0}function commandAtLocation(t,e){return tryFind$$1(function(e){return e.Range.Start<=t&&e.Range.End+1>=t},e.Body.Node)}function transformName(t){return"Empty"===t.Case?"empty":"FilterBy"===t.Case?"filter by":"GetSeries"===t.Case?"get series":"GetTheData"===t.Case?"get the data":"GroupBy"===t.Case?"group by":"Paging"===t.Case?"paging":"SortBy"===t.Case?"sort by":"drop columns"}function createPivotSections(t){var e=function t(e){return function(n){return function(r){var i=function(){return null==r.tail?function(){var t=new PivotSection(n[0],reverse$1(n[1]));return reverse$1(new List$1(t,e))}():function(){var i=r.head[1],o=r.head[0],s=new PivotSection(n[0],reverse$1(n[1]));return t(new List$1(s,e))([i.head,ofArray$$1([o]),i.length])(r.tail)}()};if(null!=r.tail){if(function(){var t=r.head[1];r.head[0];return transformName(t.head)===transformName(n[0])&&t.length===n[2]}()){var o=r.head[0],s=r.head[1],a=r.tail;return t(e)([s.head,new List$1(o,n[1]),n[2]])(a)}return i()}return i()}}},n=choose$1(function(t){var e=pickPivotTransformations(t);if(null==e)return null;var n=filter$2(function(t){return"Empty"!==t.Case},e);return null==n.tail?null:[t,n]},t);if(null==n.tail)return new List$1;var r=n.head[1],i=n.head[0];return e(new List$1)([r.head,ofArray$$1([i]),r.length])(n.tail)}function collectChain(t,e){var n=function(n,r){return collectChain(new List$1([r.Range.Start,e],t),n)},r=function(){return null};if("Call"===e.Node.Case)return null!=e.Node.Fields[0]?n(e.Node.Fields[0],e.Node.Fields[1]):r();if("Property"===e.Node.Case)return n(e.Node.Fields[0],e.Node.Fields[1]);if("Variable"===e.Node.Case){var i=e.Node.Fields[0];return new List$1([i.Range.Start,e],t)}return r()}function collectFirstChain(t){var e=collectChain(new List$1,t),n=function(){var e=_IExprLeafIExprNodeI_(t.Node);if("Choice2Of2"===e.Case){var n=function(){var n=e.Fields[0][0],r=e.Fields[0][1],i=function(){var e=function e(n){return function(i){return null!=i.tail?function(){var o=collectFirstChain(i.head);if(null==o)return e(new List$1(i.head,n))(i.tail);var s=function(){var e=o[0],s=o[1],a=function(o){var s=rebuildExprNode(i.head.Node,append$1(reverse$1(n),append$1(ofArray$$1([e(o)]),i.tail)),r);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,s,t.Entity)};return{v:[a,s]}}();return"object"===("undefined"==typeof s?"undefined":_typeof$1(s))?s.v:void 0}():null}};return{v:{v:e(new List$1)(n)}}}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}();if("object"===("undefined"==typeof n?"undefined":_typeof$1(n)))return n.v}};if(null!=e){if(null!=e.tail){var r=e;return[function(t){return t},r]}return n()}return n()}function withPivotState(t,e){return new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,e.Selection,t,e.CurrentPreview)}function findPreview(t,e,n){var r=new Name("preview"),i=function(){var t=n.Type;return null!=t?function(t){return reduceType(t)}(t):t}(),o=function(){var r=evaluate$1(e,n),i=function(){var t=r;return null!=t?function(t){return t.Preview.value}(t):t}();if(null==i)return text("preview could not be evaluated");var o=function(){Log.trace("live","Found preview value: %O",i);var e=function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","placeholder")]))(ofArray$$1([text("Loading preview...")])),n=!1;return function(t){startImmediate(t)}(function(r){return r.Delay(function(){return r.Bind(table.create(i).render(),function(i){return r.Combine(n?function(){return t(new LiveEvent("CustomEvent",[new PivotEditorAction("UpdatePreview",[i])])),r.Zero()}():function(){return e=i,r.Zero()}(),r.Delay(function(){return Log.trace("live","Evaluated to a node"),r.Zero()}))})})}(singleton$2)),n=!0,Log.trace("live","After evaluation started: %O",e),{v:e}}();return"object"===("undefined"==typeof o?"undefined":_typeof$1(o))?o.v:void 0},s=function(){return text("Does not have preview")};if(null!=i){if("Object"===i.Case){var a=_IFindMethodI_I_$1(r,i.Fields[0]);if(null!=a)return o();var u=_IFindPropertyI_I_$1(r,i.Fields[0]);return null!=u?o():s()}return s()}return s()}function updateBody(t,e){var n=commandAtLocation(e.Location,e.Program);if(null!=n){var r=(e.Mapper.AbsoluteToLineCol(n.Range.End+1),function(n){var r=collectFirstChain(n);if(null!=r){var i=function(){var i=(r[0],r[1]),o=createPivotSections(map$5(function(t){return t[1]},i)),s=i.head,a=tryLast(filter$2(function(t){return e.Location>=t[0]},i)),u=function(){return null};if(null==a)return{v:u()};if(!function(){a[1];return!(null==o.tail)}())return{v:u()};var l=function(){var r=a[1],i=findPreview(t,e.Globals,r.Entity),u=function(){var t=new PivotEditorMenus("Hidden",[]),e=null,a=r.Entity;return new PivotEditorState(n,s[1],i,o,a,t,e)}();return{v:{v:function(t){return withPivotState(u,t)}(e)}}}();return"object"===("undefined"==typeof l?"undefined":_typeof$1(l))?l.v:void 0}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}});return r("Let"===n.Node.Case?n.Node.Fields[1]:n.Node.Fields[0])}}function hideMenus(t){var e=function(){var e=new PivotEditorMenus("Hidden",[]);return new PivotEditorState(t.State.Body,t.State.FirstNode,t.State.Preview,t.State.Sections,t.State.SelectedEntity,e,t.State.Focus)}();return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}function editorLocation(t,e,n){var r=t.AbsoluteToLineCol(e),i=t.AbsoluteToLineCol(n);return new LineColumnRange(r[0],r[1],i[0],i[1])}function selectName(t,e){var n=function(){var e=function(t){return t.Range};return"Call"===t.Node.Case?e(t.Node.Fields[1]):"Property"===t.Node.Case?e(t.Node.Fields[1]):t.Range}(),r=editorLocation(e.Mapper,n.Start,n.End+1),i=r;return new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,i,e.State,e.CurrentPreview)}function tryTransformChain(t,e){var n=collectFirstChain(e.State.Body);if(null!=n){var r=n[0],i=n[1],o=createPivotSections(map$5(function(t){return t[1]},i));return hideMenus(t(e.State.Body)(r)(map$5(function(t){return t[1]},i))(o))}return hideMenus(e)}function replaceAndSelectMarker(t,e){var n=e.Code.indexOf(marker),r=replace$$1(e.Code,marker,escapeIdent(t)),i=new LocationMapper(e.Code),o=editorLocation(i,n,n+escapeIdent(t).length),s=o;return new LiveState(e.Globals,r,e.Program,e.Mapper,e.Location,s,e.State,e.CurrentPreview)}function reconstructChain(t,e,n){var r=fold$1(function(t,e){return"Property"===e.Node.Case?function(){var n=new Expr("Property",[t,e.Node.Fields[1]]);return new _Node(e.WhiteBefore,e.WhiteAfter,e.Range,n,e.Entity)}():"Call"===e.Node.Case?function(){var n=new Expr("Call",[t,e.Node.Fields[1],e.Node.Fields[2]]);return new _Node(e.WhiteBefore,e.WhiteAfter,e.Range,n,e.Entity)}():function(){throw"Unexpected node in call chain"}()},n.head,n.tail),i=trim(formatSingleExpression(r),"both"),o=t.Code.substr(0,e.Range.Start)+i+t.Code.substr(e.Range.End+1);return new LiveState(t.Globals,o,t.Program,t.Mapper,t.Location,t.Selection,t.State,t.CurrentPreview)}function createChainNode(t,e){var n=function(t){return node(new _Range(0,0),t)};if(null!=t){var r=map$5(function(t){return new Argument(null,n(t))},t);return n(new Expr("Call",[null,n(new Name(e)),n(r)]))}return n(new Expr("Property",[n(new Expr("Empty",[])),n(new Name(e))]))}function getWhiteBeforeAndAfterSections(t,e){var n=function(t){var e=toList(countBy(function(t){return t},t));return reduce(function(t){return function(e,n){return t(e)>t(n)?e:n}}(function(t){return""===t[0]?0:t[1]}),new List$1(["",0],e))[0]},r=[n(function(t){return map$5(function(t){return formatWhiteBeforeExpr(t)},t)}(map$5(function(t){return t.Nodes.head},e))),n(function(t){return map$5(function(t){return formatWhiteAfterExpr(t)},t)}(append$1(ofArray$$1([t]),map$5(function(t){return last(t.Nodes)},e))))];return Log.trace("live","Inserting whitespace before '%s' and after '%s' for sections: %O",r[0],r[1],e),[ofArray$$1([new Token(new TokenKind("White",[r[0]]),new _Range(0,0))]),ofArray$$1([new Token(new TokenKind("White",[r[1]]),new _Range(0,0))])]}function insertWhiteAroundSection(t,e,n){var r=n.Nodes.length-1;return new PivotSection(n.Transformation,mapIndexed$$1(function(n,i){var o=function(){var e=[t,i],r=function t(){var t=function(){return i};if(null!=e[0]){if("Call"===e[1].Node.Case){if(function(){e[1].Node.Fields[1],e[1].Node.Fields[0],e[0],e[1].Node.Fields[2];return 0===n}()){var r=e[1].Node.Fields[2],o=e[0],s=e[1].Node.Fields[0],a=e[1].Node.Fields[1],u=new Expr("Call",[s,new _Node(o,a.WhiteAfter,a.Range,a.Node,a.Entity),r]);return new _Node(i.WhiteBefore,i.WhiteAfter,i.Range,u,i.Entity)}return t()}return t()}return t()};if(null!=e[0]){if("Property"===e[1].Node.Case){if(function(){e[1].Node.Fields[1],e[1].Node.Fields[0],e[0];return 0===n}()){var o=e[0],s=e[1].Node.Fields[0],a=e[1].Node.Fields[1],u=new Expr("Property",[s,new _Node(o,a.WhiteAfter,a.Range,a.Node,a.Entity)]);return new _Node(i.WhiteBefore,i.WhiteAfter,i.Range,u,i.Entity)}return r()}return r()}return r()}(),s=function(){var t=[e,o],i=function(){return o};if(null!=t[0]){if(function(){t[0];return n===r}()){var s=t[0],a=t[1];return new _Node(a.WhiteBefore,s,a.Range,a.Node,a.Entity)}return i()}return i()}();return s},n.Nodes))}function updatePivotState(t,e,n){var r=function(){return function(e){return updateBody(t,e)}(hideMenus(e))};if("UpdateLocation"===n.Case)return r();if("InitializeGlobals"===n.Case)return e;if("CustomEvent"!==n.Case)return r();if("SwitchMenu"===n.Fields[0].Case)return withPivotState(new PivotEditorState(e.State.Body,e.State.FirstNode,e.State.Preview,e.State.Sections,e.State.SelectedEntity,n.Fields[0].Fields[0],e.State.Focus),e);if("SelectChainElement"===n.Fields[0].Case)return tryTransformChain(function(t){return function(t){return function(t){return function(r){var i=function t(n){return function(r){var i=function(){return null==r.tail?[n,n,n]:null==r.tail.tail?function(){var t=r.head;return[n,t,t]}():function(){var t=r.tail.head,e=r.head;return[n,e,t]}()};if(null!=r.tail){if(r.head.Range.End+1<e.Location){var o=r.head,s=r.tail;return t(o)(s)}return i()}return i()}},o=i(t.head)(t.tail);return selectName(n.Fields[0].Fields[0]<0?o[0]:n.Fields[0].Fields[0]>0?o[2]:o[1],e)}}}},e);if("SelectRange"===n.Fields[0].Case)return function(){var t=editorLocation(e.Mapper,n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End+1);return new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,t,e.State,e.CurrentPreview)}();if("ReplaceRange"!==n.Fields[0].Case)return"AddElement"===n.Fields[0].Case?tryTransformChain(function(t){return function(r){return function(r){return function(i){var o=collect$$1(function(t){return ofArray$$1(equals$1(t.Entity.Symbol,n.Fields[0].Fields[0])?[t,createChainNode(n.Fields[0].Fields[2],marker)]:[t])},r);return function(t){return replaceAndSelectMarker(n.Fields[0].Fields[1],t)}(reconstructChain(e,t,o))}}}},e):"ReplaceElement"===n.Fields[0].Case?tryTransformChain(function(t){return function(r){return function(r){return function(i){var o=map$5(function(t){return equals$1(t.Entity.Symbol,n.Fields[0].Fields[0])?createChainNode(n.Fields[0].Fields[2],marker):t},r);return function(t){return replaceAndSelectMarker(n.Fields[0].Fields[1],t)}(reconstructChain(e,t,o))}}}},e):"RemoveElement"===n.Fields[0].Case?tryTransformChain(function(t){return function(r){return function(r){return function(i){var o=tryLast(toList(takeWhile(function(t){return!equals$1(t.Entity.Symbol,n.Fields[0].Fields[0])},r))),s=null!=o?o:r.head,a=filter$2(function(t){return!equals$1(t.Entity.Symbol,n.Fields[0].Fields[0])},r);return function(t){return selectName(s,t)}(reconstructChain(e,t,a))}}}},e):"RemoveSection"===n.Fields[0].Case?tryTransformChain(function(t){return function(r){return function(r){return function(i){var o=tryLast(toList(takeWhile(function(t){return!equals$1(t.Entity.Symbol,n.Fields[0].Fields[0])},map$5(function(t){return t.Nodes.head},i)))),s=null!=o?o:r.head,a=filter$2(function(t){return!equals$1(t.Nodes.head.Entity.Symbol,n.Fields[0].Fields[0])},i),u=new List$1(r.head,collect$$1(function(t){return t.Nodes},a));return function(t){return selectName(s,t)}(reconstructChain(e,t,u))}}}},e):"AddTransform"===n.Fields[0].Case?tryTransformChain(function(t){return function(r){return function(r){return function(i){var o=getWhiteBeforeAndAfterSections(r.head,i),s=tryPick$$1(function(t){return pickPivotFields(t)},reverse$1(collect$$1(function(t){return t.Nodes},i))),a="SortBy"===n.Fields[0].Fields[0].Case?["sort data",ofArray$$1([marker,"then"])]:"FilterBy"===n.Fields[0].Fields[0].Case?["filter data",ofArray$$1([marker,"then"])]:"Paging"===n.Fields[0].Fields[0].Case?["paging",ofArray$$1([marker,"then"])]:"GetSeries"===n.Fields[0].Fields[0].Case?["get series",ofArray$$1([marker])]:"GetTheData"===n.Fields[0].Fields[0].Case?["get the data",ofArray$$1([marker])]:"GroupBy"===n.Fields[0].Fields[0].Case?["group data",function(){var t=function(){return ofArray$$1([marker,"by Property","then"])};if(null!=s){if(null!=s.tail){var e=s.head;return ofArray$$1([marker,"by "+e.Name,"then"])}return t()}return t()}()]:"Empty"===n.Fields[0].Fields[0].Case?["",new List$1]:["drop columns",ofArray$$1([marker,"then"])],u=insertWhiteAroundSection(o[0],o[1],new PivotSection(n.Fields[0].Fields[0],map$5(function(){var t=null;return function(e){return createChainNode(t,e)}}(),a[1]))),l=function(t){return null==t.tail?new List$1:function(){var e=function(){var e=[t.head.Transformation,last(t.head.Nodes)],n=function n(){var n=function(){var e=append$1(t.head.Nodes,ofArray$$1([createChainNode(null,"then")]));return new PivotSection(t.head.Transformation,e)};if("Property"===e[1].Node.Case){if(function(){var t=e[1].Node.Fields[1];return"then"===t.Node.Name}()){e[1].Node.Fields[1];return t.head}return n()}return n()};if("Paging"===e[0].Case){if("Call"===e[1].Node.Case){if(function(){var t=e[1].Node.Fields[1];return"take"===t.Node.Name}()){e[1].Node.Fields[1];return t.head}return n()}return n()}return n()}();return new List$1(insertWhiteAroundSection(null,o[1],e),t.tail)}()},p=function(){var t=reverse$1(i),e=function(t,e){return reverse$1(ofArray$$1([t,u],l(e)))},n=function(t){return reverse$1(new List$1(u,l(t)))};return null!=t.tail?"GetSeries"===t.head.Transformation.Case?e(t.head,t.tail):"GetTheData"===t.head.Transformation.Case?e(t.head,t.tail):n(t):n(t)}();Log.trace("live","Inserted section: %O",_Array$from(p));var c=new List$1(r.head,collect$$1(function(t){return t.Nodes},p));return function(t){return replaceAndSelectMarker(a[0],t)}(reconstructChain(e,t,c))}}}},e):withPivotState(new PivotEditorState(e.State.Body,e.State.FirstNode,n.Fields[0].Fields[0],e.State.Sections,e.State.SelectedEntity,e.State.Menus,e.State.Focus),e);var i=function(){Log.trace("live","Replace '%s' with '%s'",e.Code.substr(n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End-n.Fields[0].Fields[0].Start+1),n.Fields[0].Fields[1]);var t=e.Code.substr(0,n.Fields[0].Fields[0].Start)+n.Fields[0].Fields[1]+e.Code.substr(n.Fields[0].Fields[0].End+1),r=editorLocation(new LocationMapper(t),n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].Start+n.Fields[0].Fields[1].length);return{v:function(){var n=r;return new LiveState(e.Globals,t,e.Program,e.Mapper,e.Location,n,e.State,e.CurrentPreview)}()}}();return"object"===("undefined"==typeof i?"undefined":_typeof$1(i))?i.v:void 0}function renderNodeList(t,e){return toList(delay(function(){return collect$1(function(e){var n=function(){return empty()};if("Property"===e.Node.Case){if("then"!==e.Node.Fields[1].Node.Name){var r=e.Node.Fields[1];return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",t(new PivotEditorAction("SelectRange",[r.Range])))]))(ofArray$$1([text(r.Node.Name)])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",t(new PivotEditorAction("RemoveElement",[e.Entity.Symbol])))]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-times")]))(new List$1)]))])))}return n()}return n()},e)}))}function renderContextMenu(t){return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsGreater("class","right"),op_EqualsBangGreater("click",t(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("ContextualDropdownOpen",[])])))]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-plus")]))(new List$1)]))}function renderAddPropertyMenu(t,e,n){return toList(delay(function(){var r=find$$1(function(t){return"Property"!==t.Node.Case||function(){var e=t.Node.Fields[1];return"then"!==e.Node.Name}()},reverse$1(n)),i=r.Entity.Type,o=function(){return empty()};if(null==i)return o();if("Object"!==i.Case)return o();var s=function(){var n=i.Fields[0],o=sortWith(function(t,e){return compare(t,e)},choose$2(function(t){var n=function(){return null};if("Property"===t.Case){if(e(t.Fields[0])){var r=t.Fields[0];return r}return n()}return n()},n.Members));return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("ul")(new List$1)(toList(delay(function(){return map$6(function(e){return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",t(new PivotEditorAction("AddElement",[r.Entity.Symbol,e,null])))]))(ofArray$$1([text(e)]))]))},o)}))))}}();return"object"===("undefined"==typeof s?"undefined":_typeof$1(s))?s.v:void 0}))}function renderSection(t,e){var n=function(e){return function(n){return function(n){n.cancelBubble=!0,t(new LiveEvent("CustomEvent",[e]))}}},r=function(e){return function(n){return function(r){r.cancelBubble=!0,t(new LiveEvent("CustomEvent",[e(n)]))}}},i=function(t){var e=function(){return["",null]};if(null!=t){if("Property"===t.Node.Case){if(null!=t.Entity){var n=t.Entity,r=t.Node.Fields[1];return[r.Node.Name,n.Symbol]}return e()}return e()}return e()};return toList(delay(function(){var o=function(){return empty()};if(null==e)return o();if("GetSeries"===e.Transformation.Case){var s=function(){var t=e.Nodes,n=null!=t.tail?null!=t.tail.tail?null!=t.tail.tail.tail?function(){var e=t.head,n=t.tail.head,r=t.tail.tail.head;return[e,n,r]}():function(){var e=t.head,n=t.tail.head;return[e,n,null]}():function(){var e=t.head;return[e,null,null]}():function(){throw"No get series node in get series transformation"}(),o=i(n[1]),s=i(n[2]);return{v:append$2(function(){var t=n[0].Entity.Type,e=function(){return empty()};if(null==t)return e();if("Object"!==t.Case)return e();var i=function(){var e=t.Fields[0];return{v:append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(ofArray$$1([text("with key")]))),delay(function(){return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("select")(ofArray$$1([op_EqualsBangGreater("change",r(function(t){return null!=o[1]?new PivotEditorAction("ReplaceElement",[o[1],t.value,null]):new PivotEditorAction("AddElement",[n[0].Entity.Symbol,t.value,null])}))]))(toList(delay(function(){return append$2(""===o[0]?singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("option")(ofArray$$1([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray$$1([text("")]))):empty(),delay(function(){return collect$1(function(t){var e=function(){return empty()};if("Property"!==t.Case)return e();if(0!==t.Fields[0].indexOf("with key"))return e();var n=function(){var e=t.Fields[0];return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("option")(toList(delay(function(){return append$2(singleton$1(op_EqualsGreater("value",e)),delay(function(){return o[0]===e?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray$$1([text(replace$$1(e,"with key ",""))])))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$1(n))?n.v:void 0},e.Members)}))}))))}))}}();return"object"===("undefined"==typeof i?"undefined":_typeof$1(i))?i.v:void 0}(),delay(function(){var t=function(){return empty()};if(null==n[1])return t();if(null==n[1].Entity)return t();if(null==n[1].Entity.Type)return t();if("Object"!==n[1].Entity.Type.Case)return t();var e=function(){var t=n[1].Entity,e=n[1].Entity.Type.Fields[0];return{v:append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(ofArray$$1([text("and value")]))),delay(function(){return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("select")(ofArray$$1([op_EqualsBangGreater("change",r(function(e){return null!=s[1]?new PivotEditorAction("ReplaceElement",[s[1],e.value,null]):new PivotEditorAction("AddElement",[t.Symbol,e.value,null])}))]))(toList(delay(function(){return append$2(""===s[0]?singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("option")(ofArray$$1([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray$$1([text("")]))):empty(),delay(function(){return collect$1(function(t){var e=function(){return empty()};if("Property"!==t.Case)return e();if(0!==t.Fields[0].indexOf("and value"))return e();var n=function(){var e=t.Fields[0];return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("option")(toList(delay(function(){return append$2(singleton$1(op_EqualsGreater("value",e)),delay(function(){return s[0]===e?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray$$1([text(replace$$1(e,"and value ",""))])))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$1(n))?n.v:void 0},e.Members)}))}))))}))}}();return"object"===("undefined"==typeof e?"undefined":_typeof$1(e))?e.v:void 0}))}}();if("object"===("undefined"==typeof s?"undefined":_typeof$1(s)))return s.v}else if("GroupBy"===e.Transformation.Case){var a=function(){var t=e.Nodes,o=null!=t.tail?null!=t.tail.tail?function(){var e=t.tail.tail,n=t.head,r=t.tail.head;return[n,r,e]}():function(){var e=t.head;return[e,null,new List$1]}():function(){throw"No group by node in group by transformation"}(),s=i(o[1]);return{v:append$2(function(){var t=o[0].Entity.Type,e=function(){return empty()};if(null==t)return e();if("Object"!==t.Case)return e();var n=function(){var e=t.Fields[0];return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("select")(ofArray$$1([op_EqualsBangGreater("change",r(function(t){return null!=s[1]?new PivotEditorAction("ReplaceElement",[s[1],t.value,null]):new PivotEditorAction("AddElement",[o[0].Entity.Symbol,t.value,null])}))]))(toList(delay(function(){return append$2(""===s[0]?singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("option")(ofArray$$1([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray$$1([text("")]))):empty(),delay(function(){return collect$1(function(t){var e=function(){return empty()};if("Property"!==t.Case)return e();if(0!==t.Fields[0].indexOf("by"))return e();var n=function(){var e=t.Fields[0];return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("option")(toList(delay(function(){return append$2(singleton$1(op_EqualsGreater("value",e)),delay(function(){return s[0]===e?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray$$1([text(e)])))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$1(n))?n.v:void 0},e.Members)}))}))))}}();return"object"===("undefined"==typeof n?"undefined":_typeof$1(n))?n.v:void 0}(),delay(function(){return append$2(renderNodeList(n,o[2]),delay(function(){return singleton$1(renderContextMenu(n))}))}))}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}else if("Paging"===e.Transformation.Case){var u=function(){var r=e.Nodes,i=create$3(map$5(function(t){return"Call"===t.Node.Case?function(){var e=t.Node.Fields[1];return e.Node.Name}():""},r),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return{v:append$2(collect$1(function(e){var r=function(){return empty()};if("Call"!==e.Node.Case)return r();if(null==e.Node.Fields[2].Node.tail)return r();
if(null!=e.Node.Fields[2].Node.tail.tail)return r();var i=function(){var r=e.Node.Fields[2].Node.head,i=e.Node.Fields[1],o="take"===i.Node.Name?new PivotEditorAction("ReplaceElement",[e.Entity.Symbol,"then",null]):new PivotEditorAction("RemoveElement",[e.Entity.Symbol]);return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[i.Range])))]))(ofArray$$1([text(i.Node.Name)])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("input")(ofArray$$1([op_EqualsGreater("id","input-pg-"+i.Node.Name),op_EqualsBangGreater("input",function(e){return function(n){var i=e,o=parseProgram(i.value);0===o[1].length&&1===o[0].Body.Node.length?(e.setCustomValidity(""),t(new LiveEvent("CustomEvent",[new PivotEditorAction("ReplaceRange",[r.Value.Range,i.value])]))):e.setCustomValidity("Cannot parse expression")}}),op_EqualsGreater("value",formatSingleExpression(r.Value))]))(new List$1),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(o))]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-times")]))(new List$1)]))])))}}();return"object"===("undefined"==typeof i?"undefined":_typeof$1(i))?i.v:void 0},r),delay(function(){return i.has("take")&&i.has("skip")?empty():singleton$1(renderContextMenu(n))}))}}();if("object"===("undefined"==typeof u?"undefined":_typeof$1(u)))return u.v}else{if("SortBy"!==e.Transformation.Case){if("DropColumns"===e.Transformation.Case){var l=e.Nodes;return append$2(renderNodeList(n,l.tail),delay(function(){return singleton$1(renderContextMenu(n))}))}return o()}var p=function(){var t=e.Nodes,r=choose$1(function(t){var e=function(){return null};if("Property"===t.Node.Case){if(null!=t.Entity){if(function(){var e=(t.Entity.Symbol,t.Node.Fields[1]);return"then"!==e.Node.Name&&"sort data"!==e.Node.Name}()){var n=t.Node.Fields[1],r=t.Entity.Symbol;return[r,n]}return e()}return e()}return e()},t),i=tryLast(r);return{v:append$2(collect$1(function(t){return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(toList(delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[t[1].Range])))]))(ofArray$$1([text(t[1].Node.Name)]))),delay(function(){return t[1].Node.Name===i[1].Node.Name?singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveElement",[t[0]])))]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-times")]))(new List$1)]))):empty()}))}))))},r),delay(function(){return singleton$1(renderContextMenu(n))}))}}();if("object"===("undefined"==typeof p?"undefined":_typeof$1(p)))return p.v}}))}function renderPivot(t,e){var n=function(e){return function(n){return function(n){n.cancelBubble=!0,t(new LiveEvent("CustomEvent",[e]))}}},r=tryFind$$1(function(t){return exists$1(function(t){return equals$1(e.State.SelectedEntity.Symbol,t.Entity.Symbol)},t.Nodes)},e.State.Sections),i=e.State.FirstNode,o=function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(toList(delay(function(){return append$2(singleton$1(op_EqualsGreater("class","pivot-preview")),delay(function(){return e.State.Menus.Equals(new PivotEditorMenus("Hidden",[]))?empty():singleton$1(op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("Hidden",[])]))))}))})))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("ul")(ofArray$$1([op_EqualsGreater("class","tabs")]))(toList(delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(ofArray$$1([op_EqualsGreater("class",equals$1(e.State.SelectedEntity.Symbol,i.Entity.Symbol)?"selected":"")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[i.Range])))]))(toList(delay(function(){return singleton$1("Variable"===i.Node.Case?text(i.Node.Fields[0].Node.Name):text("data"))})))]))),delay(function(){return append$2(map$6(function(t){var r=exists$1(function(t){return equals$1(e.State.SelectedEntity.Symbol,t.Entity.Symbol)},t.Nodes),i=t.Nodes.head.Entity.Symbol,o=function(){var e=function(t){return t.Range},n=function(){throw"Unexpected node in pivot call chain"};return null!=t.Nodes.tail?"Variable"===t.Nodes.head.Node.Case?e(t.Nodes.head.Node.Fields[0]):"Call"===t.Nodes.head.Node.Case?e(t.Nodes.head.Node.Fields[1]):"Property"===t.Nodes.head.Node.Case?e(t.Nodes.head.Node.Fields[1]):n():n()}();return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(ofArray$$1([op_EqualsGreater("class",r?"selected":"")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[o])))]))(ofArray$$1([text(transformName(t.Transformation))])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveSection",[i])))]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-times")]))(new List$1)]))]))},e.State.Sections),delay(function(){return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(ofArray$$1([op_EqualsGreater("class",e.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?"add selected":"add")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("AddDropdownOpen",[])])))]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-plus")]))(new List$1)]))])))}))}))}))),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var t=function(t){return op_EqualsBangGreater("click",n(new PivotEditorAction("AddTransform",[t])))};return e.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("ul")(new List$1)(toList(delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("DropColumns",[new List$1]))]))(ofArray$$1([text("drop columns")]))]))),delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("FilterBy",[new List$1]))]))(ofArray$$1([text("filter by")]))]))),delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("GroupBy",[new List$1,new List$1]))]))(ofArray$$1([text("group by")]))]))),delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("Paging",[new List$1]))]))(ofArray$$1([text("paging")]))]))),delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("SortBy",[new List$1]))]))(ofArray$$1([text("sort by")]))]))),delay(function(){var n=exists$1(function(t){var e=function(){return!0};return"GetTheData"===t.Transformation.Case?e():"GetSeries"===t.Transformation.Case&&e()},e.State.Sections);return n?empty():append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("GetTheData",[]))]))(ofArray$$1([text("get the data")]))]))),delay(function(){return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([t(new Transformation("GetSeries",["!","!"]))]))(ofArray$$1([text("get series")]))])))}))}))}))}))}))}))})))):empty()}))),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","toolbar")]))(toList(delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(ofArray$$1([op_EqualsGreater("class","navig")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[-1]))),op_EqualsGreater("class","fa fa-chevron-left")]))(new List$1)])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[0]))),op_EqualsGreater("class","fa fa-circle")]))(new List$1)])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[1]))),op_EqualsGreater("class","fa fa-chevron-right")]))(new List$1)]))]))),delay(function(){return renderSection(t,r)}))}))),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var t=[e.State.Menus,r],i=function(){return empty()};if("ContextualDropdownOpen"!==t[0].Case)return i();if(null==t[1])return i();if("Paging"!==t[1].Transformation.Case){if("GroupBy"===t[1].Transformation.Case){var o=t[1].Nodes;return renderAddPropertyMenu(n,function(t){return"then"!==t&&"preview"!==t&&!(0===t.indexOf("and"))},o)}if("SortBy"===t[1].Transformation.Case){var s=t[1].Nodes;return renderAddPropertyMenu(n,function(t){return"then"!==t&&"preview"!==t},s)}if("DropColumns"===t[1].Transformation.Case){var a=t[1].Nodes;return renderAddPropertyMenu(n,function(t){return"then"!==t&&"preview"!==t},a)}return i()}var u=function(){var e=t[1].Nodes,r=new _Map(choose$1(function(t){var e=function(t,e){return[e.Node.Name,t.Symbol]};return"Property"===t.Node.Case?e(t.Entity,t.Node.Fields[1]):"Call"===t.Node.Case?e(t.Entity,t.Node.Fields[1]):void 0},e)),i=last(e).Entity.Symbol,o=e.head.Entity.Symbol;return{v:singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("ul")(new List$1)(toList(delay(function(){return append$2(r.has("take")?empty():function(){var t=r.has("then")?new PivotEditorAction("ReplaceElement",[r.get("then"),"take",ofArray$$1([new Expr("Number",[10])])]):new PivotEditorAction("AddElement",[i,"take",ofArray$$1([new Expr("Number",[10])])]);return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(t))]))(ofArray$$1([text("take")]))])))}(),delay(function(){return r.has("skip")?empty():function(){var t=new PivotEditorAction("AddElement",[o,"skip",ofArray$$1([new Expr("Number",[10])])]);return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsBangGreater("click",n(t))]))(ofArray$$1([text("skip")]))])))}()}))}))))}}();return"object"===("undefined"==typeof u?"undefined":_typeof$1(u))?u.v:void 0}))),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton$1(e.State.Preview)})))])),s=e.Mapper.AbsoluteToLineCol(e.State.Body.Range.End);return new LiveEditorZone(s[0],o)}function commandAtLocation$1(t,e){return tryFind$$1(function(e){return e.Range.Start<=t&&e.Range.End+1>=t},e.Body.Node)}function updateBody$1(t,e){Log.trace("live","Showable - updating body");var n=commandAtLocation$1(e.Location,e.Program),r=function(){return null};if(null==n)return r();if("Expr"!==n.Node.Case)return r();if(null==n.Entity)return r();if("RunCommand"!==n.Entity.Kind.Case)return r();var i=function(){var t=n,r=(n.Node.Fields[0],n.Entity.Kind.Fields[0]),i=reduceType(r.Type);if("Object"===i.Case){var o=i.Fields[0].Members,s=o.some(function(t){var e=function(){return!1};return"Method"===t.Case&&"show"===t.Fields[0]&&null!=t.Fields[1].tail&&"Primitive"===t.Fields[1].head[2].Case&&"String"===t.Fields[1].head[2].Fields[0].Case?null==t.Fields[1].tail.tail||e():e()});if(s){var a=function(){var n=evaluate$1(e.Globals,r);if(null!=n){var i=function(){var i=equals$1(r.Symbol,e.State.PreviewSymbol)?e.State.PreviewID:e.State.PreviewID+1,o=function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","placeholder")]))(ofArray$$1([text("Loading preview...")])),s=function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(new List$1)(ofArray$$1([function(t){return function(e){return function(n){return h$$1.delayed(t,e,n)}}}(String(i))(o)(function(t){Log.trace("live","Show: %O",n.Value),n.Value.show(t)})]));return{v:{v:{v:function(){var n=new ShowableEditorState(t.Range.End,s,r.Symbol,i);return new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,e.Selection,n,e.CurrentPreview)}()}}}}();if("object"===("undefined"==typeof i?"undefined":_typeof$1(i)))return i.v}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}}}();return"object"===("undefined"==typeof i?"undefined":_typeof$1(i))?i.v:void 0}function updateShowableState(t,e,n){var r=function(){return function(e){return updateBody$1(t,e)}(e)},i=function(){return e};return"UpdateLocation"===n.Case?r():"InitializeGlobals"===n.Case?i():"CustomEvent"===n.Case?i():r()}function renderShowable(t,e){var n=e.Mapper.AbsoluteToLineCol(e.State.EndLocation),r=function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","pivot-preview")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("ul")(ofArray$$1([op_EqualsGreater("class","tabs")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("li")(ofArray$$1([op_EqualsGreater("class","selected")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(new List$1)(ofArray$$1([text("preview")]))]))])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton$1(e.State.Preview)})))]));return new LiveEditorZone(n[0],r)}function getColorClass(t){var e=function(){return"ident"},n=function(){return"keyword"};return"String"===t.Case?"string":"QIdent"===t.Case?e():"Ident"===t.Case?e():"Dot"===t.Case?"operator":"By"===t.Case?n():"To"===t.Case?n():"Let"===t.Case?n():"Boolean"===t.Case?n():"Fun"===t.Case?n():"Arrow"===t.Case?n():"Number"===t.Case?"number":""}function createCompletionProvider(t){var e,n,r;return n={},n[_Symbol.interfaces]="Fable.Import.monaco.languages.CompletionItemProvider",e="triggerCharacters",r={},r[e]=r[e]||{},r[e].get=function(){return _Array$from(ofArray$$1(["."]))},n.provideCompletionItems=function(e,n,r){return function(t){return startAsPromise(t)}(function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){var i=t(e.uri.toString()),o=e.getValue(1,!1);Log.event("editor","completions","",{source:o,position:n});var s=new LocationMapper(o),a=s.LineColToAbsolute((n.lineNumber+2147483648>>>0)-2147483648,(n.column+2147483648>>>0)-2147483648);return r.Bind(i.TypeCheck(o),function(t){var e=tryPick$$1(function(t){var e=function e(){var e=function(){return null};if("NamedMember"===t[1].Kind.Case){if(null!=t[1].Kind.Fields[1].Type){var n=t[1].Kind.Fields[0];t[1].Kind.Fields[1].Type;return Log.trace("completions","Ignoring '%s' at location %s-%s (current=%s)",n.Name,t[0].Start,t[0].End,a),null}return e()}return e()};if("NamedMember"!==t[1].Kind.Case)return e();if(null==t[1].Kind.Fields[1].Type)return e();if(!function(){t[1].Kind.Fields[1].Type;return a>=t[0].Start&&a<=t[0].End+1}())return e();var n=t[1].Kind.Fields[1].Type;Log.trace("completions","Antecedant at current location: %O",n);var r=reduceType(n);if("Object"===r.Case){var i=r.Fields[0].Members;return[t[0],i]}},t[1].Entities),n=function(t){var e=s.AbsoluteToLineCol(t.Start),n=s.AbsoluteToLineCol(t.End),r={};return r.startColumn=e[1],r.startLineNumber=e[0],r.endColumn=n[1]+1,r.endLineNumber=n[0],r};if(null==e)return Log.trace("completions","no members at %s",a),r.Return(_Array$from(new List$1));var i=function(){var t=e[0],i=e[1],o=n(t);Log.trace("completions","providing %s members at %O",i.length,o);var s=toList(delay(function(){return map$6(function(t){var e={},n="Property"===t.Case?[t.Fields[0],9]:[t.Fields[0],1];if(e.kind=n[1],e.label=n[0],e.insertText=escapeIdent(n[0]),e.filterText=n[0],"Method"===t.Case){var r=function(){var t=function(t){return function(e){return t[1].length>100?[new List$1(t[1],t[0]),e]:[t[0],""===t[1]?e:t[1]+","+e]}},e=[new List$1,""];return function(n){return fold$1(function(e,n){return t(e)(n)},[e[0],e[1]],n)}}()(toList(delay(function(){return collect$1(function(t){return singleton$1((t[1]?"?":"")+t[0])},t.Fields[1])}))),i=join(",\n",reverse$1(new List$1(r[1],r[0])));e.documentation="("+i+")"}var s={};return s.text=escapeIdent(n[0]),s.range=o,e.textEdit=s,e},i)}));return Log.trace("completions","returning %O",_Array$from(s)),{v:r.Return(_Array$from(s))}}();return"object"===("undefined"==typeof i?"undefined":_typeof$1(i))?i.v:void 0})}),function(t){return Log.exn("completions","completions failed %O",t),r.Return([])})})}(singleton$2))},n.resolveCompletionItem=function(t,e){return t},_defineEnumerableProperties(n,r),n}function getService(t){return createdEditors.get(t)}function setupMonacoServices(){var t={};t.id="thegamma",monaco$1.languages.setTokensProvider("thegamma",tokensProvider),monaco$1.languages.registerCompletionItemProvider("thegamma",createCompletionProvider(function(t){return getService(t)})),monaco$1.languages.register(t)}function createMonacoEditor(t,e,n,r){0===createdEditors.size&&setupMonacoServices();var i={},o={},s={};s.vertical="none",s.horizontal="auto",o.scrollbar=s,o.value=e,o.language="thegamma",o.lineNumbersMinChars=3,o.contextmenu=!1,o.scrollBeyondLastLine=!1,o.overviewRulerLanes=0,r(o);var a=monaco$1.editor.create(document.getElementById(t),o,i);return createdEditors.set(a.getModel().uri.toString(),n),a}function buildGlobalsTable(t){return function(t){return function(e){return Async_StartAsNamedFuture_Static(t,e)}}("buildGlobalsTable")(function(e){return e.Delay(function(){var n=create$4(null,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),r=function(t){return function(e){var r=tryFind$1(t,n);if(null==r)throw Log.error("Could not find named type '%s'",t),fsFormat("Could not find named type '%s'")(function(t){return t})(t);var i=r[1],o=r[0];if(i.length!==e.length)throw Log.error("Named type '%s' has mismatching length of type arguments",t),fsFormat("Named type '%s' has mismatching length of type arguments")(function(t){return t})(t);return i.length>0?new Type("App",[o,e]):o}};return e.Bind(t(r),function(t){var r=toList(delay(function(){return append$2(singleton$1(new ProvidedType("NamedType",["value",ofArray$$1(["a"]),new Type("Any",[])])),delay(function(){return append$2(singleton$1(new ProvidedType("NamedType",["object",new List$1,new Type("Any",[])])),delay(function(){return append$2(singleton$1(new ProvidedType("NamedType",["seq",ofArray$$1(["a"]),new Type("Any",[])])),delay(function(){return append$2(singleton$1(new ProvidedType("NamedType",["async",ofArray$$1(["a"]),new Type("Any",[])])),delay(function(){return t}))}))}))}))}));n=create$4(choose$2(function(t){return"NamedType"===t.Case?[t.Fields[0],[t.Fields[2],t.Fields[1]]]:null},r),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));var i=choose$1(function(t){return"GlobalValue"===t.Case?globalEntity(t.Fields[0],t.Fields[1],t.Fields[3],t.Fields[2]):null},r);return e.Return(i)})})}(singleton$2))}function callShowMethod(t,e){var n=function(){return e};if("Expr"===e.Node.Case){if(null!=e.Node.Fields[0].Entity){if(null!=e.Node.Fields[0].Entity.Type){var r=e.Node.Fields[0],i=e.Node.Fields[0].Entity.Type,o=reduceType(i);if("Object"===o.Case){var s=o.Fields[0].Members,a=s.some(function(t){var e=function(){return!1};return"Method"===t.Case&&"show"===t.Fields[0]&&null!=t.Fields[1].tail&&"Primitive"===t.Fields[1].head[2].Case&&"String"===t.Fields[1].head[2].Fields[0].Case?null==t.Fields[1].tail.tail||e():e()});if(a){var u=new _Range(e.Range.End,e.Range.End),l=node(u,new Expr("String",[t])),p=ofArray$$1([new Argument(null,l)]),c=node(u,new Expr("Call",[r,node(u,new Name("show")),node(u,p)]));return node(e.Range,new Command("Expr",[c]))}return e}return e}return n()}return n()}return n()}function _evaluate(ctx,code,outputId){return function(builder_){return builder_.Delay(function(){return builder_.Bind(ctx.checkingService.TypeCheck(code),function(_arg1){var newBody=null!=outputId?map$5(function(t){return callShowMethod(outputId,t)},_arg1[2].Body.Node):_arg1[2].Body.Node,prog=new Program$$1(new _Node(_arg1[2].Body.WhiteBefore,_arg1[2].Body.WhiteAfter,_arg1[2].Body.Range,newBody,_arg1[2].Body.Entity));return builder_.Bind(compile(ctx.providers.globals,code,prog),function(_arg2){var s=series.create(function(t){return t.Delay(function(){return t.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),timeline$1.create(s),series.values(new Int32Array([1])),builder_.Return(eval(_arg2))})})})}(singleton$2)}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_defined=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},defined=_defined,_toObject=function(t){return Object(defined(t))},hasOwnProperty={}.hasOwnProperty,_has=function(t,e){return hasOwnProperty.call(t,e)},toString$1={}.toString,_cof=function(t){return toString$1.call(t).slice(8,-1)},cof=_cof,_iobject=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==cof(t)?t.split(""):Object(t)},IObject=_iobject,defined$1=_defined,_toIobject=function(t){return IObject(defined$1(t))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(t){return isNaN(t=+t)?0:(t>0?floor:ceil)(t)},toInteger=_toInteger,min$1=Math.min,_toLength=function(t){return t>0?min$1(toInteger(t),9007199254740991):0},toInteger$1=_toInteger,max$1=Math.max,min$2=Math.min,_toIndex=function(t,e){return t=toInteger$1(t),t<0?max$1(t+e,0):min$2(t,e)},toIObject$1=_toIobject,toLength=_toLength,toIndex=_toIndex,_arrayIncludes=function(t){return function(e,n,r){var i,o=toIObject$1(e),s=toLength(o.length),a=toIndex(r,s);if(t&&n!=n){for(;s>a;)if(i=o[a++],i!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},_global=createCommonjsModule(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),global$1=_global,SHARED="__core-js_shared__",store=global$1[SHARED]||(global$1[SHARED]={}),_shared=function(t){return store[t]||(store[t]={})},id=0,px=Math.random(),_uid=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++id+px).toString(36))},shared=_shared("keys"),uid=_uid,_sharedKey=function(t){return shared[t]||(shared[t]=uid(t))},has$1=_has,toIObject=_toIobject,arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(t,e){var n,r=toIObject(t),i=0,o=[];for(n in r)n!=IE_PROTO&&has$1(r,n)&&o.push(n);for(;e.length>i;)has$1(r,n=e[i++])&&(~arrayIndexOf(o,n)||o.push(n));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$keys$1=_objectKeysInternal,enumBugKeys=_enumBugKeys,_objectKeys=Object.keys||function(t){return $keys$1(t,enumBugKeys)},_core=createCommonjsModule(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),_aFunction=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},aFunction=_aFunction,_ctx=function(t,e,n){if(aFunction(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},_isObject=function(t){return"object"==typeof t?null!==t:"function"==typeof t},isObject$1=_isObject,_anObject=function(t){if(!isObject$1(t))throw TypeError(t+" is not an object!");return t},_fails=function(t){try{return!!t()}catch(t){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),isObject$2=_isObject,document$1=_global.document,is=isObject$2(document$1)&&isObject$2(document$1.createElement),_domCreate=function(t){return is?document$1.createElement(t):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),isObject$3=_isObject,_toPrimitive=function(t,e){if(!isObject$3(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!isObject$3(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!isObject$3(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!isObject$3(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},anObject=_anObject,IE8_DOM_DEFINE=_ie8DomDefine,toPrimitive=_toPrimitive,dP$1=Object.defineProperty,f=_descriptors?Object.defineProperty:function(t,e,n){if(anObject(t),e=toPrimitive(e,!0),anObject(n),IE8_DOM_DEFINE)try{return dP$1(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},_objectDp={f:f},_propertyDesc=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},dP=_objectDp,createDesc=_propertyDesc,_hide=_descriptors?function(t,e,n){return dP.f(t,e,createDesc(1,n))}:function(t,e,n){return t[e]=n,t},global$2=_global,core$1=_core,ctx=_ctx,hide=_hide,PROTOTYPE="prototype",$export$1=function(t,e,n){var r,i,o,s=t&$export$1.F,a=t&$export$1.G,u=t&$export$1.S,l=t&$export$1.P,p=t&$export$1.B,c=t&$export$1.W,h=a?core$1:core$1[e]||(core$1[e]={}),f=h[PROTOTYPE],d=a?global$2:u?global$2[e]:(global$2[e]||{})[PROTOTYPE];a&&(n=e);for(r in n)i=!s&&d&&void 0!==d[r],i&&r in h||(o=i?d[r]:n[r],h[r]=a&&"function"!=typeof d[r]?n[r]:p&&i?ctx(o,global$2):c&&d[r]==o?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[PROTOTYPE]=t[PROTOTYPE],e}(o):l&&"function"==typeof o?ctx(Function.call,o):o,l&&((h.virtual||(h.virtual={}))[r]=o,t&$export$1.R&&f&&!f[r]&&hide(f,r,o)))};$export$1.F=1,$export$1.G=2,$export$1.S=4,$export$1.P=8,$export$1.B=16,$export$1.W=32,$export$1.U=64,$export$1.R=128;var _export=$export$1,$export=_export,core=_core,fails=_fails,_objectSap=function(t,e){var n=(core.Object||{})[t]||Object[t],r={};r[t]=e(n),$export($export.S+$export.F*fails(function(){n(1)}),"Object",r)},toObject=_toObject,$keys=_objectKeys;_objectSap("keys",function(){return function(t){return $keys(toObject(t))}});var keys$2=_core.Object.keys,keys$1=createCommonjsModule(function(t){t.exports={default:keys$2,__esModule:!0}}),_Object$keys=unwrapExports(keys$1),classCallCheck=createCommonjsModule(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}),_classCallCheck=unwrapExports(classCallCheck),_addToUnscopables=function(){},_iterStep=function(t,e){return{value:e,done:!!t}},_iterators={},_library=!0,_redefine=_hide,dP$2=_objectDp,anObject$2=_anObject,getKeys=_objectKeys,_objectDps=_descriptors?Object.defineProperties:function(t,e){anObject$2(t);for(var n,r=getKeys(e),i=r.length,o=0;i>o;)dP$2.f(t,n=r[o++],e[n]);return t},_html=_global.document&&document.documentElement,anObject$1=_anObject,dPs=_objectDps,enumBugKeys$1=_enumBugKeys,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var t,e=_domCreate("iframe"),n=enumBugKeys$1.length,r="<",i=">";for(e.style.display="none",_html.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+i+"document.F=Object"+r+"/script"+i),t.close(),createDict=t.F;n--;)delete createDict[PROTOTYPE$1][enumBugKeys$1[n]];return createDict()},_objectCreate=Object.create||function(t,e){var n;return null!==t?(Empty[PROTOTYPE$1]=anObject$1(t),n=new Empty,Empty[PROTOTYPE$1]=null,n[IE_PROTO$1]=t):n=createDict(),void 0===e?n:dPs(n,e)},_wks=createCommonjsModule(function(t){var e=_shared("wks"),n=_uid,r=_global.Symbol,i="function"==typeof r,o=t.exports=function(t){return e[t]||(e[t]=i&&r[t]||(i?r:n)("Symbol."+t))};o.store=e}),def=_objectDp.f,has$3=_has,TAG=_wks("toStringTag"),_setToStringTag=function(t,e,n){t&&!has$3(t=n?t:t.prototype,TAG)&&def(t,TAG,{configurable:!0,value:e})},create$1=_objectCreate,descriptor=_propertyDesc,setToStringTag$1=_setToStringTag,IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(t,e,n){t.prototype=create$1(IteratorPrototype,{next:descriptor(1,n)}),setToStringTag$1(t,e+" Iterator")},has$4=_has,toObject$1=_toObject,IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(t){return t=toObject$1(t),has$4(t,IE_PROTO$2)?t[IE_PROTO$2]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectProto:null},LIBRARY=_library,$export$2=_export,redefine=_redefine,hide$2=_hide,has$2=_has,Iterators$2=_iterators,$iterCreate=_iterCreate,setToStringTag=_setToStringTag,getPrototypeOf=_objectGpo,ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(t,e,n,r,i,o,s){$iterCreate(n,e,r);var a,u,l,p=function(t){if(!BUGGY&&t in d)return d[t];switch(t){case KEYS:return function(){return new n(this,t)};case VALUES:return function(){return new n(this,t)}}return function(){return new n(this,t)}},c=e+" Iterator",h=i==VALUES,f=!1,d=t.prototype,y=d[ITERATOR]||d[FF_ITERATOR]||i&&d[i],m=y||p(i),g=i?h?p("entries"):m:void 0,v="Array"==e?d.entries||y:y;if(v&&(l=getPrototypeOf(v.call(new t)),l!==Object.prototype&&(setToStringTag(l,c,!0),LIBRARY||has$2(l,ITERATOR)||hide$2(l,ITERATOR,returnThis))),h&&y&&y.name!==VALUES&&(f=!0,m=function(){return y.call(this)}),LIBRARY&&!s||!BUGGY&&!f&&d[ITERATOR]||hide$2(d,ITERATOR,m),Iterators$2[e]=m,Iterators$2[c]=returnThis,
i)if(a={values:h?m:p(VALUES),keys:o?m:p(KEYS),entries:g},s)for(u in a)u in d||redefine(d,u,a[u]);else $export$2($export$2.P+$export$2.F*(BUGGY||f),e,a);return a},addToUnscopables=_addToUnscopables,step=_iterStep,Iterators$1=_iterators,toIObject$2=_toIobject,es6_array_iterator=_iterDefine(Array,"Array",function(t,e){this._t=toIObject$2(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,step(1)):"keys"==e?step(0,n):"values"==e?step(0,t[n]):step(0,[n,t[n]])},"values");Iterators$1.Arguments=Iterators$1.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");for(var global$3=_global,hide$1=_hide,Iterators=_iterators,TO_STRING_TAG=_wks("toStringTag"),collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global$3[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide$1(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}var toInteger$2=_toInteger,defined$2=_defined,_stringAt=function(t){return function(e,n){var r,i,o=String(defined$2(e)),s=toInteger$2(n),a=o.length;return s<0||s>=a?t?"":void 0:(r=o.charCodeAt(s),r<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):(r-55296<<10)+(i-56320)+65536)}},$at=_stringAt(!0);_iterDefine(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=$at(e,n),this._i+=t.length,{value:t,done:!1})});var cof$1=_cof,TAG$1=_wks("toStringTag"),ARG="Arguments"==cof$1(function(){return arguments}()),tryGet$1=function(t,e){try{return t[e]}catch(t){}},_classof=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=tryGet$1(e=Object(t),TAG$1))?n:ARG?cof$1(e):"Object"==(r=cof$1(e))&&"function"==typeof e.callee?"Arguments":r},classof=_classof,ITERATOR$1=_wks("iterator"),Iterators$3=_iterators,core_getIteratorMethod=_core.getIteratorMethod=function(t){if(void 0!=t)return t[ITERATOR$1]||t["@@iterator"]||Iterators$3[classof(t)]},anObject$3=_anObject,get$1=core_getIteratorMethod,core_getIterator=_core.getIterator=function(t){var e=get$1(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return anObject$3(e.call(t))},getIterator$1=core_getIterator,getIterator=createCommonjsModule(function(t){t.exports={default:getIterator$1,__esModule:!0}}),_getIterator=unwrapExports(getIterator),hide$3=_hide,_redefineAll=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:hide$3(t,r,e[r]);return t},_anInstance=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},anObject$4=_anObject,_iterCall=function(t,e,n,r){try{return r?e(anObject$4(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&anObject$4(i.call(t)),e}},Iterators$4=_iterators,ITERATOR$2=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function(t){return void 0!==t&&(Iterators$4.Array===t||ArrayProto[ITERATOR$2]===t)},_forOf=createCommonjsModule(function(t){var e=_ctx,n=_iterCall,r=_isArrayIter,i=_anObject,o=_toLength,s=core_getIteratorMethod,a={},u={},l=t.exports=function(t,l,p,c,h){var f,d,y,m,g=h?function(){return t}:s(t),v=e(p,c,l?2:1),$=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(r(g)){for(f=o(t.length);f>$;$++)if(m=l?v(i(d=t[$])[0],d[1]):v(t[$]),m===a||m===u)return m}else for(y=g.call(t);!(d=y.next()).done;)if(m=n(y,v,d.value,l),m===a||m===u)return m};l.BREAK=a,l.RETURN=u}),global$4=_global,core$2=_core,dP$4=_objectDp,DESCRIPTORS$1=_descriptors,SPECIES=_wks("species"),_setSpecies=function(t){var e="function"==typeof core$2[t]?core$2[t]:global$4[t];DESCRIPTORS$1&&e&&!e[SPECIES]&&dP$4.f(e,SPECIES,{configurable:!0,get:function(){return this}})},_meta=createCommonjsModule(function(t){var e=_uid("meta"),n=_isObject,r=_has,i=_objectDp.f,o=0,s=Object.isExtensible||function(){return!0},a=!_fails(function(){return s(Object.preventExtensions({}))}),u=function(t){i(t,e,{value:{i:"O"+ ++o,w:{}}})},l=function(t,i){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,e)){if(!s(t))return"F";if(!i)return"E";u(t)}return t[e].i},p=function(t,n){if(!r(t,e)){if(!s(t))return!0;if(!n)return!1;u(t)}return t[e].w},c=function(t){return a&&h.NEED&&s(t)&&!r(t,e)&&u(t),t},h=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:p,onFreeze:c}}),dP$3=_objectDp.f,create$2=_objectCreate,redefineAll=_redefineAll,ctx$1=_ctx,anInstance=_anInstance,defined$3=_defined,forOf=_forOf,$iterDefine=_iterDefine,step$1=_iterStep,setSpecies=_setSpecies,DESCRIPTORS=_descriptors,fastKey=_meta.fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(t,e){var n,r=fastKey(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n},_collectionStrong={getConstructor:function(t,e,n,r){var i=t(function(t,o){anInstance(t,i,e,"_i"),t._i=create$2(null),t._f=void 0,t._l=void 0,t[SIZE]=0,void 0!=o&&forOf(o,n,t[r],t)});return redefineAll(i.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[SIZE]=0},delete:function(t){var e=this,n=getEntry(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[SIZE]--}return!!n},forEach:function(t){anInstance(this,i,"forEach");for(var e,n=ctx$1(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!getEntry(this,t)}}),DESCRIPTORS&&dP$3(i.prototype,"size",{get:function(){return defined$3(this[SIZE])}}),i},def:function(t,e,n){var r,i,o=getEntry(t,e);return o?o.v=n:(t._l=o={i:i=fastKey(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[SIZE]++,"F"!==i&&(t._i[i]=o)),t},getEntry:getEntry,setStrong:function(t,e,n){$iterDefine(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?step$1(0,n.k):"values"==e?step$1(0,n.v):step$1(0,[n.k,n.v]):(t._t=void 0,step$1(1))},n?"entries":"values",!n,!0),setSpecies(e)}},cof$2=_cof,_isArray=Array.isArray||function(t){return"Array"==cof$2(t)},isObject$5=_isObject,isArray$1=_isArray,SPECIES$1=_wks("species"),_arraySpeciesConstructor=function(t){var e;return isArray$1(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!isArray$1(e.prototype)||(e=void 0),isObject$5(e)&&(e=e[SPECIES$1],null===e&&(e=void 0))),void 0===e?Array:e},speciesConstructor=_arraySpeciesConstructor,_arraySpeciesCreate=function(t,e){return new(speciesConstructor(t))(e)},ctx$2=_ctx,IObject$1=_iobject,toObject$2=_toObject,toLength$1=_toLength,asc=_arraySpeciesCreate,_arrayMethods=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,s=6==t,a=5==t||s,u=e||asc;return function(e,l,p){for(var c,h,f=toObject$2(e),d=IObject$1(f),y=ctx$2(l,p,3),m=toLength$1(d.length),g=0,v=n?u(e,m):r?u(e,0):void 0;m>g;g++)if((a||g in d)&&(c=d[g],h=y(c,g,f),t))if(n)v[g]=h;else if(h)switch(t){case 3:return!0;case 5:return c;case 6:return g;case 2:v.push(c)}else if(o)return!1;return s?-1:i||o?o:v}},global$5=_global,$export$3=_export,meta=_meta,fails$1=_fails,hide$4=_hide,redefineAll$1=_redefineAll,forOf$1=_forOf,anInstance$1=_anInstance,isObject$4=_isObject,setToStringTag$2=_setToStringTag,dP$5=_objectDp.f,each=_arrayMethods(0),DESCRIPTORS$2=_descriptors,_collection=function(t,e,n,r,i,o){var s=global$5[t],a=s,u=i?"set":"add",l=a&&a.prototype,p={};return DESCRIPTORS$2&&"function"==typeof a&&(o||l.forEach&&!fails$1(function(){(new a).entries().next()}))?(a=e(function(e,n){anInstance$1(e,a,t,"_c"),e._c=new s,void 0!=n&&forOf$1(n,i,e[u],e)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in l&&(!o||"clear"!=t)&&hide$4(a.prototype,t,function(n,r){if(anInstance$1(this,a,t),!e&&o&&!isObject$4(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),"size"in l&&dP$5(a.prototype,"size",{get:function(){return this._c.size}})):(a=r.getConstructor(e,t,i,u),redefineAll$1(a.prototype,n),meta.NEED=!0),setToStringTag$2(a,t),p[t]=a,$export$3($export$3.G+$export$3.W+$export$3.F,p),o||r.setStrong(a,t,i),a},strong=_collectionStrong,es6_map=_collection("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=strong.getEntry(this,t);return e&&e.v},set:function(t,e){return strong.def(this,0===t?0:t,e)}},strong,!0),forOf$2=_forOf,_arrayFromIterable=function(t,e){var n=[];return forOf$2(t,!1,n.push,n,e),n},classof$1=_classof,from$1=_arrayFromIterable,_collectionToJson=function(t){return function(){if(classof$1(this)!=t)throw TypeError(t+"#toJSON isn't generic");return from$1(this)}},$export$4=_export;$export$4($export$4.P+$export$4.R,"Map",{toJSON:_collectionToJson("Map")});var map$2=_core.Map,map$1=createCommonjsModule(function(t){t.exports={default:map$2,__esModule:!0}}),_Map=unwrapExports(map$1),$defineProperty=_objectDp,createDesc$1=_propertyDesc,_createProperty=function(t,e,n){e in t?$defineProperty.f(t,e,createDesc$1(0,n)):t[e]=n},ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(t){}var _iterDetect=function(t,e){if(!e&&!SAFE_CLOSING)return!1;var n=!1;try{var r=[7],i=r[ITERATOR$3]();i.next=function(){return{done:n=!0}},r[ITERATOR$3]=function(){return i},t(r)}catch(t){}return n},ctx$3=_ctx,$export$5=_export,toObject$3=_toObject,call=_iterCall,isArrayIter=_isArrayIter,toLength$2=_toLength,createProperty=_createProperty,getIterFn=core_getIteratorMethod;$export$5($export$5.S+$export$5.F*!_iterDetect(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,i,o=toObject$3(t),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,l=void 0!==u,p=0,c=getIterFn(o);if(l&&(u=ctx$3(u,a>2?arguments[2]:void 0,2)),void 0==c||s==Array&&isArrayIter(c))for(e=toLength$2(o.length),n=new s(e);e>p;p++)createProperty(n,p,l?u(o[p],p):o[p]);else for(i=c.call(o),n=new s;!(r=i.next()).done;p++)createProperty(n,p,l?call(i,u,[r.value,p],!0):r.value);return n.length=p,n}});var from$3=_core.Array.from,from$2=createCommonjsModule(function(t){t.exports={default:from$3,__esModule:!0}}),_Array$from=unwrapExports(from$2),fableGlobal=function(){var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:null;return"undefined"==typeof t.__FABLE_CORE__&&(t.__FABLE_CORE__={types:new Map,symbols:{interfaces:Symbol("interfaces"),typeName:Symbol("typeName"),properties:Symbol("properties"),generics:Symbol("generics"),cases:Symbol("cases")}}),t.__FABLE_CORE__}(),_Symbol=fableGlobal.symbols,GenericComparer=function(){function t(e){_classCallCheck$5(this,t),this.Compare=e||compare}return t.prototype[_Symbol.interfaces]=function(){return["System.IComparer"]},t}(),_createClass$2=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),MapTree=function t(e,n){_classCallCheck$4(this,t),this.Case=e,this.Fields=n},FMap=function(){function t(){_classCallCheck$4(this,t)}return t.prototype.ToString=function(){return"map ["+Array.from(this).map(toString$2).join("; ")+"]"},t.prototype.Equals=function(t){return 0===this.CompareTo(t)},t.prototype.CompareTo=function(t){var e=this;return this===t?0:compareWith(function(t,n){var r=e.comparer.Compare(t[0],n[0]);return 0!==r?r:compare(t[1],n[1])},this,t)},t.prototype[Symbol.iterator]=function(){var t=tree_mkIterator$1(this.tree);return{next:function(){return tree_moveNext$1(t)}}},t.prototype.entries=function(){return this[Symbol.iterator]()},t.prototype.keys=function(){return map$6(function(t){return t[0]},this)},t.prototype.values=function(){return map$6(function(t){return t[1]},this)},t.prototype.get=function(t){return tree_find(this.comparer,t,this.tree)},t.prototype.has=function(t){return tree_mem$1(this.comparer,t,this.tree)},t.prototype.set=function(t,e){throw"not supported"},t.prototype.delete=function(t){throw"not supported"},t.prototype.clear=function(){throw"not supported"},t.prototype[_Symbol.interfaces]=function(){return["System.IEquatable","System.IComparable"]},t.prototype[_Symbol.typeName]=function(){return"Microsoft.FSharp.Collections.FSharpMap"},_createClass$2(t,[{key:"size",get:function(){return tree_size(this.tree)}}]),t}(),_createClass$1=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),List$1=function(){function t(e,n){_classCallCheck$2(this,t),this.head=e,this.tail=n}return t.prototype.ToString=function(){return"["+Array.from(this).map(toString$2).join("; ")+"]"},t.prototype.Equals=function(t){if(this===t)return!0;for(var e=this[Symbol.iterator](),n=t[Symbol.iterator]();;){var r=e.next(),i=n.next();if(r.done)return!!i.done;if(i.done)return!1;if(!equals$1(r.value,i.value))return!1}},t.prototype.CompareTo=function(t){if(this===t)return 0;for(var e=0,n=this[Symbol.iterator](),r=t[Symbol.iterator]();;){var i=n.next(),o=r.next();if(i.done)return o.done?e:-1;if(o.done)return 1;if(e=compare(i.value,o.value),0!=e)return e}},t.prototype[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t;return t=t.tail,{done:null==e.tail,value:e.head}}}},t.prototype[_Symbol.interfaces]=function(){return["System.IEquatable","System.IComparable"]},t.prototype[_Symbol.typeName]=function(){return"Microsoft.FSharp.Collections.FSharpList"},_createClass$1(t,[{key:"length",get:function(){return fold$1(function(t,e){return t+1},0,this)}}]),t}(),_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),SetTree=function t(e,n){_classCallCheck$1(this,t),this.Case=e,this.Fields=n},tree_tolerance=2,FSet=function(){function t(){_classCallCheck$1(this,t)}return t.prototype.ToString=function(){return"set ["+Array.from(this).map(toString$2).join("; ")+"]"},t.prototype.Equals=function(t){return 0===this.CompareTo(t)},t.prototype.CompareTo=function(t){return this===t?0:tree_compare(this.comparer,this.tree,t.tree)},t.prototype[Symbol.iterator]=function(){var t=tree_mkIterator(this.tree);return{next:function(){return tree_moveNext(t)}}},t.prototype.values=function(){return this[Symbol.iterator]()},t.prototype.has=function(t){return tree_mem(this.comparer,t,this.tree)},t.prototype.add=function(t){throw"not supported"},t.prototype.delete=function(t){throw"not supported"},t.prototype.clear=function(){throw"not supported"},t.prototype[_Symbol.interfaces]=function(){return["System.IEquatable","System.IComparable"]},t.prototype[_Symbol.typeName]=function(){return"Microsoft.FSharp.Collections.FSharpSet"},_createClass(t,[{key:"size",get:function(){return tree_count(this.tree)}}]),t}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,formatRegExp=/\{(\d+)(,-?\d+)?(?:\:(.+?))?\}/g,_createClass$3=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Trampoline=function(){function t(){_classCallCheck$7(this,t),this.callCount=0}return t.prototype.incrementAndCheck=function(){return this.callCount++>t.maxTrampolineCallCount},t.prototype.hijack=function(t){this.callCount=0,setTimeout(t,0)},_createClass$3(t,null,[{key:"maxTrampolineCallCount",get:function(){return 2e3}}]),t}(),AsyncBuilder=function(){function t(){_classCallCheck$7(this,t)}return t.prototype.Bind=function(t,e){return protectedBind(t,e)},t.prototype.Combine=function(t,e){return this.Bind(t,function(){return e})},t.prototype.Delay=function(t){return protectedCont(function(e){return t()(e)})},t.prototype.For=function(t,e){var n=t[Symbol.iterator](),r=n.next();return this.While(function(){return!r.done},this.Delay(function(){var t=e(r.value);return r=n.next(),t}))},t.prototype.Return=function(t){return protectedReturn(t)},t.prototype.ReturnFrom=function(t){return t},t.prototype.TryFinally=function(t,e){return protectedCont(function(n){t({onSuccess:function(t){e(),n.onSuccess(t)},onError:function(t){e(),n.onError(t)},onCancel:function(t){e(),n.onCancel(t)},cancelToken:n.cancelToken,trampoline:n.trampoline})})},t.prototype.TryWith=function(t,e){return protectedCont(function(n){t({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:function(t){try{e(t)(n)}catch(t){n.onError(t)}}})})},t.prototype.Using=function(t,e){return this.TryFinally(e(t),function(){return t.Dispose()})},t.prototype.While=function(t,e){var n=this;return t()?this.Bind(e,function(){return n.While(t,e)}):this.Return(void 0)},t.prototype.Zero=function(){return protectedCont(function(t){return t.onSuccess(void 0)})},t}(),singleton$2=new AsyncBuilder,_createClass$4=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Choice=function(){function t(e,n){_classCallCheck$8(this,t),this.Case=e,this.Fields=n}return t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.typeName]=function(){return"Microsoft.FSharp.Core.FSharpChoice"},_createClass$4(t,[{key:"valueIfChoice1",get:function(){return"Choice1Of2"===this.Case?this.Fields[0]:null}},{key:"valueIfChoice2",get:function(){return"Choice2Of2"===this.Case?this.Fields[0]:null}}]),t}(),Async$1=function t(){_classCallCheck$6(this,t)},defaultCancellationToken={isCancelled:!1},enabledCategories=isLocalHost()?create$3(new List$1,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})):create$3(new List$1,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),Log=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Common.Log"},t.prototype[_Symbol.properties]=function(){return{}},t.setEnabled=function(t){enabledCategories=t},t.event=function(t,e,n,r){logEvent(t,e,n,r)},t.message=function(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var s=null==i?[]:i,a=e.toLocaleUpperCase();if(isLocalHost()||"EXCEPTION"!==t||logEvent("system","exception","",{category:a,msg:n,args:s}),"EXCEPTION"===t||"ERROR"===t||enabledCategories.has(a)){var u=now(),l=function(t){return padLeft(String(t),2,"0")},p=function(t){return padLeft(String(t),4,"0")},c=fsFormat("[%s:%s:%s:%s] %s: ")(function(t){return t})(l(hour(u)))(l(minute(u)))(l(second(u)))(p(millisecond(u)))(a),h=function(){var e=null;switch(t){case"TRACE":e="color:#808080";break;case"EXCEPTION":e="color:#c00000";break;case"ERROR":e="color:#900000";break;default:e=""}return e}();console.log.apply(console,_Array$from(append$2(["%c"+c+n,h],s)))}},t.trace=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.message.apply(t,["TRACE",e,n].concat(i))},t.exn=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.message.apply(t,["EXCEPTION",e,n].concat(i))},t.error=function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.message.apply(t,["ERROR",e,n].concat(i))},t}();declare(Log);var Http=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Common.Http"},t.prototype[_Symbol.properties]=function(){return{}},t.Request=function(t,e,n,r){return fromContinuations(function(i){var o=new XMLHttpRequest;o.open(t,e,!0);var s=function(){};if(null!=r)if(""!==r){var a=r;o.setRequestHeader("X-Cookie",a)}else s();else s();o.onreadystatechange=function(t){return o.readyState>3&&200===o.status&&i[0](o.responseText),{}},o.send(null!=n?n:"")})},t}();declare(Http);var Async=function(t){t.Array=function(t){t.Parallel=function(t){t.map=function(t,e){return function(n){return n.Delay(function(){var r=new Array(e.length),i=parallel(toList(delay(function(){return map$6(function(n){return function(i){return i.Delay(function(){return i.Bind(t(e[n]),function(t){return r[n]=t,i.Zero()})})}(singleton$2)},range$1(0,e.length-1))})));return n.Bind(i,function(t){return n.Return(r)})})}(singleton$2)};return t}({}),t.map=function(t,e){return function(n){return n.Delay(function(){var r=new Array(e.length);return n.Combine(n.For(range$1(0,e.length-1),function(i){return n.Bind(t(e[i]),function(t){return r[i]=t,n.Zero()})}),n.Delay(function(){return n.Return(r)}))})}(singleton$2)};return t}({}),t.collect=function t(e,n){return function(r){return r.Delay(function(){return null==n.tail?r.Return(new List$1):r.Bind(e(n.head),function(i){return r.Bind(t(e,n.tail),function(t){return r.Return(append$1(i,t))})})})}(singleton$2)},t.choose=function t(e,n){return function(r){return r.Delay(function(){return null==n.tail?r.Return(new List$1):r.Bind(e(n.head),function(i){return r.Bind(t(e,n.tail),function(t){return r.Return(null!=i?new List$1(i,t):t)})})})}(singleton$2)},t.map=function t(e,n){return function(r){return r.Delay(function(){return null==n.tail?r.Return(new List$1):r.Bind(e(n.head),function(i){return r.Bind(t(e,n.tail),function(t){return r.Return(new List$1(i,t))})})})}(singleton$2)},t.foldMap=function t(e,n,r){return function(i){return i.Delay(function(){return null==r.tail?i.Return([n,new List$1]):i.Bind(e(n)(r.head),function(n){return i.Bind(t(e,n[1],r.tail),function(t){return i.Return([t[0],new List$1(n[0],t[1])])})})})}(singleton$2)},t.fold=function t(e,n,r){return function(i){return i.Delay(function(){return null==r.tail?i.Return(n):i.Bind(e(n)(r.head),function(n){return i.ReturnFrom(t(e,n,r.tail))})})}(singleton$2)};return t}({}),ListDictionaryNode=function(){function t(e,n){_classCallCheck(this,t),this.Result=e,this.Nested=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Common.ListDictionaryNode"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Result:[3,[6,"T"]],Nested:makeGeneric(_Map,{TKey:[6,"K"],TValue:makeGeneric(t,{K:[6,"K"],T:[6,"T"]})})}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(ListDictionaryNode);var ListDictionaryModule=function(t){t.tryFind=function(t,e){var n=function t(e){return function(n){var r=[e,n],i=function(){return null};if(null!=r[0].tail){if(function(){var t=(r[0].tail,r[0].head),e=r[1].Nested;return e.has(t)}()){var o=r[1].Nested,s=r[0].head,a=r[0].tail;return t(a)(o.get(s))}return i()}if(null!=r[1].Result){var u=r[1].Result;return u}return i()}};return n(t)(new ListDictionaryNode(null,e))},t.set=function(t,e,n){var r=function t(n){return function(r){if(null==n.tail)throw"Empty key not supported";r.has(n.head)||r.set(n.head,function(){var t=new _Map;return new ListDictionaryNode(null,t)}()),null==n.tail.tail?r.get(n.head).Result=e:t(n.tail)(r.get(n.head).Nested)}};r(t)(n)},t.count=function(t){var e=function t(e){var n=sumBy(function(e){return t(e[1])},e.Nested);return function(){return null!=e.Result}()?1+n:n};return sumBy(function(t){return e(t[1])},t)};return t}({}),List=function(t){t.groupWith=function(t,e){for(var n=[],r=e,i=Array.isArray(r),o=0,r=i?r:_getIterator(r);;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if(o=r.next(),o.done)break;s=o.value}for(var a=s,u=!1,l=0;!u&&l<n.length;)t(a)(n[l][0])&&(n[l][1].push(a),u=!0),l+=1;u||n.push([a,_Array$from(ofArray$$1([a]))])}return toList(map$6(function(t){return toList(t[1])},n))},t.unreduce=function(t,e){return toList(unfold(function(e){var n=t(e);return null!=n?function(t){return[t,t]}(n):n},e))};return t}({}),$export$6=_export;$export$6($export$6.S+$export$6.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty$3=function(t,e,n){return $Object.defineProperty(t,e,n)},defineProperty$1=createCommonjsModule(function(t){t.exports={default:defineProperty$3,__esModule:!0}}),createClass=createCommonjsModule(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=defineProperty$1,i=n(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()}),_createClass$5=unwrapExports(createClass),Position=function(){function t(e,n){_classCallCheck(this,t),this.line=e,this.column=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.Position"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{line:"number",column:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Position);var SourceLocation=function(){function t(e,n){_classCallCheck(this,t),this.start=e,this.end=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.SourceLocation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{start:Position,end:Position}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(SourceLocation);var AssignmentOperator=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.AssignmentOperator"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{AssignAndBitwise:[],AssignDivide:[],AssignEqual:[],AssignMinus:[],AssignModulus:[],AssignMultiply:[],AssignOrBitwise:[],AssignPlus:[],AssignShiftLeft:[],AssignShiftRightSignPropagating:[],AssignShiftRightZeroFill:[],AssignXorBitwise:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(AssignmentOperator);var BinaryOperator=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.BinaryOperator"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{BinaryAndBitwise:[],BinaryDivide:[],BinaryEqual:[],BinaryEqualStrict:[],BinaryExponent:[],BinaryGreater:[],BinaryGreaterOrEqual:[],BinaryIn:[],BinaryInstanceOf:[],BinaryLess:[],BinaryLessOrEqual:[],BinaryMinus:[],BinaryModulus:[],BinaryMultiply:[],BinaryOrBitwise:[],BinaryPlus:[],BinaryShiftLeft:[],BinaryShiftRightSignPropagating:[],BinaryShiftRightZeroFill:[],BinaryUnequal:[],BinaryUnequalStrict:[],BinaryXorBitwise:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(BinaryOperator);var Pattern=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.Pattern"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{IdentifierPattern:["string",[3,SourceLocation]]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Pattern);var VariableDeclarationKind=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.VariableDeclarationKind"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Const:[],Let:[],Var:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(VariableDeclarationKind);var VariableDeclarator=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.VariableDeclarator"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{VariableDeclarator:[Pattern,[3,Expression],[3,SourceLocation]]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(VariableDeclarator);var Expression=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.Expression"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{ArrayExpression:[makeGeneric(List$1,{T:t}),[3,SourceLocation]],AssignmentExpression:[AssignmentOperator,t,t,[3,SourceLocation]],BinaryExpression:[BinaryOperator,t,t,[3,SourceLocation]],BooleanLiteral:["boolean",[3,SourceLocation]],CallExpression:[t,makeGeneric(List$1,{T:t}),[3,SourceLocation]],FunctionExpression:[[3,"string"],makeGeneric(List$1,{T:Pattern}),Statement,"boolean","boolean",[3,SourceLocation]],IdentifierExpression:["string",[3,SourceLocation]],MemberExpression:[t,t,"boolean",[3,SourceLocation]],NewExpression:[t,makeGeneric(List$1,{T:t}),[3,SourceLocation]],NullLiteral:[[3,SourceLocation]],NumericLiteral:["number",[3,SourceLocation]],StringLiteral:["string",[3,SourceLocation]]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Expression);var Statement=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.Statement"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{BlockStatement:[makeGeneric(List$1,{T:t}),[3,SourceLocation]],EmptyStatement:[[3,SourceLocation]],ExpressionStatement:[Expression,[3,SourceLocation]],ReturnStatement:[Expression,[3,SourceLocation]],VariableDeclaration:[VariableDeclarationKind,makeGeneric(List$1,{T:VariableDeclarator}),[3,SourceLocation]]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Statement);var Program$1=function(){function t(e,n){_classCallCheck(this,t),this.location=e,this.body=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Babel.Program"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{location:[3,SourceLocation],body:makeGeneric(List$1,{T:Statement})}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Program$1);
var Serializer=function(t){var e=t.createObj=function(t){return createObj(concat$$1(t))},n=t.serializeBinaryOperator=function(t){return"BinaryUnequal"===t.Case?"!=":"BinaryEqualStrict"===t.Case?"===":"BinaryUnequalStrict"===t.Case?"!==":"BinaryLess"===t.Case?"<":"BinaryLessOrEqual"===t.Case?"<=":"BinaryGreater"===t.Case?">":"BinaryGreaterOrEqual"===t.Case?">=":"BinaryShiftLeft"===t.Case?"<<":"BinaryShiftRightSignPropagating"===t.Case?">>":"BinaryShiftRightZeroFill"===t.Case?">>>":"BinaryMinus"===t.Case?"-":"BinaryPlus"===t.Case?"+":"BinaryMultiply"===t.Case?"*":"BinaryDivide"===t.Case?"/":"BinaryModulus"===t.Case?"%":"BinaryExponent"===t.Case?"**":"BinaryOrBitwise"===t.Case?"|":"BinaryXorBitwise"===t.Case?"^":"BinaryAndBitwise"===t.Case?"&":"BinaryIn"===t.Case?"in":"BinaryInstanceOf"===t.Case?"instanceof":"=="},r=t.serializeAssignOperator=function(t){return"AssignMinus"===t.Case?"-=":"AssignPlus"===t.Case?"+=":"AssignMultiply"===t.Case?"*=":"AssignDivide"===t.Case?"/=":"AssignModulus"===t.Case?"%=":"AssignShiftLeft"===t.Case?"<<=":"AssignShiftRightSignPropagating"===t.Case?">>=":"AssignShiftRightZeroFill"===t.Case?">>>=":"AssignOrBitwise"===t.Case?"|=":"AssignXorBitwise"===t.Case?"^=":"AssignAndBitwise"===t.Case?"&=":"="},i=t.serializePattern=function(t){return e(ofArray$$1([ofArray$$1([["type","Identifier"]]),ofArray$$1([["name",t.Fields[0]]]),null!=t.Fields[1]?ofArray$$1([["loc",t.Fields[1]]]):new List$1]))},o=t.serializeDeclarator=function(t){return e(ofArray$$1([ofArray$$1([["type","VariableDeclarator"]]),ofArray$$1([["id",i(t.Fields[0])]]),null!=function(){var e=t.Fields[1];return null!=e?function(t){return s(t)}(e):e}()?ofArray$$1([["init",function(){var e=t.Fields[1];return null!=e?function(t){return s(t)}(e):e}()]]):new List$1,null!=t.Fields[2]?ofArray$$1([["loc",t.Fields[2]]]):new List$1]))},s=t.serializeExpression=function t(o){return e("NewExpression"===o.Case?ofArray$$1([ofArray$$1([["type","NewExpression"]]),ofArray$$1([["callee",t(o.Fields[0])]]),ofArray$$1([["arguments",_Array$from(map$5(function(e){return t(e)},o.Fields[1]))]]),null!=o.Fields[2]?ofArray$$1([["loc",o.Fields[2]]]):new List$1]):"FunctionExpression"===o.Case?ofArray$$1([ofArray$$1([["type","FunctionExpression"]]),null!=o.Fields[0]?ofArray$$1([["id",o.Fields[0]]]):new List$1,ofArray$$1([["params",_Array$from(map$5(function(t){return i(t)},o.Fields[1]))]]),ofArray$$1([["body",a(o.Fields[2])]]),ofArray$$1([["generator",o.Fields[3]]]),ofArray$$1([["async",o.Fields[4]]]),null!=o.Fields[5]?ofArray$$1([["loc",o.Fields[5]]]):new List$1]):"AssignmentExpression"===o.Case?ofArray$$1([ofArray$$1([["type","AssignmentExpression"]]),ofArray$$1([["left",t(o.Fields[1])]]),ofArray$$1([["right",t(o.Fields[2])]]),ofArray$$1([["operator",r(o.Fields[0])]]),null!=o.Fields[3]?ofArray$$1([["loc",o.Fields[3]]]):new List$1]):"CallExpression"===o.Case?ofArray$$1([ofArray$$1([["type","CallExpression"]]),ofArray$$1([["callee",t(o.Fields[0])]]),ofArray$$1([["arguments",_Array$from(map$5(function(e){return t(e)},o.Fields[1]))]]),null!=o.Fields[2]?ofArray$$1([["loc",o.Fields[2]]]):new List$1]):"MemberExpression"===o.Case?ofArray$$1([ofArray$$1([["type","MemberExpression"]]),ofArray$$1([["object",t(o.Fields[0])]]),ofArray$$1([["property",t(o.Fields[1])]]),ofArray$$1([["computed",o.Fields[2]]]),null!=o.Fields[3]?ofArray$$1([["loc",o.Fields[3]]]):new List$1]):"BinaryExpression"===o.Case?ofArray$$1([ofArray$$1([["type","BinaryExpression"]]),ofArray$$1([["left",t(o.Fields[1])]]),ofArray$$1([["right",t(o.Fields[2])]]),ofArray$$1([["operator",n(o.Fields[0])]]),null!=o.Fields[3]?ofArray$$1([["loc",o.Fields[3]]]):new List$1]):"ArrayExpression"===o.Case?ofArray$$1([ofArray$$1([["type","ArrayExpression"]]),ofArray$$1([["elements",_Array$from(map$5(function(e){return t(e)},o.Fields[0]))]]),null!=o.Fields[1]?ofArray$$1([["loc",o.Fields[1]]]):new List$1]):"NullLiteral"===o.Case?ofArray$$1([ofArray$$1([["type","NullLiteral"]]),null!=o.Fields[0]?ofArray$$1([["loc",o.Fields[0]]]):new List$1]):"StringLiteral"===o.Case?ofArray$$1([ofArray$$1([["type","StringLiteral"]]),ofArray$$1([["value",o.Fields[0]]]),null!=o.Fields[1]?ofArray$$1([["loc",o.Fields[1]]]):new List$1]):"BooleanLiteral"===o.Case?ofArray$$1([ofArray$$1([["type","BooleanLiteral"]]),ofArray$$1([["value",o.Fields[0]]]),null!=o.Fields[1]?ofArray$$1([["loc",o.Fields[1]]]):new List$1]):"NumericLiteral"===o.Case?ofArray$$1([ofArray$$1([["type","NumericLiteral"]]),ofArray$$1([["value",o.Fields[0]]]),null!=o.Fields[1]?ofArray$$1([["loc",o.Fields[1]]]):new List$1]):ofArray$$1([ofArray$$1([["type","Identifier"]]),ofArray$$1([["name",o.Fields[0]]]),null!=o.Fields[1]?ofArray$$1([["loc",o.Fields[1]]]):new List$1]))},a=t.serializeStatement=function t(n){return"BlockStatement"===n.Case?e(ofArray$$1([ofArray$$1([["type","BlockStatement"]]),null!=n.Fields[1]?ofArray$$1([["loc",n.Fields[1]]]):new List$1,ofArray$$1([["body",_Array$from(map$5(function(e){return t(e)},n.Fields[0]))]])])):"EmptyStatement"===n.Case?e(ofArray$$1([ofArray$$1([["type","EmptyStatement"]]),null!=n.Fields[0]?ofArray$$1([["loc",n.Fields[0]]]):new List$1])):"ReturnStatement"===n.Case?e(ofArray$$1([ofArray$$1([["type","ReturnStatement"]]),null!=n.Fields[1]?ofArray$$1([["loc",n.Fields[1]]]):new List$1,ofArray$$1([["argument",s(n.Fields[0])]])])):"VariableDeclaration"===n.Case?function(){var t="Let"===n.Fields[0].Case?"let":"Const"===n.Fields[0].Case?"const":"var";return e(ofArray$$1([ofArray$$1([["type","VariableDeclaration"]]),ofArray$$1([["kind",t]]),ofArray$$1([["declarations",_Array$from(map$5(function(t){return o(t)},n.Fields[1]))]]),null!=n.Fields[2]?ofArray$$1([["loc",n.Fields[2]]]):new List$1]))}():e(ofArray$$1([ofArray$$1([["type","ExpressionStatement"]]),null!=n.Fields[1]?ofArray$$1([["loc",n.Fields[1]]]):new List$1,ofArray$$1([["expression",s(n.Fields[0])]])]))};t.serializeProgram=function(t){return e(ofArray$$1([ofArray$$1([["type","Program"]]),null!=t.location?ofArray$$1([["loc",t.location]]):new List$1,ofArray$$1([["sourceType","module"]]),ofArray$$1([["body",_Array$from(map$5(function(t){return a(t)},t.body))]]),ofArray$$1([["directives",[]]])]))};return t}({}),_Range=function(){function t(e,n){_classCallCheck(this,t),this.Start=e,this.End=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Range"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Start:"number",End:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(_Range);var Error$1=function(){function t(e,n,r){_classCallCheck(this,t),this.Number=e,this.Message=n,this.Range=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Error"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Number:"number",Message:"string",Range:[6,"Range"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Error$1);var Operator=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Operator"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Divide:[],Equals:[],GreaterThan:[],GreaterThanOrEqual:[],LessThan:[],LessThanOrEqual:[],Minus:[],Multiply:[],Plus:[],Power:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Operator);var TokenKind=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TokenKind"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Arrow:[],Boolean:["boolean"],By:[],Comma:[],Dot:[],EndOfFile:[],Equals:[],Error:["string"],Fun:[],Ident:["string"],LParen:[],LSquare:[],Let:[],Newline:[],Number:["string","number"],Operator:[Operator],QIdent:["string"],RParen:[],RSquare:[],String:["string"],To:[],White:["string"]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(TokenKind);var Token=function(){function t(e,n){_classCallCheck(this,t),this.Token=e,this.Range=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Token"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Token:TokenKind,Range:_Range}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Token);var Emitter=function(){function t(e){_classCallCheck(this,t),this.Emit=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Emitter"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Emit:"function"}},t}();declare(Emitter);var Metadata=function(){function t(e,n,r){_classCallCheck(this,t),this.Context=e,this.Type=n,this.Data=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Metadata"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Context:"string",Type:"string",Data:[1]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(Metadata);var Documentation=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Documentation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Details:["string","string"],None:[],Text:["string"]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Documentation);var Member=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Member"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Method:["string",makeGeneric(List$1,{T:[5,["string","boolean",Type]]}),Type,makeGeneric(List$1,{T:Metadata}),Emitter],Property:["string",Type,makeGeneric(List$1,{T:Metadata}),Emitter]}},_createClass$5(t,[{key:"Name",get:function(){var t=function(t){return t};return t("Method"===this.Case?this.Fields[0]:this.Fields[0])}}]),t}();declare(Member);var ObjectType=function(){function t(e){_classCallCheck(this,t),this.Members=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.ObjectType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Members:[4,Member]}},t}();declare(ObjectType);var PrimitiveType=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.PrimitiveType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Bool:[],Number:[],String:[],Unit:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(PrimitiveType);var Type=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Type"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Any:[],App:[t,makeGeneric(List$1,{T:t})],Delayed:["string",[7,"TheGamma.Common.Future"]],Forall:[makeGeneric(List$1,{T:"string"}),t],Function:[makeGeneric(List$1,{T:t}),t],List:[t],Object:[ObjectType],Parameter:["string"],Primitive:[PrimitiveType]}},t}();declare(Type);var Name=function(){function t(e){_classCallCheck(this,t),this.Name=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Name"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Name:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Name);var Constant=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Constant"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Boolean:["boolean"],Empty:[],Number:["number"],String:["string"]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Constant);var EntityKind=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.EntityKind"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{ArgumentList:[makeGeneric(List$1,{T:Entity})],Binding:[Name,Entity],CallSite:[Entity,Name,Choice],ChainElement:["boolean",Name,Entity,[3,Entity],[3,Entity]],Constant:[Constant],Function:[Entity,Entity],GlobalValue:[Name,[3,Expression]],LetCommand:[Entity,Entity],List:[makeGeneric(List$1,{T:Entity})],NamedMember:[Name,Entity],NamedParam:[Name,Entity],Operator:[Entity,Operator,Entity],Program:[makeGeneric(List$1,{T:Entity})],Root:[],RunCommand:[Entity],Variable:[Name,Entity]}},t}();declare(EntityKind);var Entity=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.Kind=e,this.Symbol=n,this.Value=r,this.Meta=i,this.Type=o,this.Errors=s}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Entity"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Kind:EntityKind,Symbol:[7,"TheGamma.Common.Symbol"],Value:[3,EntityValue],Meta:makeGeneric(List$1,{T:Metadata}),Type:[3,Type],Errors:makeGeneric(List$1,{T:makeGeneric(Error$1,{Range:_Range})})}},t}();declare(Entity);var EntityValue=function(){function t(e,n){_classCallCheck(this,t),this.Value=e,this.Preview=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.EntityValue"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Value:[7,"TheGamma.RuntimeValue"],Preview:[1]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(EntityValue);var _Node=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.WhiteBefore=e,this.WhiteAfter=n,this.Range=r,this.Node=i,this.Entity=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Node"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{WhiteBefore:makeGeneric(List$1,{T:Token}),WhiteAfter:makeGeneric(List$1,{T:Token}),Range:_Range,Node:[6,"T"],Entity:[3,Entity]}},t}();declare(_Node);var Argument=function(){function t(e,n){_classCallCheck(this,t),this.Name=e,this.Value=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Argument"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Name:[3,makeGeneric(_Node,{T:Name})],Value:makeGeneric(_Node,{T:Expr})}},t}();declare(Argument);var Program$$1=function(){function t(e){_classCallCheck(this,t),this.Body=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Program"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Body:makeGeneric(_Node,{T:makeGeneric(List$1,{T:makeGeneric(_Node,{T:Command})})})}},t}();declare(Program$$1);var Command=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Command"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Expr:[makeGeneric(_Node,{T:Expr})],Let:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Expr})]}},t}();declare(Command);var Expr=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Expr"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Binary:[makeGeneric(_Node,{T:t}),makeGeneric(_Node,{T:Operator}),makeGeneric(_Node,{T:t})],Boolean:["boolean"],Call:[[3,makeGeneric(_Node,{T:t})],makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:makeGeneric(List$1,{T:Argument})})],Empty:[],Function:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:t})],List:[makeGeneric(List$1,{T:makeGeneric(_Node,{T:t})})],Number:["number"],Property:[makeGeneric(_Node,{T:t}),makeGeneric(_Node,{T:Name})],String:["string"],Variable:[makeGeneric(_Node,{T:Name})]}},t}();declare(Expr);var f$1=_wks,_wksExt={f:f$1},iterator$2=_wksExt.f("iterator"),iterator=createCommonjsModule(function(t){t.exports={default:iterator$2,__esModule:!0}}),global$7=_global,core$3=_core,LIBRARY$1=_library,wksExt$1=_wksExt,defineProperty$5=_objectDp.f,_wksDefine=function(t){var e=core$3.Symbol||(core$3.Symbol=LIBRARY$1?{}:global$7.Symbol||{});"_"==t.charAt(0)||t in e||defineProperty$5(e,t,{value:wksExt$1.f(t)})},getKeys$1=_objectKeys,toIObject$4=_toIobject,_keyof=function(t,e){for(var n,r=toIObject$4(t),i=getKeys$1(r),o=i.length,s=0;o>s;)if(r[n=i[s++]]===e)return n},f$2=Object.getOwnPropertySymbols,_objectGops={f:f$2},f$3={}.propertyIsEnumerable,_objectPie={f:f$3},getKeys$2=_objectKeys,gOPS=_objectGops,pIE=_objectPie,_enumKeys=function(t){var e=getKeys$2(t),n=gOPS.f;if(n)for(var r,i=n(t),o=pIE.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e},$keys$3=_objectKeysInternal,hiddenKeys=_enumBugKeys.concat("length","prototype"),f$5=Object.getOwnPropertyNames||function(t){return $keys$3(t,hiddenKeys)},_objectGopn={f:f$5},toIObject$5=_toIobject,gOPN$1=_objectGopn.f,toString$3={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(t){try{return gOPN$1(t)}catch(t){return windowNames.slice()}},f$4=function(t){return windowNames&&"[object Window]"==toString$3.call(t)?getWindowNames(t):gOPN$1(toIObject$5(t))},_objectGopnExt={f:f$4},pIE$1=_objectPie,createDesc$3=_propertyDesc,toIObject$6=_toIobject,toPrimitive$2=_toPrimitive,has$6=_has,IE8_DOM_DEFINE$1=_ie8DomDefine,gOPD$1=Object.getOwnPropertyDescriptor,f$6=_descriptors?gOPD$1:function(t,e){if(t=toIObject$6(t),e=toPrimitive$2(e,!0),IE8_DOM_DEFINE$1)try{return gOPD$1(t,e)}catch(t){}if(has$6(t,e))return createDesc$3(!pIE$1.f.call(t,e),t[e])},_objectGopd={f:f$6},global$6=_global,has$5=_has,DESCRIPTORS$3=_descriptors,$export$7=_export,redefine$1=_redefine,META=_meta.KEY,$fails=_fails,shared$1=_shared,setToStringTag$3=_setToStringTag,uid$1=_uid,wks=_wks,wksExt=_wksExt,wksDefine=_wksDefine,keyOf=_keyof,enumKeys=_enumKeys,isArray$3=_isArray,anObject$5=_anObject,toIObject$3=_toIobject,toPrimitive$1=_toPrimitive,createDesc$2=_propertyDesc,_create=_objectCreate,gOPNExt=_objectGopnExt,$GOPD=_objectGopd,$DP=_objectDp,$keys$2=_objectKeys,gOPD=$GOPD.f,dP$6=$DP.f,gOPN=gOPNExt.f,$Symbol=global$6.Symbol,$JSON=global$6.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE$2="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared$1("symbol-registry"),AllSymbols=shared$1("symbols"),OPSymbols=shared$1("op-symbols"),ObjectProto$1=Object[PROTOTYPE$2],USE_NATIVE="function"==typeof $Symbol,QObject=global$6.QObject,setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild,setSymbolDesc=DESCRIPTORS$3&&$fails(function(){return 7!=_create(dP$6({},"a",{get:function(){return dP$6(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=gOPD(ObjectProto$1,e);r&&delete ObjectProto$1[e],dP$6(t,e,n),r&&t!==ObjectProto$1&&dP$6(ObjectProto$1,e,r)}:dP$6,wrap=function(t){var e=AllSymbols[t]=_create($Symbol[PROTOTYPE$2]);return e._k=t,e},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $Symbol},$defineProperty$1=function(t,e,n){return t===ObjectProto$1&&$defineProperty$1(OPSymbols,e,n),anObject$5(t),e=toPrimitive$1(e,!0),anObject$5(n),has$5(AllSymbols,e)?(n.enumerable?(has$5(t,HIDDEN)&&t[HIDDEN][e]&&(t[HIDDEN][e]=!1),n=_create(n,{enumerable:createDesc$2(0,!1)})):(has$5(t,HIDDEN)||dP$6(t,HIDDEN,createDesc$2(1,{})),t[HIDDEN][e]=!0),setSymbolDesc(t,e,n)):dP$6(t,e,n)},$defineProperties=function(t,e){anObject$5(t);for(var n,r=enumKeys(e=toIObject$3(e)),i=0,o=r.length;o>i;)$defineProperty$1(t,n=r[i++],e[n]);return t},$create=function(t,e){return void 0===e?_create(t):$defineProperties(_create(t),e)},$propertyIsEnumerable=function(t){var e=isEnum.call(this,t=toPrimitive$1(t,!0));return!(this===ObjectProto$1&&has$5(AllSymbols,t)&&!has$5(OPSymbols,t))&&(!(e||!has$5(this,t)||!has$5(AllSymbols,t)||has$5(this,HIDDEN)&&this[HIDDEN][t])||e)},$getOwnPropertyDescriptor=function(t,e){if(t=toIObject$3(t),e=toPrimitive$1(e,!0),t!==ObjectProto$1||!has$5(AllSymbols,e)||has$5(OPSymbols,e)){var n=gOPD(t,e);return!n||!has$5(AllSymbols,e)||has$5(t,HIDDEN)&&t[HIDDEN][e]||(n.enumerable=!0),n}},$getOwnPropertyNames=function(t){for(var e,n=gOPN(toIObject$3(t)),r=[],i=0;n.length>i;)has$5(AllSymbols,e=n[i++])||e==HIDDEN||e==META||r.push(e);return r},$getOwnPropertySymbols=function(t){for(var e,n=t===ObjectProto$1,r=gOPN(n?OPSymbols:toIObject$3(t)),i=[],o=0;r.length>o;)!has$5(AllSymbols,e=r[o++])||n&&!has$5(ObjectProto$1,e)||i.push(AllSymbols[e]);return i};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var t=uid$1(arguments.length>0?arguments[0]:void 0),e=function(n){this===ObjectProto$1&&e.call(OPSymbols,n),has$5(this,HIDDEN)&&has$5(this[HIDDEN],t)&&(this[HIDDEN][t]=!1),setSymbolDesc(this,t,createDesc$2(1,n))};return DESCRIPTORS$3&&setter&&setSymbolDesc(ObjectProto$1,t,{configurable:!0,set:e}),wrap(t)},redefine$1($Symbol[PROTOTYPE$2],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty$1,_objectGopn.f=gOPNExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,DESCRIPTORS$3&&!_library&&redefine$1(ObjectProto$1,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(t){return wrap(wks(t))}),$export$7($export$7.G+$export$7.W+$export$7.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i$1=0;symbols.length>i$1;)wks(symbols[i$1++]);for(var symbols=$keys$2(wks.store),i$1=0;symbols.length>i$1;)wksDefine(symbols[i$1++]);$export$7($export$7.S+$export$7.F*!USE_NATIVE,"Symbol",{for:function(t){return has$5(SymbolRegistry,t+="")?SymbolRegistry[t]:SymbolRegistry[t]=$Symbol(t)},keyFor:function(t){if(isSymbol(t))return keyOf(SymbolRegistry,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export$7($export$7.S+$export$7.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty$1,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export$7($export$7.S+$export$7.F*(!USE_NATIVE||$fails(function(){var t=$Symbol();return"[null]"!=_stringify([t])||"{}"!=_stringify({a:t})||"{}"!=_stringify(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!isSymbol(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&isArray$3(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!isSymbol(e))return e}),r[1]=e,_stringify.apply($JSON,r)}}}),$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf),setToStringTag$3($Symbol,"Symbol"),setToStringTag$3(Math,"Math",!0),setToStringTag$3(global$6.JSON,"JSON",!0),_wksDefine("asyncIterator"),_wksDefine("observable");var index=_core.Symbol,symbol=createCommonjsModule(function(t){t.exports={default:index,__esModule:!0}}),_Symbol2=unwrapExports(symbol),_typeof_1=createCommonjsModule(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=iterator,i=n(r),o=symbol,s=n(o),a="function"==typeof s.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===a(i.default)?function(t){return"undefined"==typeof t?"undefined":a(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":a(t)}}),_typeof$1=unwrapExports(_typeof_1),ProvidedType=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.ProvidedType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{GlobalValue:["string",makeGeneric(List$1,{T:Metadata}),Expression,Type],NamedType:["string",makeGeneric(List$1,{T:"string"}),Type]}},t}();declare(ProvidedType);var ProviderHelpers=function(t){t.docMeta=function(t){return new Metadata("http://thegamma.net","Documentation",t)};return t}({}),FSharpProvider=function(t){var e=t.AnyType=function(){function t(e){_classCallCheck(this,t),this.kind=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.AnyType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(e);var n=t.GenericParameterType=function(){function t(e,n){_classCallCheck(this,t),this.kind=e,this.name=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.GenericParameterType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",name:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(n);var r=t.ArrayType=function(){function t(e,n){_classCallCheck(this,t),this.kind=e,this.element=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.ArrayType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",element:e}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(r);var i=t.PrimitiveType=function(){function t(e,n){_classCallCheck(this,t),this.kind=e,this.name=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.PrimitiveType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",name:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(i);var o=t.FunctionType=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.arguments=n,this.returns=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.FunctionType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",arguments:[4,e],returns:e}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(o);var s=t.NamedType=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.name=n,this.typargs=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.NamedType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",name:"string",typargs:[4,e]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(s);var a=t.Member=function(){function t(e){_classCallCheck(this,t),this.kind=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.Member"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(a);var u=t.Argument=function(){function t(e,n,r){_classCallCheck(this,t),this.name=e,this.optional=n,this.type=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.Argument"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{name:"string",optional:"boolean",type:e}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(u);var l=t.MethodMember=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.kind=e,this.name=n,this.typepars=r,this.arguments=i,this.returns=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.MethodMember"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",name:"string",typepars:[4,e],arguments:[4,u],returns:e}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(l);var p=t.PropertyMember=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.name=n,this.returns=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.PropertyMember"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",name:"string",returns:e}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(p);var c=t.ExportedType=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.name=e,this.typepars=n,this.static=r,this.instance=i,this.members=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.FSharpProvider.ExportedType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{
name:"string",typepars:[4,e],static:"boolean",instance:[4,"string"],members:[4,a]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(c);t.provideFSharpTypes=function(t,e){var n=function e(n){var r=null;switch(n.kind){case"primitive":var i=n.name,o=null;switch(i){case"object":o=new Type("Any",[]);break;case"int":case"float":o=new Type("Primitive",[new PrimitiveType("Number",[])]);break;case"string":o=new Type("Primitive",[new PrimitiveType("String",[])]);break;case"bool":o=new Type("Primitive",[new PrimitiveType("Bool",[])]);break;case"unit":o=new Type("Primitive",[new PrimitiveType("Unit",[])]);break;default:throw"provideFSharpType: Unsupported type: "+i}r=o;break;case"function":var s=n;r=new Type("Function",[toList(s.arguments.map(e)),e(s.returns)]);break;case"named":var a=n;r=t(a.name)(ofArray$$1(a.typargs.map(e)));break;case"parameter":r=new Type("Parameter",[n.name]);break;case"array":r=new Type("List",[e(n.element)]);break;default:throw"provideFSharpType: Unexpected type"}return r},r=function(t){return ofArray$$1(t.map(function(t){var e=n(t);if("Parameter"===e.Case)return e.Fields[0];throw"importProvidedType: expected type parameter"}))},i=function(t){return function(t){return function(e){return Async_CreateNamedFuture_Static(t,e)}}(t.name)(function(e){return e.Delay(function(){var i=_Array$from(choose$2(function(t){return"method"===t.kind?function(){var e=t,i=toList(delay(function(){return map$6(function(t){return[t.name,t.optional,n(t.type)]},e.arguments)})),o=new Emitter(function(t){return new Expression("CallExpression",[new Expression("MemberExpression",[t[0],new Expression("IdentifierExpression",[e.name,null]),!1,null]),t[1],null])}),s=function(){var t=r(e.typepars);return null==t.tail?n(e.returns):new Type("Forall",[t,n(e.returns)])}();return new Member("Method",[e.name,i,s,ofArray$$1([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),o])}():null},t.members)),o=r(t.typepars);if(null==o.tail)return e.Return(new Type("Object",[new ObjectType(i)]));var s=new Type("Object",[new ObjectType(i)]);return e.Return(new Type("Forall",[o,s]))})}(singleton$2))};return function(t){return t.Delay(function(){return t.Bind(Http.Request("GET",e),function(n){var o=JSON.parse(n);return t.Return(toList(delay(function(){return map$6(function(t){var n=e+","+t.name,o=new Type("Delayed",[n,i(t)]);if(t.static){var s=fold$1(function(t,e){return null!=t?new Expression("MemberExpression",[t,new Expression("IdentifierExpression",[e,null]),!1,null]):new Expression("IdentifierExpression",[e,null])},null,t.instance),a=function(){var e=r(t.typepars);return null==e.tail?o:new Type("App",[o,toList(delay(function(){return map$6(function(t){return new Type("Any",[])},e)}))])}();return new ProvidedType("GlobalValue",[t.name,new List$1,s,a])}return new ProvidedType("NamedType",[t.name,r(t.typepars),o])},o)})))})})}(singleton$2)};return t}({}),RestProvider=function(t){var e=t.AnyType=function(){function t(e){_classCallCheck(this,t),this.kind=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.AnyType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(e);var n=t.TypeNested=function(){function t(e,n){_classCallCheck(this,t),this.kind=e,this.endpoint=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.TypeNested"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",endpoint:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(n);var r=t.TypePrimitive=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.type=n,this.endpoint=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.TypePrimitive"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{kind:"string",type:[1],endpoint:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(r);var i=t.Parameter=function(){function t(e,n){_classCallCheck(this,t),this.name=e,this.type=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.Parameter"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{name:"string",type:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(i);var o=t.Documentation=function(){function t(e,n){_classCallCheck(this,t),this.title=e,this.details=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.Documentation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{title:[3,"string"],details:[3,"string"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(o);var s=t.Member=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.name=e,this.returns=n,this.parameters=r,this.documentation=i,this.schema=o,this.trace=s}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.Member"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{name:"string",returns:e,parameters:[3,[4,i]],documentation:[3,[1]],schema:[3,[1]],trace:[4,"string"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(s);var a=t.ResultType=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.ResultType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Generic:["string",[4,t]],Primitive:["string"],Record:[[4,[5,["string",t]]]]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(a);var u=t.RawField=function(){function t(e,n){_classCallCheck(this,t),this.name=e,this.type=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.RawField"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{name:"string",type:[1]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(u);var l=t.RawResultType=function(){function t(e,n,r){_classCallCheck(this,t),this.name=e,this.fields=n,this.params=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.RestProvider.RawResultType"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{name:"string",fields:[4,u],params:[4,[1]]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(l);var p=t.parseDoc=function(t){return function(){return null==t}()?new Documentation("None",[]):"string"==typeof t?new Documentation("Text",[t]):function(){var e=t,n=[e.title,e.details],r=function(){return new Documentation("None",[])};if(null!=n[0]){if(null!=n[1]){var i=n[1],o=n[0];return new Documentation("Details",[o,i])}return r()}return r()}()},c=t.fromRawType=function t(e){return"string"==typeof e?new a("Primitive",[e]):function(){var n=e;return"record"===n.name?new a("Record",[n.fields.map(function(e){return[e.name,t(e.type)]})]):new a("Generic",[n.name,_Array$from(map$6(function(e){return t(e)},n.params))])}()},h=t.load=function(t,e){return function(n){return n.Delay(function(){return n.Bind(Http.Request("GET",t,null,e),function(t){var e=JSON.parse(t);return n.Return(e)})})}(singleton$2)},f=t.trimLeft=function(t,e){return _Array$from(skipWhile(function(e){return t===e},e.split(""))).join("")},d=t.trimRight=function(t,e){return _Array$from(skipWhile(function(e){return t===e},e.split("").reverse())).reverse().join("")},y=t.concatUrl=function(t,e){return d("/",t)+"/"+f("/",e)},m=t.addTraceCall=function(t,e){return isEmpty$1(e)?t:function(){var n=new Expression("StringLiteral",[join("&",e),null]),r=new Expression("MemberExpression",[t,new Expression("IdentifierExpression",["addTrace",null]),!1,null]);return new Expression("CallExpression",[r,ofArray$$1([n]),null])}()},g=t.propAccess=function(t){return new Emitter(function(e){return m(e[0],t)})},v=t.methCall=function(t,e){return new Emitter(function(n){var r=m(n[0],e);return function(){var t=function(t){return function(e){var n=new Expression("BinaryExpression",[new BinaryOperator("BinaryPlus",[]),new Expression("StringLiteral",[e[0]+"=",null]),e[1],null]),r=new Expression("MemberExpression",[t,new Expression("IdentifierExpression",["addTrace",null]),!1,null]);return new Expression("CallExpression",[r,ofArray$$1([n]),null])}};return function(e){return fold$1(function(e,n){return t(e)(n)},r,e)}}()(zip(t,n[1]))})},$=t.dataCall=function(t,e,n){return new Emitter(function(r){var i=g(e).Emit([r[0],r[1]]),o=new Expression("MemberExpression",[i,new Expression("IdentifierExpression",["getValue",null]),!1,null]);return t(new Expression("CallExpression",[o,ofArray$$1([new Expression("StringLiteral",[n,null])]),null]))})},C=t.ident=function(t){return new Expression("IdentifierExpression",[t,null])},b=t.str=function(t){return new Expression("StringLiteral",[t,null])},S=t.op_Dynamic=function(t,e){return new Expression("MemberExpression",[t,new Expression("IdentifierExpression",[e,null]),!1,null])},w=t.op_DivideAtDivide=function(t,e){return new Expression("CallExpression",[t,e,null])},_=t.func=function(t,e){var n=new Statement("BlockStatement",[ofArray$$1([new Statement("ReturnStatement",[e(C(t)),null])]),null]);return new Expression("FunctionExpression",[null,ofArray$$1([new Pattern("IdentifierPattern",[t,null])]),n,!1,!1,null])},T=t.getTypeAndEmitter=function t(e,n){var r=function(){return[new Type("Primitive",[new PrimitiveType("Number",[])]),function(t){return new Expression("CallExpression",[new Expression("IdentifierExpression",["Number",null]),ofArray$$1([t]),null])}]},i=function(n){var r=t(e,n),i=e("series")(ofArray$$1([new Type("Primitive",[new PrimitiveType("Number",[])]),r[0]]));return[i,function(t){return w(S(C("series"),"ordinal"),ofArray$$1([w(C("convertSequence"),ofArray$$1([_("v",r[1]),t])),b("key"),b("value"),b("")]))}]},o=function(){throw console.log("getTypeAndEmitter: Cannot handle %O",n),"getTypeAndEmitter: Cannot handle type"};if("Generic"!==n.Case){if("Record"===n.Case){var s=n.Fields[0],a=s.map(function(n){var r=t(e,n[1]),i=new Emitter(function(t){return r[1](S(t[0],n[0]))});return new Member("Property",[n[0],r[0],ofArray$$1([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),i])}),u=new Type("Object",[new ObjectType(a)]);return[u,function(t){return t}]}return"string"===n.Fields[0]?[new Type("Primitive",[new PrimitiveType("String",[])]),function(t){return t}]:"int"===n.Fields[0]?r():"float"===n.Fields[0]?r():o()}if("seq"!==n.Fields[0])return o();if(1!==n.Fields[1].length)return o();if("Generic"!==n.Fields[1][0].Case)return i(n.Fields[1][0]);if("tuple"!==n.Fields[1][0].Fields[0])return i(n.Fields[1][0]);if(!function(){var t=n.Fields[1][0].Fields[1];return 2===t.length}())return i(n.Fields[1][0]);var l=n.Fields[1][0].Fields[1][0],p=n.Fields[1][0].Fields[1][1],c=function(){var n=t(e,l),r=t(e,p),i=e("series")(ofArray$$1([n[0],r[0]]));return{v:[i,function(t){return w(S(C("series"),"create"),ofArray$$1([w(C("convertTupleSequence"),ofArray$$1([_("v",n[1]),_("v",r[1]),t])),b("key"),b("value"),b("")]))}]}}();return"object"===("undefined"==typeof c?"undefined":_typeof$1(c))?c.v:void 0},x=t.mapParamType=function(t){var e=null;switch(t){case"int":case"float":e=new PrimitiveType("Number",[]);break;default:throw"mapParamType: Unsupported parameter type"}return e},E=t.restTypeCache=new _Map,A=t.createRestType=function t(e,n,r,i){var o=y(n,i)+r,s=tryGetValue(E,o);if(s[0])return s[1];var a=function(o){return o.Delay(function(){return o.Bind(h(y(n,i),r),function(i){return o.Return(new Type("Object",[new ObjectType(i.map(function(i){var o=null!=i.schema?ofArray$$1([function(){var t=i.schema["@type"];return new Metadata("http://schema.org",t,i.schema)}()]):new List$1,s=i.returns.kind,a=null;switch(s){case"nested":var u=i.returns,l=t(e,n,r,u.endpoint);if(null==i.parameters)a=new Member("Property",[i.name,l,new List$1(ProviderHelpers.docMeta(p(i.documentation)),o),g(i.trace)]);else{var h=toList(delay(function(){return map$6(function(t){return[t.name,!1,new Type("Primitive",[x(t.type)])]},i.parameters)})),f=toList(delay(function(){return map$6(function(t){return t.name},i.parameters)}));a=new Member("Method",[i.name,h,l,ofArray$$1([ProviderHelpers.docMeta(p(i.documentation))]),v(f,i.trace)])}break;case"primitive":var d=i.returns,y=c(d.type),m=T(e,y);a=new Member("Property",[i.name,m[0],new List$1(ProviderHelpers.docMeta(p(i.documentation)),o),$(m[1],i.trace,d.endpoint)]);break;default:throw"?"}return a}))]))})})}(singleton$2),u=new Type("Delayed",[o,function(t){return function(e){return Async_CreateNamedFuture_Static(t,e)}}(o)(a)]);return E.set(o,u),u};t.provideRestType=function(t,e,n,r){var i=C("RuntimeContext");return new ProvidedType("GlobalValue",[e,new List$1,new Expression("NewExpression",[i,ofArray$$1([b(n),b(r),b("")]),null]),A(t,n,r,"/")])};return t}({}),SeriesInternals=function(t){var e=(t.slice=function(t,e,n){return _Array$from(initialize$1(e-t+1,function(e){return n[t+e]}))},t.dictAny=function(t){return new _Map(t)}),n=t.zipUnsorted=function(t,n){for(var r=e(t),i=e(n),o=[],s=r,a=Array.isArray(s),u=0,s=a?s:_getIterator(s);;){var l;if(a){if(u>=s.length)break;l=s[u++]}else{if(u=s.next(),u.done)break;l=u.value}var p=l,c=i.has(p[0])?i.get(p[0]):null;o.push([p[0],[p[1],c]])}for(var h=i,f=Array.isArray(h),d=0,h=f?h:_getIterator(h);;){var y;if(f){if(d>=h.length)break;y=h[d++]}else{if(d=h.next(),d.done)break;y=d.value}var m=y;r.has(m[0])||o.push([m[0],[null,m[1]]])}return _Array$from(o)},r=t.isSortedUsing=function(t,e,n){var r=function r(i){return i===n.length||!!t(e(n[i-1]))(e(n[i]))&&r(i+1)};return 0===n.length||r(1)},i=t.zipSorted=function(t,e){for(var n=0,r=0,i=function(t){return function(e){return(t<e?-1:t==e?0:1)<0}},o=function(t){return function(e){return 0===(t<e?-1:t==e?0:1)}},s=[];n<t.length&&r<e.length;){var a=[t[n],e[r]],u=a[1][1],l=a[0][1],p=a[1][0],c=a[0][0];o(c)(p)?(s.push([c,[l,u]]),n+=1,r+=1):i(c)(p)?(s.push([c,[l,null]]),n+=1):i(p)(c)&&(s.push([p,[null,u]]),r+=1)}for(;n<t.length;){var h=t[n];s.push([h[0],[h[1],null]]),n+=1}for(;r<e.length;){var f=e[r];s.push([f[0],[null,f[1]]]),r+=2}return _Array$from(s)};t.zipAny=function(t,e){var o=function(t){return function(e){return(t<e?-1:t==e?0:1)<=0}},s=function(t){return function(e){return(t<e?-1:t==e?0:1)>=0}};return!!r(o,function(t){return t[0]},t)&&r(o,function(t){return t[0]},e)?i(t,e):!!r(s,function(t){return t[0]},t)&&r(s,function(t){return t[0]},e)?i(t.reverse(),e.reverse()).reverse():n(t,e)};return t}({}),helpers=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Series.helpers"},t.prototype[_Symbol.properties]=function(){return{}},t}();declare(helpers);var series=function(){function t(e,n,r,i){_classCallCheck(this,t),this.data=e,this.keyName=n,this.valueName=r,this.seriesName=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Series.series"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{data:[7,"TheGamma.Common.Future"],keyName:"string",valueName:"string",seriesName:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.set=function(e,n,r,i){return new t(e,null!=n?n:this.keyName,null!=r?r:this.valueName,null!=i?i:this.seriesName)},t.prototype.setProperties=function(e,n,r){var i=null!=e?e:this.keyName,o=null!=n?n:this.valueName,s=null!=r?r:this.seriesName;return new t(this.data,i,o,s)},t.create=function(e,n,r,i){return new t(Async_StartAsFuture_Static(e),n,r,i)},t.values=function(e){var n=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Return(_Array$from(mapIndexed$1(function(t,e){return[t,e]},e)))})}(singleton$2));return new t(n,"key","value","")},t.range=function(e,n){return t.values(Int32Array.from(range$1(e,n)))},t.rangeBy=function(e,n,r){return t.values(Int32Array.from(rangeStep(e,r,n)))},t.ordinal=function(e,n,r,i){var o=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(e,function(e){return t.Return(_Array$from(mapIndexed$1(function(t,e){return[t,e]},e)))})})}(singleton$2));return new t(o,n,r,i)},t.prototype.sortKeys=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return(equals$1(e,!0)?function(t){return t.reverse()}:function(t){return t})(_Array$from(sortWith(function(t,e){return t[0]<e[0]?-1:t[0]==e[0]?0:1},t)))})(this)},t.prototype.sortValues=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return(equals$1(e,!0)?function(t){return t.reverse()}:function(t){return t})(_Array$from(sortWith(function(t,e){return t[1]<e[1]?-1:t[1]==e[1]?0:1},t)))})(this)},t.prototype.sortBy=function(e,n){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return(equals$1(n,!0)?function(t){return t.reverse()}:function(t){return t})(_Array$from(sortWith(function(t,n){return e(t[1])<e(n[1])?-1:e(t[1])==e(n[1])?0:1},t)))})(this)},t.prototype.reverse=function(){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return t.reverse()})(this)},t.prototype.take=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return SeriesInternals.slice(0,(t.length<e?t.length:e)-1,t)})(this)},t.prototype.skip=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return SeriesInternals.slice(t.length<e?t.length:e,t.length-1,t)})(this)},t.prototype.map=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(){var t=function(t){return[t[0],e(t[1])]};return function(e){return e.map(t)}}())(this)},t.prototype.mapKeys=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(){var t=function(t){return[e(t[0]),t[1]]};return function(e){return e.map(t)}}())(this)},t.prototype.mapPairs=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(){var t=function(t){return[t[0],e(t[0])(t[1])]};return function(e){return e.map(t)}}())(this)},t.prototype.filter=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(){var t=function(t){return e(function(t){return t[1]}(t))};return function(e){return e.filter(t)}}())(this)},t.prototype.choose=function(e){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(){var t=function(t){var n=e(t[1]);if(null!=n)return[t[0],n]};return function(e){return _Array$from(choose$2(t,e))}}())(this)},t.prototype.joinOuter=function(e){var n=this,r=function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Bind(Async_AwaitFuture_Static(e.data),function(e){return t.Return(SeriesInternals.zipAny(n,e))})})})}(singleton$2);return t.create(r,this.keyName,"Values",this.seriesName+" and "+e.seriesName)},t.prototype.joinInner=function(t){return this.joinOuter(t).choose(function(t){var e=function(){return null};if(null!=t[0]){if(null!=t[1]){var n=t[0],r=t[1];return[n,r]}return e()}return e()})},t.prototype.appendScalar=function(e,n){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.Return(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return t.concat([[e,n]])})(this)},t.prototype.append=function(t){var e=this;return this.set(Async_StartAsFuture_Static(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(e.data),function(e){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Return(e.concat(t))})})})}(singleton$2)))},t.prototype.realign=function(e,n){return function(e){return function(n){var r=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(n.data),function(n){return t.ReturnFrom(e(n))})})}(singleton$2));return new t(r,n.keyName,n.valueName,n.seriesName)}}(function(t){return function(r){return r.Delay(function(){return r.Bind(Async_AwaitFuture_Static(e.data),function(e){var i=e.map(function(t){return t[1]}),o=create$4(t,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return r.Return(i.map(function(t){var e=tryFind$1(t,o);return null==e?[t,n]:[t,e]}))})})}(singleton$2)})(this)},t.prototype.preview=function(){return this.take(10)},t}();declare(series);var RuntimeContext=function(){function t(e,n,r){_classCallCheck(this,t),this["root@19"]=e,this.cookies=n,this["trace@19"]=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProvidersRuntime.RuntimeContext"},t.prototype[_Symbol.properties]=function(){return{root:"string",trace:"string"}},t.prototype.addTrace=function(e){var n=this,r=toList(delay(function(){return append$2(isNullOrEmpty(n["trace@19"])?empty():singleton$1(n["trace@19"]),delay(function(){return isNullOrEmpty(e)?empty():singleton$1(e)}))}));return new t(this["root@19"],this.cookies,join("&",r))},t.prototype.getValue=function(t){var e=this;return function(n){return n.Delay(function(){return n.Bind(Http.Request("POST",concatUrl(e["root@19"],t),e["trace@19"],e.cookies),function(t){return n.Return(JSON.parse(t))})})}(singleton$2)},_createClass$5(t,[{key:"root",get:function(){return this["root@19"]}},{key:"trace",get:function(){return this["trace@19"]}}]),t}();declare(RuntimeContext);var PivotContext=function(){function t(e,n){_classCallCheck(this,t),this.root=e,this.calls=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProvidersRuntime.PivotContext"},t.prototype[_Symbol.properties]=function(){return{}},t.prototype.addCall=function(e,n){return new t(this.root,[[e,n]].concat(this.calls))},t.prototype.getData=function(t,e){var n=this;return function(r){return r.Delay(function(){var i=function(){var e=function(t){return function(e){if(1!==e[1].length)throw"PivotContext.getData: Expected one argument";return replace$$1(t,e[0],toString$2(e[1][0]))}};return function(n){return fold$1(function(t,n){return e(t)(n)},t,n)}}()(n.calls);Log.trace("runtime","Pivot: %s",concatUrl(n.root,i));var o=e?concatUrl(n.root,i)+"?preview":concatUrl(n.root,i);return r.Bind(Http.Request("GET",o),function(t){return r.Return(JSON.parse(t))})})}(singleton$2)},t}();declare(PivotContext);var ChartData=function(){function t(e){_classCallCheck(this,t),this.data=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.ChartData"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{data:Async$1}},t}();declare(ChartData);var Helpers=function(t){t.copy=function(t,e){return null==t?void 0:t[e]},t.orDefault=function(t){return null!=t?t:void 0},t.right=function(t,e,n){return null!=n?n:null==t?void 0:t[e]},t.showChart=function(t,e){drawChart(function(n){!function(t){startImmediate(t)}(function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){return r.Bind(t.data.data,function(i){return n([t,i,e]),r.Zero()})}),function(t){return Log.error("google","Error when getting data or rendering chart: %O",t),r.Zero()})})}(singleton$2))})};return t}({}),ChartDataOperations=function(t){var e=t.collect=function t(e,n){return function(r){return r.Delay(function(){return null==n.tail?r.Return(new List$1):r.Bind(e(n.head),function(i){return r.Bind(t(e,n.tail),function(t){return r.Return(append$1(i,t))})})})}(singleton$2)};t.oneKeyValue=function(t,e){return new ChartData(function(n){return n.Delay(function(){var r=new google.visualization.DataTable;return r.addColumn(t,e.keyName),r.addColumn("number",e.seriesName),n.Bind(Async_AwaitFuture_Static(e.mapPairs(function(t){return function(e){return[t,e]}}).data),function(t){return function(t){r.addRows(t)}(t.map(function(t){return t[1]})),n.Return(r)})})}(singleton$2))},t.oneKeyTwoValues=function(t,e){return new ChartData(function(n){return n.Delay(function(){var r=new google.visualization.DataTable;return r.addColumn(t,e.keyName),r.addColumn("number",e.seriesName),r.addColumn("number",e.seriesName),n.Bind(Async_AwaitFuture_Static(e.mapPairs(function(t){return function(e){return[t,e[0],e[1]]}}).data),function(t){return function(t){r.addRows(t)}(t.map(function(t){return t[1]})),n.Return(r)})})}(singleton$2))},t.oneKeyAppendValues=function(t,n,r){return new ChartData(function(i){return i.Delay(function(){var o=new google.visualization.DataTable;return o.addColumn(t,n[0].keyName),o.addColumn("number",n[0].valueName),o.addColumn({type:"string",role:"style"}),i.Bind(e(function(t){return function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(t[0].mapPairs(function(e){return function(n){return[e,n,t[1]]}}).data),function(t){return e.Return(ofArray$$1(t.map(function(t){return t[1]})))})})}(singleton$2)},ofArray$$1(_Array$from(zip(n,r)))),function(t){return function(t){o.addRows(t)}(_Array$from(toList(sortWith(function(t,e){return-compare(function(t){return t[1]}(t),function(t){return t[1]}(e))},t))).map(function(t){return[t[0],t[1],t[2]]})),i.Return(o)})})}(singleton$2))},t.oneKeyNValues=function(t,e){return new ChartData(function(n){return n.Delay(function(){var r=new google.visualization.DataTable;return n.Bind(Async_AwaitFuture_Static(e.data),function(e){var i=e.map(function(t){return t[1]});return r.addColumn(t,i[0].keyName),n.Combine(n.For(range$1(0,i.length-1),function(t){return r.addColumn("number",i[t].seriesName),n.Zero()}),n.Delay(function(){var t=i[0].map(function(t){return create$4(ofArray$$1([[0,t]]),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}))}),e=_Array$from(mapIndexed$1(function(t,e){return[t+1,e]},SeriesInternals.slice(1,i.length-1,i))),o=fold$1(function(t,e){return t.joinOuter(e[1]).map(function(t){var n=[null!=t[0]?t[0]:create$4(null,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),t[1]];if(null==n[1])return n[0];var r=n[1];return add$2(e[0],r,n[0])})},t,e);return n.Bind(Async_AwaitFuture_Static(o.mapPairs(function(t){return function(e){var n=_Array$from(initialize$1(i.length,function(t){return null!=tryFind$1(t,e)?tryFind$1(t,e):void 0}));return _Array$from(append$2([t],n))}}).data),function(t){return function(t){r.addRows(t)}(t.map(function(t){return t[1]})),n.Return(r)})}))})})}(singleton$2))},t.twoValues=function(t,e){return new ChartData(function(n){return n.Delay(function(){var r=new google.visualization.DataTable;return r.addColumn("number",t.seriesName),r.addColumn("number",e.seriesName),n.Bind(Async_AwaitFuture_Static(t.joinInner(e).map(function(t){return[t[0],t[1]]}).data),function(t){return function(t){r.addRows(t)}(t.map(function(t){return t[1]})),n.Return(r)})})}(singleton$2))};return t}({}),ChartSizeAxis=function(){function t(e,n,r,i){_classCallCheck(this,t),this.maxSize=e,this.maxValue=n,this.minSize=r,this.minValue=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartSizeAxis"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{maxSize:"number",maxValue:"number",minSize:"number",minValue:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartSizeAxis);var ChartTextStyle=function(){function t(e,n,r,i,o,s,a){_classCallCheck(this,t),this.fontName=e,this.fontSize=n,this.bold=r,this.italic=i,this.color=o,this.auraColor=s,this.opacity=a}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartTextStyle"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{fontName:"string",fontSize:"number",bold:"boolean",italic:"boolean",color:"string",auraColor:"string",opacity:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartTextStyle);var ChartTooltip=function(){function t(e,n,r,i){_classCallCheck(this,t),this.isHtml=e,this.showColorCode=n,this.textStyle=r,this.trigger=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartTooltip"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{isHtml:"boolean",showColorCode:"boolean",textStyle:ChartTextStyle,trigger:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t);
},t}();declare(ChartTooltip);var ChartLegend=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.alignment=e,this.maxLines=n,this.position=r,this.textStyle=i,this.numberFormat=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartLegend"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{alignment:"string",maxLines:"number",position:"string",textStyle:ChartTextStyle,numberFormat:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartLegend);var ChartColorAxis=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.minValue=e,this.maxValue=n,this.values=r,this.colors=i,this.legend=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartColorAxis"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{minValue:"number",maxValue:"number",values:[4,"number"],colors:[4,"string"],legend:ChartLegend}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartColorAxis);var GeoChartMagnifyingGlass=function(){function t(e,n){_classCallCheck(this,t),this.enable=e,this.zoomFactor=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{enable:"boolean",zoomFactor:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(GeoChartMagnifyingGlass);var GeoChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y){_classCallCheck(this,t),this.backgroundColor=e,this.colorAxis=n,this.datalessRegionColor=r,this.displayMode=i,this.enableRegionInteractivity=o,this.height=s,this.keepAspectRatio=a,this.legend=u,this.region=l,this.magnifyingGlass=p,this.markerOpacity=c,this.resolution=h,this.sizeAxis=f,this.tooltip=d,this.width=y}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.GeoChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{backgroundColor:[1],colorAxis:ChartColorAxis,datalessRegionColor:"string",displayMode:"string",enableRegionInteractivity:"boolean",height:"number",keepAspectRatio:"boolean",legend:ChartLegend,region:"string",magnifyingGlass:GeoChartMagnifyingGlass,markerOpacity:"number",resolution:"string",sizeAxis:ChartSizeAxis,tooltip:ChartTooltip,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(GeoChartOptions);var ChartBoxStyleGradient=function(){function t(e,n,r,i,o,s,a){_classCallCheck(this,t),this.color1=e,this.color2=n,this.x1=r,this.y1=i,this.x2=o,this.y2=s,this.useObjectBoundingBoxUnits=a}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartBoxStyleGradient"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color1:"string",color2:"string",x1:"string",y1:"string",x2:"string",y2:"string",useObjectBoundingBoxUnits:"boolean"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartBoxStyleGradient);var ChartBoxStyle=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.stroke=e,this.strokeWidth=n,this.rx=r,this.ry=i,this.gradient=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartBoxStyle"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{stroke:"string",strokeWidth:"number",rx:"number",ry:"number",gradient:ChartBoxStyleGradient}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartBoxStyle);var ChartAnnotations=function(){function t(e,n){_classCallCheck(this,t),this.boxStyle=e,this.textStyle=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartAnnotations"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{boxStyle:ChartBoxStyle,textStyle:ChartTextStyle}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartAnnotations);var ChartCrosshairFocused=function(){function t(e,n){_classCallCheck(this,t),this.color=e,this.opacity=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartCrosshairFocused"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color:"string",opacity:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartCrosshairFocused);var ChartCrosshairSelected=function(){function t(e,n){_classCallCheck(this,t),this.color=e,this.opacity=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartCrosshairSelected"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color:"string",opacity:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartCrosshairSelected);var ChartCrosshair=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.color=e,this.focused=n,this.opacity=r,this.orientation=i,this.selected=o,this.trigger=s}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartCrosshair"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color:"string",focused:ChartCrosshairFocused,opacity:"number",orientation:"string",selected:ChartCrosshairSelected,trigger:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartCrosshair);var ChartExplorer=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.actions=e,this.axis=n,this.keepInBounds=r,this.maxZoomIn=i,this.maxZoomOut=o,this.zoomDelta=s}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartExplorer"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{actions:[4,"string"],axis:"string",keepInBounds:"boolean",maxZoomIn:"number",maxZoomOut:"number",zoomDelta:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartExplorer);var ChartStroke=function(){function t(e,n,r){_classCallCheck(this,t),this.stroke=e,this.strokeWidth=n,this.fill=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartStroke"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{stroke:"string",strokeWidth:"number",fill:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartStroke);var ChartArea=function(){function t(e,n,r,i){_classCallCheck(this,t),this.top=e,this.left=n,this.width=r,this.height=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartArea"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{top:[1],left:[1],width:[1],height:[1]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(ChartArea);var TransitionAnimation=function(){function t(e,n){_classCallCheck(this,t),this.duration=e,this.easing=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.TransitionAnimation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{duration:"number",easing:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(TransitionAnimation);var ChartGridlines=function(){function t(e,n){_classCallCheck(this,t),this.color=e,this.count=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartGridlines"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color:"string",count:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartGridlines);var ChartViewWindow=function(){function t(e,n){_classCallCheck(this,t),this.max=e,this.min=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartViewWindow"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{max:"number",min:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartViewWindow);var ChartAxis=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w){_classCallCheck(this,t),this.baseline=e,this.baselineColor=n,this.direction=r,this.format=i,this.gridlines=o,this.minorGridlines=s,this.logScale=a,this.textPosition=u,this.textStyle=l,this.ticks=p,this.title=c,this.titleTextStyle=h,this.allowContainerBoundaryTextCufoff=f,this.slantedText=d,this.slantedTextAngle=y,this.maxAlternation=m,this.maxTextLines=g,this.minTextSpacing=v,this.showTextEvery=$,this.maxValue=C,this.minValue=b,this.viewWindowMode=S,this.viewWindow=w}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartAxis"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{baseline:"number",baselineColor:"string",direction:"number",format:"string",gridlines:ChartGridlines,minorGridlines:ChartGridlines,logScale:"boolean",textPosition:"string",textStyle:ChartTextStyle,ticks:[4,[1]],title:"string",titleTextStyle:ChartTextStyle,allowContainerBoundaryTextCufoff:"boolean",slantedText:"boolean",slantedTextAngle:"number",maxAlternation:"number",maxTextLines:"number",minTextSpacing:"number",showTextEvery:"number",maxValue:"number",minValue:"number",viewWindowMode:"string",viewWindow:ChartViewWindow}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(ChartAxis);var ChartBoundingBox=function(){function t(e,n,r,i){_classCallCheck(this,t),this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartBoundingBox"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{left:"number",top:"number",width:"number",height:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartBoundingBox);var GroupWidth=function(){function t(e){_classCallCheck(this,t),this.groupWidth=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.GroupWidth"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{groupWidth:[1]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(GroupWidth);var Trendline=function(){function t(e,n,r,i,o,s,a,u,l){_classCallCheck(this,t),this.color=e,this.lineWidth=n,this.labelInLegend=r,this.opacity=i,this.pointSize=o,this.pointsVisible=s,this.showR2=a,this.type=u,this.visibleInLegend=l}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.Trendline"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color:"string",lineWidth:"number",labelInLegend:"string",opacity:"number",pointSize:"number",pointsVisible:"boolean",showR2:"boolean",type:"string",visibleInLegend:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Trendline);var ScatterChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E,A,F,N){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.annotations=r,this.axisTitlesPosition=i,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=u,this.curveType=l,this.dataOpacity=p,this.enableInteractivity=c,this.explorer=h,this.fontSize=f,this.fontName=d,this.forceIFrame=y,this.hAxis=m,this.height=g,this.legend=v,this.lineWidth=$,this.pointSize=C,this.selectionMode=b,this.series=S,this.theme=w,this.title=_,this.titlePosition=T,this.titleTextStyle=x,this.tooltip=E,this.trendlines=A,this.vAxis=F,this.width=N}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ScatterChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:[1],chartArea:ChartArea,colors:[4,"string"],crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,lineWidth:"number",pointSize:"number",selectionMode:"string",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,trendlines:[4,Trendline],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(ScatterChartOptions);var ColumnChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.annotations=r,this.axisTitlesPosition=i,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=u,this.enableInteractivity=l,this.focusTarget=p,this.fontSize=c,this.fontName=h,this.hAxis=f,this.height=d,this.isStacked=y,this.legend=m,this.reverseCategories=g,this.selectionMode=v,this.series=$,this.theme=C,this.title=b,this.titlePosition=S,this.titleTextStyle=w,this.tooltip=_,this.vAxes=T,this.vAxis=x,this.width=E}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ColumnChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:[1],bar:GroupWidth,chartArea:ChartArea,colors:[4,"string"],enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(ColumnChartOptions);var LineChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E,A,F,N,k,H,P){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.annotations=r,this.axisTitlesPosition=i,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=u,this.curveType=l,this.dataOpacity=p,this.enableInteractivity=c,this.explorer=h,this.focusTarget=f,this.fontSize=d,this.fontName=y,this.hAxis=m,this.height=g,this.interpolateNulls=v,this.legend=$,this.lineWidth=C,this.orientation=b,this.pointSize=S,this.reverseCategories=w,this.selectionMode=_,this.series=T,this.theme=x,this.title=E,this.titlePosition=A,this.titleTextStyle=F,this.tooltip=N,this.vAxes=k,this.vAxis=H,this.width=P}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.LineChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:[1],chartArea:ChartArea,colors:[4,"string"],crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(LineChartOptions);var BarChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E,A){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.annotations=r,this.axisTitlesPosition=i,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=u,this.dataOpacity=l,this.enableInteractivity=p,this.focusTarget=c,this.fontSize=h,this.fontName=f,this.hAxes=d,this.hAxis=y,this.height=m,this.isStacked=g,this.legend=v,this.reverseCategories=$,this.series=C,this.theme=b,this.title=S,this.titlePosition=w,this.titleTextStyle=_,this.tooltip=T,this.vAxes=x,this.vAxis=E,this.width=A}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.BarChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:[1],bar:GroupWidth,chartArea:ChartArea,colors:[4,"string"],dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxes:[1],hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(BarChartOptions);var HistogramHistogram=function(){function t(e,n,r){_classCallCheck(this,t),this.bucketSize=e,this.hideBucketItems=n,this.lastBucketPercentile=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.HistogramHistogram"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{bucketSize:"number",hideBucketItems:"boolean",lastBucketPercentile:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(HistogramHistogram);var HistogramOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E,A){_classCallCheck(this,t),this.animation=e,this.axisTitlesPosition=n,this.backgroundColor=r,this.bar=i,this.chartArea=o,this.colors=s,this.dataOpacity=a,this.enableInteractivity=u,this.focusTarget=l,this.fontSize=p,this.fontName=c,this.hAxis=h,this.histogram=f,this.height=d,this.interpolateNulls=y,this.isStacked=m,this.legend=g,this.orientation=v,this.reverseCategories=$,this.series=C,this.theme=b,this.title=S,this.titlePosition=w,this.titleTextStyle=_,this.tooltip=T,this.vAxes=x,this.vAxis=E,this.width=A}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.HistogramOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:[1],bar:GroupWidth,chartArea:ChartArea,colors:[4,"string"],dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,histogram:HistogramHistogram,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(HistogramOptions);var AreaChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E,A,F,N,k,H,P){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.areaOpacity=r,this.axisTitlesPosition=i,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=u,this.dataOpacity=l,this.enableInteractivity=p,this.explorer=c,this.focusTarget=h,this.fontSize=f,this.fontName=d,this.hAxis=y,this.height=m,this.interpolateNulls=g,this.isStacked=v,this.legend=$,this.lineWidth=C,this.orientation=b,this.pointSize=S,this.reverseCategories=w,this.selectionMode=_,this.series=T,this.theme=x,this.title=E,this.titlePosition=A,this.titleTextStyle=F,this.tooltip=N,this.vAxes=k,this.vAxis=H,this.width=P}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.AreaChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:[1],chartArea:ChartArea,colors:[4,"string"],crosshair:ChartCrosshair,dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(AreaChartOptions);var AnnotationChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_){_classCallCheck(this,t),this.allowHtml=e,this.allValuesSuffix=n,this.annotationsWidth=r,this.colors=i,this.dateFormat=o,this.displayAnnotations=s,this.displayAnnotationsFilter=a,this.displayDateTimeBarSeparator=u,this.displayExactValues=l,this.displayLegendDots=p,this.displayLegendValues=c,this.displayRangeSelector=h,this.displayZoomButtons=f,this.fill=d,this.legendPosition=y,this.max=m,this.min=g,this.numberFormats=v,this.scaleColumns=$,this.scaleFormat=C,this.scaleType=b,this.thickness=S,this.zoomEndTime=w,this.zoomStartTime=_}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.AnnotationChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{allowHtml:"boolean",allValuesSuffix:"string",annotationsWidth:"number",colors:[4,"string"],dateFormat:"string",displayAnnotations:"boolean",displayAnnotationsFilter:"boolean",displayDateTimeBarSeparator:"boolean",displayExactValues:"boolean",displayLegendDots:"boolean",displayLegendValues:"boolean",displayRangeSelector:"boolean",displayZoomButtons:"boolean",fill:"number",legendPosition:"string",max:"number",min:"number",numberFormats:[1],scaleColumns:[4,"number"],scaleFormat:"string",scaleType:"string",thickness:"number",zoomEndTime:Date,zoomStartTime:Date}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(AnnotationChartOptions);var SteppedAreaChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E,A){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.areaOpacity=r,this.axisTitlesPosition=i,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.connectSteps=u,this.enableInteractivity=l,this.focusTarget=p,this.fontSize=c,this.fontName=h,this.hAxis=f,this.height=d,this.interpolateNulls=y,this.isStacked=m,this.legend=g,this.reverseCategories=v,this.selectionMode=$,this.series=C,this.theme=b,this.title=S,this.titlePosition=w,this.titleTextStyle=_,this.tooltip=T,this.vAxes=x,this.vAxis=E,this.width=A}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.SteppedAreaChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:[1],chartArea:ChartArea,colors:[4,"string"],connectSteps:"boolean",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(SteppedAreaChartOptions);var PieChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w){_classCallCheck(this,t),this.backgroundColor=e,this.chartArea=n,this.colors=r,this.enableInteractivity=i,this.fontSize=o,this.fontName=s,this.height=a,this.is3D=u,this.legend=l,this.pieHole=p,this.pieSliceBorderColor=c,this.pieSliceText=h,this.pieSliceTextStyle=f,this.pieStartAngle=d,this.reverseCategories=y,this.pieResidueSliceColor=m,this.pieResidueSliceLabel=g,this.slices=v,this.sliceVisibilityThreshold=$,this.title=C,this.titleTextStyle=b,this.tooltip=S,this.width=w}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.PieChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{backgroundColor:[1],chartArea:ChartArea,colors:[4,"string"],enableInteractivity:"boolean",fontSize:"number",fontName:"string",height:"number",is3D:"boolean",legend:ChartLegend,pieHole:"number",pieSliceBorderColor:"string",pieSliceText:"string",pieSliceTextStyle:ChartTextStyle,pieStartAngle:"number",reverseCategories:"boolean",pieResidueSliceColor:"string",pieResidueSliceLabel:"string",slices:[1],sliceVisibilityThreshold:"number",title:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(PieChartOptions);var ChartBubble=function(){function t(e,n,r){_classCallCheck(this,t),this.opacity=e,this.stroke=n,this.textStyle=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.ChartBubble"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{opacity:"number",stroke:"string",textStyle:ChartTextStyle}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ChartBubble);var BubbleChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x){_classCallCheck(this,t),this.animation=e,this.axisTitlesPosition=n,this.backgroundColor=r,this.bubble=i,this.chartArea=o,this.colors=s,this.colorAxis=a,this.enableInteractivity=u,this.explorer=l,this.fontSize=p,this.fontName=c,this.forceIFrame=h,this.hAxis=f,this.height=d,this.legend=y,this.selectionMode=m,this.series=g,this.sizeAxis=v,this.sortBubblesBySize=$,this.theme=C,this.title=b,this.titlePosition=S,this.titleTextStyle=w,this.tooltip=_,this.vAxis=T,this.width=x}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.BubbleChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:[1],bubble:ChartBubble,chartArea:ChartArea,colors:[4,"string"],colorAxis:ChartColorAxis,enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,selectionMode:"string",series:[1],sizeAxis:ChartSizeAxis,sortBubblesBySize:"boolean",theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(BubbleChartOptions);var TreeMapOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_){_classCallCheck(this,t),this.fontColor=e,this.fontFamily=n,this.fontSize=r,this.forceIFrame=i,this.headerColor=o,this.headerHeight=s,this.headerHighlightColor=a,this.hintOpacity=u,this.maxColor=l,this.maxDepth=p,this.maxHighlightColor=c,this.maxPostDepth=h,this.maxColorValue=f,this.midColor=d,this.midHighlightColor=y,this.minColor=m,this.minHighlightColor=g,this.minColorValue=v,this.showScale=$,this.showTooltips=C,this.textStyle=b,this.title=S,this.titleTextStyle=w,this.useWeightedAverageForAggregation=_}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.TreeMapOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{fontColor:"string",fontFamily:"string",fontSize:"number",forceIFrame:"boolean",headerColor:"string",headerHeight:"number",headerHighlightColor:"string",hintOpacity:"number",maxColor:"string",maxDepth:"number",maxHighlightColor:"string",maxPostDepth:"number",maxColorValue:"number",midColor:"string",midHighlightColor:"string",minColor:"string",minHighlightColor:"string",minColorValue:"number",showScale:"boolean",showTooltips:"boolean",textStyle:ChartTextStyle,title:"string",titleTextStyle:ChartTextStyle,useWeightedAverageForAggregation:"boolean"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(TreeMapOptions);var CssClassNames=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.headerRow=e,this.tableRow=n,this.oddTableRow=r,
this.selectedTableRow=i,this.hoverTableRow=o,this.headerCell=s,this.tableCell=a,this.rowNumberCell=u}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.CssClassNames"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{headerRow:"string",tableRow:"string",oddTableRow:"string",selectedTableRow:"string",hoverTableRow:"string",headerCell:"string",tableCell:"string",rowNumberCell:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(CssClassNames);var TableOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y){_classCallCheck(this,t),this.allowHtml=e,this.alternatingRowStyle=n,this.cssClassName=r,this.firstRowNumber=i,this.height=o,this.page=s,this.pageSize=a,this.rtlTable=u,this.scrollLeftStartPosition=l,this.showRowNumber=p,this.sort=c,this.sortAscending=h,this.sortColumn=f,this.startPage=d,this.width=y}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.TableOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{allowHtml:"boolean",alternatingRowStyle:"boolean",cssClassName:CssClassNames,firstRowNumber:"number",height:"string",page:"string",pageSize:"number",rtlTable:"boolean",scrollLeftStartPosition:"number",showRowNumber:"boolean",sort:"string",sortAscending:"boolean",sortColumn:"number",startPage:"number",width:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(TableOptions);var LabelStyle=function(){function t(e,n,r){_classCallCheck(this,t),this.color=e,this.fontName=n,this.fontSize=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.LabelStyle"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{color:"string",fontName:"string",fontSize:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(LabelStyle);var TimelineTimeline=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.barLabelStyle=e,this.colorByRowLabel=n,this.groupByRowLabel=r,this.rowLabelStyle=i,this.showRowLabels=o,this.singleColor=s}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.TimelineTimeline"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{barLabelStyle:LabelStyle,colorByRowLabel:"boolean",groupByRowLabel:"boolean",rowLabelStyle:LabelStyle,showRowLabels:"boolean",singleColor:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(TimelineTimeline);var TimelineOptions=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.avoidOverlappingGridLines=e,this.backgroundColor=n,this.colors=r,this.enableInteractivity=i,this.forceIFrame=o,this.height=s,this.timeline=a,this.width=u}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.TimelineOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{avoidOverlappingGridLines:"boolean",backgroundColor:[1],colors:[4,"string"],enableInteractivity:"boolean",forceIFrame:"boolean",height:"number",timeline:TimelineTimeline,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(TimelineOptions);var CandlestickCandlestick=function(){function t(e,n,r){_classCallCheck(this,t),this.hollowIsRising=e,this.fallingColor=n,this.risingColor=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.CandlestickCandlestick"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{hollowIsRising:"boolean",fallingColor:ChartStroke,risingColor:ChartStroke}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(CandlestickCandlestick);var CandlestickChartOptions=function(){function t(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_,T,x,E){_classCallCheck(this,t),this.aggregationTarget=e,this.animation=n,this.axisTitlesPosition=r,this.backgroundColor=i,this.bar=o,this.candlestick=s,this.chartArea=a,this.colors=u,this.enableInteractivity=l,this.focusTarget=p,this.fontSize=c,this.fontName=h,this.hAxis=f,this.height=d,this.legend=y,this.orientation=m,this.reverseCategories=g,this.selectionMode=v,this.series=$,this.theme=C,this.title=b,this.titlePosition=S,this.titleTextStyle=w,this.tooltip=_,this.vAxes=T,this.vAxis=x,this.width=E}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Options.CandlestickChartOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{aggregationTarget:"string",animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:[1],bar:GroupWidth,candlestick:CandlestickCandlestick,chartArea:ChartArea,colors:[4,"string"],enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",selectionMode:"string",series:[1],theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:[1],vAxis:ChartAxis,width:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(CandlestickChartOptions);var Geo=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Geo"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:GeoChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p){var c=this,h=function(){var t=Helpers.right(c.options,"backgroundColor",e),h=Helpers.right(c.options,"datalessRegionColor",n),f=Helpers.right(c.options,"displayMode",r),d=Helpers.right(c.options,"enableRegionInteractivity",i),y=Helpers.right(c.options,"height",o),m=Helpers.right(c.options,"keepAspectRatio",s),g=Helpers.right(c.options,"region",a),v=Helpers.right(c.options,"markerOpacity",u),$=Helpers.right(c.options,"resolution",l),C=Helpers.right(c.options,"width",p);return new GeoChartOptions(t,c.options.colorAxis,h,f,d,y,m,c.options.legend,g,c.options.magnifyingGlass,v,$,c.options.sizeAxis,c.options.tooltip,C)}();return new t(this.data,this.typeName,h)},t.prototype.colorAxis=function(e,n,r,i){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",e),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",function(){var t=r;return null!=t?function(t){return Float64Array.from(t)}(t):t}()),Helpers.right(o,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.copy(o,"legend")),a=new GeoChartOptions(this.options.backgroundColor,s,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,s,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.magnifyingGlass=function(e,n){var r=this.options.magnifyingGlass,i=new GeoChartMagnifyingGlass(Helpers.right(r,"enable",e),Helpers.right(r,"zoomFactor",n)),o=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,i,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.sizeAxis=function(e,n,r,i){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",e),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",r),Helpers.right(o,"minValue",i)),a=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,s,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,o,this.options.width);return new t(this.data,this.typeName,s)},t}();declare(Geo);var Scatter=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Scatter"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:ScatterChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$){var C=this,b=function(){var t=Helpers.right(C.options,"aggregationTarget",e),b=Helpers.right(C.options,"axisTitlesPosition",n),S=Helpers.right(C.options,"backgroundColor",r),w=Helpers.right(C.options,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),_=Helpers.right(C.options,"curveType",o),T=Helpers.right(C.options,"dataOpacity",s),x=Helpers.right(C.options,"enableInteractivity",a),E=Helpers.right(C.options,"fontSize",u),A=Helpers.right(C.options,"fontName",l),F=Helpers.right(C.options,"forceIFrame",p),N=Helpers.right(C.options,"height",c),k=Helpers.right(C.options,"lineWidth",h),H=Helpers.right(C.options,"pointSize",f),P=Helpers.right(C.options,"selectionMode",d),O=Helpers.right(C.options,"series",y),L=Helpers.right(C.options,"theme",m),I=Helpers.right(C.options,"title",g),R=Helpers.right(C.options,"titlePosition",v),D=Helpers.right(C.options,"width",$);return new ScatterChartOptions(t,C.options.animation,C.options.annotations,b,S,C.options.chartArea,w,C.options.crosshair,_,T,x,C.options.explorer,E,A,F,C.options.hAxis,N,C.options.legend,k,H,P,O,L,I,R,C.options.titleTextStyle,C.options.tooltip,C.options.trendlines,C.options.vAxis,D)}();return new t(this.data,this.typeName,b)},t.prototype.trendlines=function(e){var n=this,r=function(){var t=Helpers.right(n.options,"trendlines",function(){var t=e;return null!=t?function(t){return _Array$from(t)}(t):t}());return new ScatterChartOptions(n.options.aggregationTarget,n.options.animation,n.options.annotations,n.options.axisTitlesPosition,n.options.backgroundColor,n.options.chartArea,n.options.colors,n.options.crosshair,n.options.curveType,n.options.dataOpacity,n.options.enableInteractivity,n.options.explorer,n.options.fontSize,n.options.fontName,n.options.forceIFrame,n.options.hAxis,n.options.height,n.options.legend,n.options.lineWidth,n.options.pointSize,n.options.selectionMode,n.options.series,n.options.theme,n.options.title,n.options.titlePosition,n.options.titleTextStyle,n.options.tooltip,t,n.options.vAxis,n.options.width)}();return new t(this.data,this.typeName,r)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new ScatterChartOptions(this.options.aggregationTarget,i,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.crosshair=function(e,n,r,i){var o=this.options.crosshair,s=function(){var t=Helpers.right(o,"color",e),s=Helpers.right(o,"opacity",n),a=Helpers.right(o,"orientation",r),u=Helpers.right(o,"trigger",i);return new ChartCrosshair(t,Helpers.copy(o,"focused"),s,a,Helpers.copy(o,"selected"),u)}(),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.explorer=function(e,n,r,i,o,s){var a=this.options.explorer,u=new ChartExplorer(Helpers.right(a,"actions",function(){var t=e;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",r),Helpers.right(a,"maxZoomIn",i),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),l=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,u,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,l)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,C,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.trendlines,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Scatter);var Column=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Column"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:ColumnChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this,C=function(){var t=Helpers.right($.options,"aggregationTarget",e),C=Helpers.right($.options,"axisTitlesPosition",n),b=Helpers.right($.options,"backgroundColor",r),S=Helpers.right($.options,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),w=Helpers.right($.options,"enableInteractivity",o),_=Helpers.right($.options,"focusTarget",s),T=Helpers.right($.options,"fontSize",a),x=Helpers.right($.options,"fontName",u),E=Helpers.right($.options,"height",l),A=Helpers.right($.options,"isStacked",p),F=Helpers.right($.options,"reverseCategories",c),N=Helpers.right($.options,"selectionMode",h),k=Helpers.right($.options,"series",f),H=Helpers.right($.options,"theme",d),P=Helpers.right($.options,"title",y),O=Helpers.right($.options,"titlePosition",m),L=Helpers.right($.options,"vAxes",g),I=Helpers.right($.options,"width",v);return new ColumnChartOptions(t,$.options.animation,$.options.annotations,C,b,$.options.bar,$.options.chartArea,S,w,_,T,x,$.options.hAxis,E,A,$.options.legend,F,N,k,H,P,O,$.options.titleTextStyle,$.options.tooltip,L,$.options.vAxis,I)}();return new t(this.data,this.typeName,C)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new ColumnChartOptions(this.options.aggregationTarget,i,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.bar=function(e){var n=this.options.bar,r=new GroupWidth(Helpers.right(n,"groupWidth",e)),i=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,i)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,C,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s);
}(),s=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Column);var Line=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Line"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:LineChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w){var _=this,T=function(){var t=Helpers.right(_.options,"aggregationTarget",e),T=Helpers.right(_.options,"axisTitlesPosition",n),x=Helpers.right(_.options,"backgroundColor",r),E=Helpers.right(_.options,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),A=Helpers.right(_.options,"curveType",o),F=Helpers.right(_.options,"dataOpacity",s),N=Helpers.right(_.options,"enableInteractivity",a),k=Helpers.right(_.options,"focusTarget",u),H=Helpers.right(_.options,"fontSize",l),P=Helpers.right(_.options,"fontName",p),O=Helpers.right(_.options,"height",c),L=Helpers.right(_.options,"interpolateNulls",h),I=Helpers.right(_.options,"lineWidth",f),R=Helpers.right(_.options,"orientation",d),D=Helpers.right(_.options,"pointSize",y),G=Helpers.right(_.options,"reverseCategories",m),M=Helpers.right(_.options,"selectionMode",g),B=Helpers.right(_.options,"series",v),q=Helpers.right(_.options,"theme",$),j=Helpers.right(_.options,"title",C),V=Helpers.right(_.options,"titlePosition",b),z=Helpers.right(_.options,"vAxes",S),W=Helpers.right(_.options,"width",w);return new LineChartOptions(t,_.options.animation,_.options.annotations,T,x,_.options.chartArea,E,_.options.crosshair,A,F,N,_.options.explorer,k,H,P,_.options.hAxis,O,L,_.options.legend,I,R,D,G,M,B,q,j,V,_.options.titleTextStyle,_.options.tooltip,z,_.options.vAxis,W)}();return new t(this.data,this.typeName,T)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new LineChartOptions(this.options.aggregationTarget,i,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.crosshair=function(e,n,r,i){var o=this.options.crosshair,s=function(){var t=Helpers.right(o,"color",e),s=Helpers.right(o,"opacity",n),a=Helpers.right(o,"orientation",r),u=Helpers.right(o,"trigger",i);return new ChartCrosshair(t,Helpers.copy(o,"focused"),s,a,Helpers.copy(o,"selected"),u)}(),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.explorer=function(e,n,r,i,o,s){var a=this.options.explorer,u=new ChartExplorer(Helpers.right(a,"actions",function(){var t=e;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",r),Helpers.right(a,"maxZoomIn",i),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),l=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,u,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,l)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,C,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Line);var Bar=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Bar"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:BarChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$){var C=this,b=function(){var t=Helpers.right(C.options,"aggregationTarget",e),b=Helpers.right(C.options,"axisTitlesPosition",n),S=Helpers.right(C.options,"backgroundColor",r),w=Helpers.right(C.options,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),_=Helpers.right(C.options,"dataOpacity",o),T=Helpers.right(C.options,"enableInteractivity",s),x=Helpers.right(C.options,"focusTarget",a),E=Helpers.right(C.options,"fontSize",u),A=Helpers.right(C.options,"fontName",l),F=Helpers.right(C.options,"hAxes",p),N=Helpers.right(C.options,"height",c),k=Helpers.right(C.options,"isStacked",h),H=Helpers.right(C.options,"reverseCategories",f),P=Helpers.right(C.options,"series",d),O=Helpers.right(C.options,"theme",y),L=Helpers.right(C.options,"title",m),I=Helpers.right(C.options,"titlePosition",g),R=Helpers.right(C.options,"vAxes",v),D=Helpers.right(C.options,"width",$);return new BarChartOptions(t,C.options.animation,C.options.annotations,b,S,C.options.bar,C.options.chartArea,w,_,T,x,E,A,F,C.options.hAxis,N,k,C.options.legend,H,P,O,L,I,C.options.titleTextStyle,C.options.tooltip,R,C.options.vAxis,D)}();return new t(this.data,this.typeName,b)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new BarChartOptions(this.options.aggregationTarget,i,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.bar=function(e){var n=this.options.bar,r=new GroupWidth(Helpers.right(n,"groupWidth",e)),i=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,i)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,C,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Bar);var Histogram=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Histogram"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:HistogramOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$){var C=this,b=function(){var t=Helpers.right(C.options,"axisTitlesPosition",e),b=Helpers.right(C.options,"backgroundColor",n),S=Helpers.right(C.options,"colors",function(){var t=r;return null!=t?function(t){return _Array$from(t)}(t):t}()),w=Helpers.right(C.options,"dataOpacity",i),_=Helpers.right(C.options,"enableInteractivity",o),T=Helpers.right(C.options,"focusTarget",s),x=Helpers.right(C.options,"fontSize",a),E=Helpers.right(C.options,"fontName",u),A=Helpers.right(C.options,"height",l),F=Helpers.right(C.options,"interpolateNulls",p),N=Helpers.right(C.options,"isStacked",c),k=Helpers.right(C.options,"orientation",h),H=Helpers.right(C.options,"reverseCategories",f),P=Helpers.right(C.options,"series",d),O=Helpers.right(C.options,"theme",y),L=Helpers.right(C.options,"title",m),I=Helpers.right(C.options,"titlePosition",g),R=Helpers.right(C.options,"vAxes",v),D=Helpers.right(C.options,"width",$);return new HistogramOptions(C.options.animation,t,b,C.options.bar,C.options.chartArea,S,w,_,T,x,E,C.options.hAxis,C.options.histogram,A,F,N,C.options.legend,k,H,P,O,L,I,C.options.titleTextStyle,C.options.tooltip,R,C.options.vAxis,D)}();return new t(this.data,this.typeName,b)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new HistogramOptions(i,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.bar=function(e){var n=this.options.bar,r=new GroupWidth(Helpers.right(n,"groupWidth",e)),i=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,i)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,C,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);
return new t(this.data,this.typeName,b)},t.prototype.histogram=function(e,n,r){var i=this.options.histogram,o=new HistogramHistogram(Helpers.right(i,"bucketSize",e),Helpers.right(i,"hideBucketItems",n),Helpers.right(i,"lastBucketPercentile",r)),s=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,o,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Histogram);var Area=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Area"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:AreaChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_){var T=this,x=function(){var t=Helpers.right(T.options,"aggregationTarget",e),x=Helpers.right(T.options,"areaOpacity",n),E=Helpers.right(T.options,"axisTitlesPosition",r),A=Helpers.right(T.options,"backgroundColor",i),F=Helpers.right(T.options,"colors",function(){var t=o;return null!=t?function(t){return _Array$from(t)}(t):t}()),N=Helpers.right(T.options,"dataOpacity",s),k=Helpers.right(T.options,"enableInteractivity",a),H=Helpers.right(T.options,"focusTarget",u),P=Helpers.right(T.options,"fontSize",l),O=Helpers.right(T.options,"fontName",p),L=Helpers.right(T.options,"height",c),I=Helpers.right(T.options,"interpolateNulls",h),R=Helpers.right(T.options,"isStacked",f),D=Helpers.right(T.options,"lineWidth",d),G=Helpers.right(T.options,"orientation",y),M=Helpers.right(T.options,"pointSize",m),B=Helpers.right(T.options,"reverseCategories",g),q=Helpers.right(T.options,"selectionMode",v),j=Helpers.right(T.options,"series",$),V=Helpers.right(T.options,"theme",C),z=Helpers.right(T.options,"title",b),W=Helpers.right(T.options,"titlePosition",S),K=Helpers.right(T.options,"vAxes",w),U=Helpers.right(T.options,"width",_);return new AreaChartOptions(t,T.options.animation,x,E,A,T.options.chartArea,F,T.options.crosshair,N,k,T.options.explorer,H,P,O,T.options.hAxis,L,I,R,T.options.legend,D,G,M,B,q,j,V,z,W,T.options.titleTextStyle,T.options.tooltip,K,T.options.vAxis,U)}();return new t(this.data,this.typeName,x)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new AreaChartOptions(this.options.aggregationTarget,i,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.crosshair=function(e,n,r,i){var o=this.options.crosshair,s=function(){var t=Helpers.right(o,"color",e),s=Helpers.right(o,"opacity",n),a=Helpers.right(o,"orientation",r),u=Helpers.right(o,"trigger",i);return new ChartCrosshair(t,Helpers.copy(o,"focused"),s,a,Helpers.copy(o,"selected"),u)}(),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.explorer=function(e,n,r,i,o,s){var a=this.options.explorer,u=new ChartExplorer(Helpers.right(a,"actions",function(){var t=e;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",r),Helpers.right(a,"maxZoomIn",i),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),l=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,u,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,l)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,C,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Area);var Annotation=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Annotation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:AnnotationChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S,w,_){var T=new AnnotationChartOptions(Helpers.right(this.options,"allowHtml",e),Helpers.right(this.options,"allValuesSuffix",n),Helpers.right(this.options,"annotationsWidth",r),Helpers.right(this.options,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.right(this.options,"dateFormat",o),Helpers.right(this.options,"displayAnnotations",s),Helpers.right(this.options,"displayAnnotationsFilter",a),Helpers.right(this.options,"displayDateTimeBarSeparator",u),Helpers.right(this.options,"displayExactValues",l),Helpers.right(this.options,"displayLegendDots",p),Helpers.right(this.options,"displayLegendValues",c),Helpers.right(this.options,"displayRangeSelector",h),Helpers.right(this.options,"displayZoomButtons",f),Helpers.right(this.options,"fill",d),Helpers.right(this.options,"legendPosition",y),Helpers.right(this.options,"max",m),Helpers.right(this.options,"min",g),Helpers.right(this.options,"numberFormats",v),Helpers.right(this.options,"scaleColumns",function(){var t=$;return null!=t?function(t){return Float64Array.from(t)}(t):t}()),Helpers.right(this.options,"scaleFormat",C),Helpers.right(this.options,"scaleType",b),Helpers.right(this.options,"thickness",S),Helpers.right(this.options,"zoomEndTime",w),Helpers.right(this.options,"zoomStartTime",_));return new t(this.data,this.typeName,T)},t}();declare(Annotation);var SteppedArea=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.SteppedArea"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:SteppedAreaChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b){var S=this,w=function(){var t=Helpers.right(S.options,"aggregationTarget",e),w=Helpers.right(S.options,"areaOpacity",n),_=Helpers.right(S.options,"axisTitlesPosition",r),T=Helpers.right(S.options,"backgroundColor",i),x=Helpers.right(S.options,"colors",function(){var t=o;return null!=t?function(t){return _Array$from(t)}(t):t}()),E=Helpers.right(S.options,"connectSteps",s),A=Helpers.right(S.options,"enableInteractivity",a),F=Helpers.right(S.options,"focusTarget",u),N=Helpers.right(S.options,"fontSize",l),k=Helpers.right(S.options,"fontName",p),H=Helpers.right(S.options,"height",c),P=Helpers.right(S.options,"interpolateNulls",h),O=Helpers.right(S.options,"isStacked",f),L=Helpers.right(S.options,"reverseCategories",d),I=Helpers.right(S.options,"selectionMode",y),R=Helpers.right(S.options,"series",m),D=Helpers.right(S.options,"theme",g),G=Helpers.right(S.options,"title",v),M=Helpers.right(S.options,"titlePosition",$),B=Helpers.right(S.options,"vAxes",C),q=Helpers.right(S.options,"width",b);return new SteppedAreaChartOptions(t,S.options.animation,w,_,T,S.options.chartArea,x,E,A,F,N,k,S.options.hAxis,H,P,O,S.options.legend,L,I,R,D,G,M,S.options.titleTextStyle,S.options.tooltip,B,S.options.vAxis,q)}();return new t(this.data,this.typeName,w)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new SteppedAreaChartOptions(this.options.aggregationTarget,i,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,C,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(SteppedArea);var Pie=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Pie"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:PieChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this,C=function(){var t=Helpers.right($.options,"backgroundColor",e),C=Helpers.right($.options,"colors",function(){var t=n;return null!=t?function(t){return _Array$from(t)}(t):t}()),b=Helpers.right($.options,"enableInteractivity",r),S=Helpers.right($.options,"fontSize",i),w=Helpers.right($.options,"fontName",o),_=Helpers.right($.options,"height",s),T=Helpers.right($.options,"is3D",a),x=Helpers.right($.options,"pieHole",u),E=Helpers.right($.options,"pieSliceBorderColor",l),A=Helpers.right($.options,"pieSliceText",p),F=Helpers.right($.options,"pieStartAngle",c),N=Helpers.right($.options,"reverseCategories",h),k=Helpers.right($.options,"pieResidueSliceColor",f),H=Helpers.right($.options,"pieResidueSliceLabel",d),P=Helpers.right($.options,"slices",y),O=Helpers.right($.options,"sliceVisibilityThreshold",m),L=Helpers.right($.options,"title",g),I=Helpers.right($.options,"width",v);
return new PieChartOptions(t,$.options.chartArea,C,b,S,w,_,T,$.options.legend,x,E,A,$.options.pieSliceTextStyle,F,N,k,H,P,O,L,$.options.titleTextStyle,$.options.tooltip,I)}();return new t(this.data,this.typeName,C)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new PieChartOptions(this.options.backgroundColor,s,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,s,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.pieSliceTextStyle=function(e,n,r,i,o,s,a){var u=this.options.pieSliceTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,l,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,l,this.options.tooltip,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,o,this.options.width);return new t(this.data,this.typeName,s)},t}();declare(Pie);var Bubble=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Bubble"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:BubbleChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y){var m=this,g=function(){var t=Helpers.right(m.options,"axisTitlesPosition",e),g=Helpers.right(m.options,"backgroundColor",n),v=Helpers.right(m.options,"colors",function(){var t=r;return null!=t?function(t){return _Array$from(t)}(t):t}()),$=Helpers.right(m.options,"enableInteractivity",i),C=Helpers.right(m.options,"fontSize",o),b=Helpers.right(m.options,"fontName",s),S=Helpers.right(m.options,"forceIFrame",a),w=Helpers.right(m.options,"height",u),_=Helpers.right(m.options,"selectionMode",l),T=Helpers.right(m.options,"series",p),x=Helpers.right(m.options,"sortBubblesBySize",c),E=Helpers.right(m.options,"theme",h),A=Helpers.right(m.options,"title",f),F=Helpers.right(m.options,"titlePosition",d),N=Helpers.right(m.options,"width",y);return new BubbleChartOptions(m.options.animation,t,g,m.options.bubble,m.options.chartArea,v,m.options.colorAxis,$,m.options.explorer,C,b,S,m.options.hAxis,w,m.options.legend,_,T,m.options.sizeAxis,x,E,A,F,m.options.titleTextStyle,m.options.tooltip,m.options.vAxis,N)}();return new t(this.data,this.typeName,g)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new BubbleChartOptions(i,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.bubble=function(e,n){var r=this.options.bubble,i=new ChartBubble(Helpers.right(r,"opacity",e),Helpers.right(r,"stroke",n),Helpers.copy(r,"textStyle")),o=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,s,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.colorAxis=function(e,n,r,i){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",e),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",function(){var t=r;return null!=t?function(t){return Float64Array.from(t)}(t):t}()),Helpers.right(o,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.copy(o,"legend")),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,s,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.explorer=function(e,n,r,i,o,s){var a=this.options.explorer,u=new ChartExplorer(Helpers.right(a,"actions",function(){var t=e;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",r),Helpers.right(a,"maxZoomIn",i),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),l=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,u,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,l)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,C,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.sizeAxis=function(e,n,r,i){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",e),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",r),Helpers.right(o,"minValue",i)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,s,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Bubble);var TreeMap=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.TreeMap"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:TreeMapOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S){var w=this,_=function(){var t=Helpers.right(w.options,"fontColor",e),_=Helpers.right(w.options,"fontFamily",n),T=Helpers.right(w.options,"fontSize",r),x=Helpers.right(w.options,"forceIFrame",i),E=Helpers.right(w.options,"headerColor",o),A=Helpers.right(w.options,"headerHeight",s),F=Helpers.right(w.options,"headerHighlightColor",a),N=Helpers.right(w.options,"hintOpacity",u),k=Helpers.right(w.options,"maxColor",l),H=Helpers.right(w.options,"maxDepth",p),P=Helpers.right(w.options,"maxHighlightColor",c),O=Helpers.right(w.options,"maxPostDepth",h),L=Helpers.right(w.options,"maxColorValue",f),I=Helpers.right(w.options,"midColor",d),R=Helpers.right(w.options,"midHighlightColor",y),D=Helpers.right(w.options,"minColor",m),G=Helpers.right(w.options,"minHighlightColor",g),M=Helpers.right(w.options,"minColorValue",v),B=Helpers.right(w.options,"showScale",$),q=Helpers.right(w.options,"showTooltips",C),j=Helpers.right(w.options,"title",b),V=Helpers.right(w.options,"useWeightedAverageForAggregation",S);return new TreeMapOptions(t,_,T,x,E,A,F,N,k,H,P,O,L,I,R,D,G,M,B,q,w.options.textStyle,j,w.options.titleTextStyle,V)}();return new t(this.data,this.typeName,_)},t.prototype.textStyle=function(e,n,r,i,o,s,a){var u=this.options.textStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,l,this.options.title,this.options.titleTextStyle,this.options.useWeightedAverageForAggregation);return new t(this.data,this.typeName,p)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,this.options.textStyle,this.options.title,l,this.options.useWeightedAverageForAggregation);return new t(this.data,this.typeName,p)},t}();declare(TreeMap);var Table=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Table"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:TableOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d){var y=this,m=function(){var t=Helpers.right(y.options,"allowHtml",e),m=Helpers.right(y.options,"alternatingRowStyle",n),g=Helpers.right(y.options,"firstRowNumber",r),v=Helpers.right(y.options,"height",i),$=Helpers.right(y.options,"page",o),C=Helpers.right(y.options,"pageSize",s),b=Helpers.right(y.options,"rtlTable",a),S=Helpers.right(y.options,"scrollLeftStartPosition",u),w=Helpers.right(y.options,"showRowNumber",l),_=Helpers.right(y.options,"sort",p),T=Helpers.right(y.options,"sortAscending",c),x=Helpers.right(y.options,"sortColumn",h),E=Helpers.right(y.options,"startPage",f),A=Helpers.right(y.options,"width",d);return new TableOptions(t,m,y.options.cssClassName,g,v,$,C,b,S,w,_,T,x,E,A)}();return new t(this.data,this.typeName,m)},t.prototype.cssClassName=function(e,n,r,i,o,s,a,u){var l=this.options.cssClassName,p=new CssClassNames(Helpers.right(l,"headerRow",e),Helpers.right(l,"tableRow",n),Helpers.right(l,"oddTableRow",r),Helpers.right(l,"selectedTableRow",i),Helpers.right(l,"hoverTableRow",o),Helpers.right(l,"headerCell",s),Helpers.right(l,"tableCell",a),Helpers.right(l,"rowNumberCell",u)),c=new TableOptions(this.options.allowHtml,this.options.alternatingRowStyle,p,this.options.firstRowNumber,this.options.height,this.options.page,this.options.pageSize,this.options.rtlTable,this.options.scrollLeftStartPosition,this.options.showRowNumber,this.options.sort,this.options.sortAscending,this.options.sortColumn,this.options.startPage,this.options.width);return new t(this.data,this.typeName,c)},t}();declare(Table);var Timeline=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Timeline"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:TimelineOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a){var u=this,l=function(){var t=Helpers.right(u.options,"avoidOverlappingGridLines",e),l=Helpers.right(u.options,"backgroundColor",n),p=Helpers.right(u.options,"colors",function(){var t=r;return null!=t?function(t){return _Array$from(t)}(t):t}()),c=Helpers.right(u.options,"enableInteractivity",i),h=Helpers.right(u.options,"forceIFrame",o),f=Helpers.right(u.options,"height",s),d=Helpers.right(u.options,"width",a);return new TimelineOptions(t,l,p,c,h,f,u.options.timeline,d)}();return new t(this.data,this.typeName,l)},t.prototype.timeline=function(e,n,r,i){var o=this.options.timeline,s=function(){var t=Helpers.right(o,"colorByRowLabel",e),s=Helpers.right(o,"groupByRowLabel",n),a=Helpers.right(o,"showRowLabels",r),u=Helpers.right(o,"singleColor",i);return new TimelineTimeline(Helpers.copy(o,"barLabelStyle"),t,s,Helpers.copy(o,"rowLabelStyle"),a,u)}(),a=new TimelineOptions(this.options.avoidOverlappingGridLines,this.options.backgroundColor,this.options.colors,this.options.enableInteractivity,this.options.forceIFrame,this.options.height,s,this.options.width);return new t(this.data,this.typeName,a)},t}();declare(Timeline);var Candlestick=function(){function t(e,n,r){_classCallCheck(this,t),this.data=e,this.typeName=n,this.options=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.Candlestick"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","TheGamma.GoogleCharts.Chart"]},t.prototype[_Symbol.properties]=function(){return{data:ChartData,typeName:"string",options:CandlestickChartOptions}},t.prototype.show=function(t){Helpers.showChart(this,t)},t.prototype.set=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this,C=function(){var t=Helpers.right($.options,"aggregationTarget",e),C=Helpers.right($.options,"axisTitlesPosition",n),b=Helpers.right($.options,"backgroundColor",r),S=Helpers.right($.options,"colors",function(){var t=i;return null!=t?function(t){return _Array$from(t)}(t):t}()),w=Helpers.right($.options,"enableInteractivity",o),_=Helpers.right($.options,"focusTarget",s),T=Helpers.right($.options,"fontSize",a),x=Helpers.right($.options,"fontName",u),E=Helpers.right($.options,"height",l),A=Helpers.right($.options,"orientation",p),F=Helpers.right($.options,"reverseCategories",c),N=Helpers.right($.options,"selectionMode",h),k=Helpers.right($.options,"series",f),H=Helpers.right($.options,"theme",d),P=Helpers.right($.options,"title",y),O=Helpers.right($.options,"titlePosition",m),L=Helpers.right($.options,"vAxes",g),I=Helpers.right($.options,"width",v);return new CandlestickChartOptions(t,$.options.animation,C,b,$.options.bar,$.options.candlestick,$.options.chartArea,S,w,_,T,x,$.options.hAxis,E,$.options.legend,A,F,N,k,H,P,O,$.options.titleTextStyle,$.options.tooltip,L,$.options.vAxis,I)}();return new t(this.data,this.typeName,C)},t.prototype.animation=function(e,n){var r=this.options.animation,i=new TransitionAnimation(Helpers.right(r,"duration",e),Helpers.right(r,"easing",n)),o=new CandlestickChartOptions(this.options.aggregationTarget,i,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,o)},t.prototype.bar=function(e){var n=this.options.bar,r=new GroupWidth(Helpers.right(n,"groupWidth",e)),i=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,i)},t.prototype.candlestick=function(e){var n=this.options.candlestick,r=new CandlestickCandlestick(Helpers.right(n,"hollowIsRising",e),Helpers.copy(n,"fallingColor"),Helpers.copy(n,"risingColor")),i=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,r,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,i)},t.prototype.chartArea=function(e,n,r,i){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",e),Helpers.right(o,"left",n),Helpers.right(o,"width",r),Helpers.right(o,"height",i)),a=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.hAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.hAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,C,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,b)},t.prototype.legend=function(e,n,r,i){
var o=this.options.legend,s=function(){var t=Helpers.right(o,"alignment",e),s=Helpers.right(o,"maxLines",n),a=Helpers.right(o,"position",r),u=Helpers.right(o,"numberFormat",i);return new ChartLegend(t,s,a,Helpers.copy(o,"textStyle"),u)}(),a=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,s,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,a)},t.prototype.titleTextStyle=function(e,n,r,i,o,s,a){var u=this.options.titleTextStyle,l=new ChartTextStyle(Helpers.right(u,"fontName",e),Helpers.right(u,"fontSize",n),Helpers.right(u,"bold",r),Helpers.right(u,"italic",i),Helpers.right(u,"color",o),Helpers.right(u,"auraColor",s),Helpers.right(u,"opacity",a)),p=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,l,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,p)},t.prototype.tooltip=function(e,n,r){var i=this.options.tooltip,o=function(){var t=Helpers.right(i,"isHtml",e),o=Helpers.right(i,"showColorCode",n),s=Helpers.right(i,"trigger",r);return new ChartTooltip(t,o,Helpers.copy(i,"textStyle"),s)}(),s=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new t(this.data,this.typeName,s)},t.prototype.vAxis=function(e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v){var $=this.options.vAxis,C=function(){var t=Helpers.right($,"baseline",e),C=Helpers.right($,"baselineColor",n),b=Helpers.right($,"direction",r),S=Helpers.right($,"format",i),w=Helpers.right($,"logScale",o),_=Helpers.right($,"textPosition",s),T=Helpers.right($,"ticks",function(){var t=a;return null!=t?function(t){return _Array$from(t)}(t):t}()),x=Helpers.right($,"title",u),E=Helpers.right($,"allowContainerBoundaryTextCufoff",l),A=Helpers.right($,"slantedText",p),F=Helpers.right($,"slantedTextAngle",c),N=Helpers.right($,"maxAlternation",h),k=Helpers.right($,"maxTextLines",f),H=Helpers.right($,"minTextSpacing",d),P=Helpers.right($,"showTextEvery",y),O=Helpers.right($,"maxValue",m),L=Helpers.right($,"minValue",g),I=Helpers.right($,"viewWindowMode",v);return new ChartAxis(t,C,b,S,Helpers.copy($,"gridlines"),Helpers.copy($,"minorGridlines"),w,_,Helpers.copy($,"textStyle"),T,x,Helpers.copy($,"titleTextStyle"),E,A,F,N,k,H,P,O,L,I,Helpers.copy($,"viewWindow"))}(),b=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,C,this.options.width);return new t(this.data,this.typeName,b)},t}();declare(Candlestick);var options$1=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.Extensions.options"},t.prototype[_Symbol.properties]=function(){return{}},t.chartSizeAxis=function(t,e,n,r){return new ChartSizeAxis(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r))},t.chartTextStyle=function(t,e,n,r,i,o,s){return new ChartTextStyle(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o),Helpers.orDefault(s))},t.chartTooltip=function(t,e,n,r){return new ChartTooltip(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r))},t.chartLegend=function(t,e,n,r,i){return new ChartLegend(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i))},t.chartColorAxis=function(t,e,n,r,i){return new ChartColorAxis(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(function(){var t=n;return null!=t?function(t){return Float64Array.from(t)}(t):t}()),Helpers.orDefault(function(){var t=r;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.orDefault(i))},t.geoChartMagnifyingGlass=function(t,e){return new GeoChartMagnifyingGlass(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartBoxStyleGradient=function(t,e,n,r,i,o,s){return new ChartBoxStyleGradient(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o),Helpers.orDefault(s))},t.chartBoxStyle=function(t,e,n,r,i){return new ChartBoxStyle(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i))},t.chartAnnotations=function(t,e){return new ChartAnnotations(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartCrosshairFocused=function(t,e){return new ChartCrosshairFocused(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartCrosshairSelected=function(t,e){return new ChartCrosshairSelected(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartCrosshair=function(t,e,n,r,i,o){return new ChartCrosshair(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o))},t.chartExplorer=function(t,e,n,r,i,o){return new ChartExplorer(Helpers.orDefault(function(){var e=t;return null!=e?function(t){return _Array$from(t)}(e):e}()),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o))},t.chartStroke=function(t,e,n){return new ChartStroke(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n))},t.chartArea=function(t,e,n,r){return new ChartArea(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r))},t.transitionAnimation=function(t,e){return new TransitionAnimation(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartGridlines=function(t,e){return new ChartGridlines(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartViewWindow=function(t,e){return new ChartViewWindow(Helpers.orDefault(t),Helpers.orDefault(e))},t.chartAxis=function(t,e,n,r,i,o,s,a,u,l,p,c,h,f,d,y,m,g,v,$,C,b,S){return new ChartAxis(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(u),Helpers.orDefault(function(){var t=l;return null!=t?function(t){return _Array$from(t)}(t):t}()),Helpers.orDefault(p),Helpers.orDefault(c),Helpers.orDefault(h),Helpers.orDefault(f),Helpers.orDefault(d),Helpers.orDefault(y),Helpers.orDefault(m),Helpers.orDefault(g),Helpers.orDefault(v),Helpers.orDefault($),Helpers.orDefault(C),Helpers.orDefault(b),Helpers.orDefault(S))},t.chartBoundingBox=function(t,e,n,r){return new ChartBoundingBox(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r))},t.groupWidth=function(t){return new GroupWidth(Helpers.orDefault(t))},t.trendline=function(t,e,n,r,i,o,s,a,u){return new Trendline(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(u))},t.histogramHistogram=function(t,e,n){return new HistogramHistogram(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n))},t.chartBubble=function(t,e,n){return new ChartBubble(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n))},t.cssClassNames=function(t,e,n,r,i,o,s,a){return new CssClassNames(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a))},t.labelStyle=function(t,e,n){return new LabelStyle(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n))},t.timelineTimeline=function(t,e,n,r,i,o){return new TimelineTimeline(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n),Helpers.orDefault(r),Helpers.orDefault(i),Helpers.orDefault(o))},t.candlestickCandlestick=function(t,e,n){return new CandlestickCandlestick(Helpers.orDefault(t),Helpers.orDefault(e),Helpers.orDefault(n))},t}();declare(options$1);var chart=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.GoogleCharts.chart"},t.prototype[_Symbol.properties]=function(){return{}},t.scatter=function(t,e){return new Scatter(ChartDataOperations.twoValues(t,e),"ScatterChart",ScatterChartOptions_get_empty_Static())},t.geo=function(t){return new Geo(ChartDataOperations.oneKeyValue("string",t),"GeoChart",GeoChartOptions_get_empty_Static())},t.pie=function(t){return new Pie(ChartDataOperations.oneKeyValue("string",t),"PieChart",PieChartOptions_get_empty_Static())},t.bar=function(t){return new Bar(ChartDataOperations.oneKeyValue("string",t),"BarChart",BarChartOptions_get_empty_Static())},t.column=function(t){return new Column(ChartDataOperations.oneKeyValue("string",t),"ColumnChart",ColumnChartOptions_get_empty_Static())},t.columns=function(t,e){return new Line(ChartDataOperations.oneKeyAppendValues("string",t,e),"ColumnChart",LineChartOptions_get_empty_Static())},t.line=function(t){return new Line(ChartDataOperations.oneKeyValue("number",t),"LineChart",LineChartOptions_get_empty_Static())},t.lines=function(t){return new Line(ChartDataOperations.oneKeyNValues("number",t),"LineChart",LineChartOptions_get_empty_Static())},t.area=function(t){return new Area(ChartDataOperations.oneKeyValue("number",t),"AreaChart",AreaChartOptions_get_empty_Static())},t.areas=function(t,e){var n={contents:0},r=null==e?t:t.map(function(t){return void n.contents++,t.setProperties(null,null,e[n.contents-1])});return new Area(ChartDataOperations.oneKeyNValues("number",r),"AreaChart",AreaChartOptions_get_empty_Static())},t.show=function(t){return function(e){Helpers.showChart(t,e)}},t}();declare(chart);var nativeIsArray=Array.isArray,toString$4=Object.prototype.toString,index$4=nativeIsArray||isArray$5,version$2="2",version$1=version$2;VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8;var vpatch=VirtualPatch;VirtualPatch.prototype.version=version$1,VirtualPatch.prototype.type="VirtualPatch";var version$4=version$2,isVnode=isVirtualNode,version$5=version$2,isVtext=isVirtualText,isWidget_1=isWidget$1,isThunk_1=isThunk$1,isVNode$1=isVnode,isVText$1=isVtext,isWidget$2=isWidget_1,isThunk$2=isThunk_1,handleThunk_1=handleThunk$1,index$6=function(t){return"object"==typeof t&&null!==t},isVhook=isHook$1,isObject$6=index$6,isHook=isVhook,diffProps_1=diffProps$1,isArray$4=index$4,VPatch=vpatch,isVNode=isVnode,isVText=isVtext,isWidget=isWidget_1,isThunk=isThunk_1,handleThunk=handleThunk_1,diffProps=diffProps_1,diff_1$2=diff$2,diff$1=diff_1$2,diff_1=diff$1,slice$1=Array.prototype.slice,index$10=iterativelyWalk,domComment=Comment$1;Comment$1.prototype.nodeType=8,Comment$1.prototype.nodeName="#comment",Comment$1.prototype.toString=function(){return"[object Comment]"};var domText=DOMText$1;DOMText$1.prototype.type="DOMTextNode",DOMText$1.prototype.nodeType=3,DOMText$1.prototype.nodeName="#text",DOMText$1.prototype.toString=function(){return this.data},DOMText$1.prototype.replaceData=function(t,e,n){var r=this.data,i=r.substring(0,t),o=r.substring(t+e,r.length);this.data=i+n+o,this.length=this.data.length};var dispatchEvent_1=dispatchEvent$2,addEventListener_1=addEventListener$2,removeEventListener_1=removeEventListener$2,serialize=serializeNode$1,voidElements=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],domWalk$1=index$10,dispatchEvent$1=dispatchEvent_1,addEventListener$1=addEventListener_1,removeEventListener$1=removeEventListener_1,serializeNode=serialize,htmlns="http://www.w3.org/1999/xhtml",domElement=DOMElement$1;DOMElement$1.prototype.type="DOMElement",DOMElement$1.prototype.nodeType=1,DOMElement$1.prototype.appendChild=function(t){return t.parentNode&&t.parentNode.removeChild(t),this.childNodes.push(t),t.parentNode=this,t},DOMElement$1.prototype.replaceChild=function(t,e){t.parentNode&&t.parentNode.removeChild(t);var n=this.childNodes.indexOf(e);return e.parentNode=null,this.childNodes[n]=t,t.parentNode=this,e},DOMElement$1.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);return this.childNodes.splice(e,1),t.parentNode=null,t},DOMElement$1.prototype.insertBefore=function(t,e){t.parentNode&&t.parentNode.removeChild(t);var n=null===e||void 0===e?-1:this.childNodes.indexOf(e);return n>-1?this.childNodes.splice(n,0,t):this.childNodes.push(t),t.parentNode=this,t},DOMElement$1.prototype.setAttributeNS=function(t,e,n){var r=null,i=e,o=e.indexOf(":");if(o>-1&&(r=e.substr(0,o),i=e.substr(o+1)),"INPUT"===this.tagName&&"type"===e)this.type=n;else{var s=this._attributes[t]||(this._attributes[t]={});s[i]={value:n,prefix:r}}},DOMElement$1.prototype.getAttributeNS=function(t,e){var n=this._attributes[t],r=n&&n[e]&&n[e].value;return"INPUT"===this.tagName&&"type"===e?this.type:"string"!=typeof r?null:r},DOMElement$1.prototype.removeAttributeNS=function(t,e){var n=this._attributes[t];n&&delete n[e]},DOMElement$1.prototype.hasAttributeNS=function(t,e){var n=this._attributes[t];return!!n&&e in n},DOMElement$1.prototype.setAttribute=function(t,e){return this.setAttributeNS(null,t,e)},DOMElement$1.prototype.getAttribute=function(t){return this.getAttributeNS(null,t)},DOMElement$1.prototype.removeAttribute=function(t){return this.removeAttributeNS(null,t)},DOMElement$1.prototype.hasAttribute=function(t){return this.hasAttributeNS(null,t)},DOMElement$1.prototype.removeEventListener=removeEventListener$1,DOMElement$1.prototype.addEventListener=addEventListener$1,DOMElement$1.prototype.dispatchEvent=dispatchEvent$1,DOMElement$1.prototype.focus=function(){},DOMElement$1.prototype.toString=function(){return serializeNode(this)},DOMElement$1.prototype.getElementsByClassName=function(t){var e=t.split(" "),n=[];return domWalk$1(this,function(t){if(1===t.nodeType){var r=t.className||"",i=r.split(" ");e.every(function(t){return i.indexOf(t)!==-1})&&n.push(t)}}),n},DOMElement$1.prototype.getElementsByTagName=function(t){t=t.toLowerCase();var e=[];return domWalk$1(this.childNodes,function(n){1!==n.nodeType||"*"!==t&&n.tagName.toLowerCase()!==t||e.push(n)}),e},DOMElement$1.prototype.contains=function(t){return domWalk$1(this,function(e){return t===e})||!1};var DOMElement$2=domElement,domFragment=DocumentFragment$1;DocumentFragment$1.prototype.type="DocumentFragment",DocumentFragment$1.prototype.nodeType=11,DocumentFragment$1.prototype.nodeName="#document-fragment",DocumentFragment$1.prototype.appendChild=DOMElement$2.prototype.appendChild,DocumentFragment$1.prototype.replaceChild=DOMElement$2.prototype.replaceChild,DocumentFragment$1.prototype.removeChild=DOMElement$2.prototype.removeChild,DocumentFragment$1.prototype.toString=function(){return this.childNodes.map(function(t){return String(t)}).join("")};var event$1=Event$1;Event$1.prototype.initEvent=function(t,e,n){this.type=t,this.bubbles=e,this.cancelable=n},Event$1.prototype.preventDefault=function(){};var domWalk=index$10,Comment=domComment,DOMText=domText,DOMElement=domElement,DocumentFragment=domFragment,Event=event$1,dispatchEvent=dispatchEvent_1,addEventListener=addEventListener_1,removeEventListener=removeEventListener_1,document$3=Document$1,proto$1=Document$1.prototype;proto$1.createTextNode=function(t){return new DOMText(t,this)},proto$1.createElementNS=function(t,e){var n=null===t?null:String(t);return new DOMElement(e,this,n)},proto$1.createElement=function(t){return new DOMElement(t,this)},proto$1.createDocumentFragment=function(){return new DocumentFragment(this)},proto$1.createEvent=function(t){return new Event(t)},proto$1.createComment=function(t){return new Comment(t,this)},proto$1.getElementById=function(t){t=String(t);var e=domWalk(this.childNodes,function(e){if(String(e.id)===t)return e});return e||null},proto$1.getElementsByClassName=DOMElement.prototype.getElementsByClassName,proto$1.getElementsByTagName=DOMElement.prototype.getElementsByTagName,proto$1.contains=DOMElement.prototype.contains,proto$1.removeEventListener=removeEventListener,proto$1.addEventListener=addEventListener,proto$1.dispatchEvent=dispatchEvent;var Document=document$3,index$8=new Document,document_1=createCommonjsModule(function(t){var e="undefined"!=typeof commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:{},n=index$8;if("undefined"!=typeof document)t.exports=document;else{var r=e["__GLOBAL_DOCUMENT_CACHE@4"];r||(r=e["__GLOBAL_DOCUMENT_CACHE@4"]=n),t.exports=r}}),isObject$7=index$6,isHook$2=isVhook,applyProperties_1=applyProperties$1,document$5=document_1,applyProperties=applyProperties_1,isVNode$2=isVnode,isVText$2=isVtext,isWidget$3=isWidget_1,handleThunk$2=handleThunk_1,createElement_1=createElement$1,noChild={},domIndex_1=domIndex$1,isWidget$5=isWidget_1,updateWidget_1=updateWidget$1,applyProperties$2=applyProperties_1,isWidget$4=isWidget_1,VPatch$1=vpatch,updateWidget=updateWidget_1,patchOp$1=applyPatch$1,document$2=document_1,isArray$6=index$4,render$2=createElement_1,domIndex=domIndex_1,patchOp=patchOp$1,patch_1$2=patch$2,patch$1=patch_1$2,patch_1=patch$1,version$6=version$2,isVNode$4=isVnode,isWidget$7=isWidget_1,isThunk$3=isThunk_1,isVHook=isVhook,vnode=VirtualNode,noProperties={},noChildren=[];VirtualNode.prototype.version=version$6,VirtualNode.prototype.type="VirtualNode";var version$7=version$2,vtext=VirtualText;VirtualText.prototype.version=version$7,VirtualText.prototype.type="VirtualText";var index$14=function(t){var e,n=String.prototype.split,r=/()??/.exec("")[1]===t;return e=function(e,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(e,i,o);var s,a,u,l,p=[],c=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0,i=new RegExp(i.source,c+"g");for(e+="",r||(s=new RegExp("^"+i.source+"$(?!\\s)",c)),o=o===t?-1>>>0:o>>>0;(a=i.exec(e))&&(u=a.index+a[0].length,!(u>h&&(p.push(e.slice(h,a.index)),!r&&a.length>1&&a[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(a[e]=t)}),a.length>1&&a.index<e.length&&Array.prototype.push.apply(p,a.slice(1)),l=a[0].length,h=u,p.length>=o)));)i.lastIndex===a.index&&i.lastIndex++;return h===e.length?!l&&i.test("")||p.push(""):p.push(e.slice(h)),p.length>o?p.slice(0,o):p}}(),split$3=index$14,classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,notClassId=/^\.|#/,parseTag_1=parseTag$1,softSetHook$1=SoftSetHook;SoftSetHook.prototype.hook=function(t,e){t[e]!==this.value&&(t[e]=this.value)};var root="undefined"!=typeof window?window:"undefined"!=typeof commonjsGlobal?commonjsGlobal:{},index$18=Individual$1,Individual=index$18,oneVersion=OneVersion,OneVersionConstraint=oneVersion,MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION,index$16=EvStore$1,EvStore=index$16,evHook$1=EvHook;EvHook.prototype.hook=function(t,e){var n=EvStore(t),r=e.substr(3);n[r]=this.value},EvHook.prototype.unhook=function(t,e){var n=EvStore(t),r=e.substr(3);n[r]=void 0};var isArray$7=index$4,VNode$1=vnode,VText$1=vtext,isVNode$3=isVnode,isVText$3=isVtext,isWidget$6=isWidget_1,isHook$3=isVhook,isVThunk=isThunk_1,parseTag=parseTag_1,softSetHook=softSetHook$1,evHook=evHook$1,index$12=h$3,h$2=index$12,h_1=h$2,createElement$2=createElement_1,createElement_1$2=createElement$2,diff=diff_1,patch=patch_1,h$1=h_1,create$8=createElement_1$2,VNode=vnode,VText=vtext,index$2={diff:diff,patch:patch,h:h$1,create:create$8,VNode:VNode,VText:VText},h$1=index$2.h,create$8=index$2.create,diff=index$2.diff,patch=index$2.patch,Observer=function(){function t(e,n,r){_classCallCheck$10(this,t),this.OnNext=e,this.OnError=n||function(t){},this.OnCompleted=r||function(){}}return t.prototype[_Symbol.interfaces]=function(){return["System.IObserver"]},t}(),Observable=function(){function t(e){_classCallCheck$10(this,t),this.Subscribe=e}return t.prototype[_Symbol.interfaces]=function(){return["System.IObservable"]},t}(),_createClass$6=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Event$2=function(){function t(e,n){_classCallCheck$9(this,t),this._subscriber=e,this.delegates=n||new Array}return t.prototype.Add=function(t){this._addHandler(t)},t.prototype.Trigger=function(t){iterate$1(function(e){return e(t)},this.delegates)},t.prototype._addHandler=function(t){this.delegates.push(t)},t.prototype._removeHandler=function(t){var e=this.delegates.findIndex(function(e){return""+e==""+t});e>-1&&this.delegates.splice(e,1)},t.prototype.AddHandler=function(t){this._addHandler(function(e){return t(void 0,e)})},t.prototype.RemoveHandler=function(t){this._removeHandler(function(e){return t(void 0,e)})},t.prototype._subscribeFromObserver=function(t){var e=this;if(this._subscriber)return this._subscriber(t);var n=t.OnNext;return this._addHandler(n),createDisposable(function(){return e._removeHandler(n)})},t.prototype._subscribeFromCallback=function(t){var e=this;return this._addHandler(t),createDisposable(function(){return e._removeHandler(t)})},t.prototype.Subscribe=function(t){return"function"==typeof t?this._subscribeFromCallback(t):this._subscribeFromObserver(t)},_createClass$6(t,[{key:"Publish",get:function(){return this}}]),t}(),DomAttribute=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Html.DomAttribute"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Attribute:["string"],Event:["function"],Property:[[1]]}},t}();declare(DomAttribute);var DomNode=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Html.DomNode"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Delayed:["string",t,"function"],Element:["string",[4,[5,["string",DomAttribute]]],[4,t],[3,"function"]],Part:["function"],Text:["string"]}},t}();declare(DomNode);var counter=0,El=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Html.El"},t.prototype[_Symbol.properties]=function(){return{}},t.op_Dynamic=function(t,e){return function(t){return function(n){var r="chosen"!==e?[e,null]:["select",function(e){jQuery(e).chosen();for(var n=t,r=Array.isArray(n),i=0,n=r?n:_getIterator(n);;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var s=o;"Event"===s[1].Case&&jQuery(e).on(s[0],function(){s[1].Fields[0](e)(event)})}}];return new DomNode("Element",[r[0],_Array$from(t),_Array$from(n),r[1]])}}},t.prototype.delayed=function(t,e,n){return new DomNode("Delayed",[t,e,n])},t.prototype.part=function(t,e){var n=new Event$2,r=t,i=null,o=null,s=function(){var t=[i,o],e=function(){};null!=t[0]&&null!=t[1]?!function(){var e=t[0],n=t[1];!function(t){renderTo(e,t)}(n(r))}():e()};return add$6(function(t){r=e(r)(t),s()},n.Publish),[function(t){n.Trigger(t)},function(t){return o=t,new DomNode("Part",[function(t){i=t,s()}])}]},t}();declare(El);var h$$1=new El,html=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.html"},t.prototype[_Symbol.properties]=function(){return{}},t.img=function(t){return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("img")(ofArray$$1([op_EqualsGreater("src",t)]))(new List$1)},t}();declare(html);var table=function(){function t(e,n,r,i){_classCallCheck(this,t),this.data=e,this.showKey=n,this.hiddenColumns=r,this.addedColumns=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.table"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{data:makeGeneric(series,{k:[6,"k"],v:[6,"v"]}),showKey:[3,"boolean"],hiddenColumns:makeGeneric(FSet,{T:"string"}),addedColumns:makeGeneric(List$1,{T:[5,["string","function"]]})}},t.create=function(e){var n=create$3(null,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),r=new List$1;return new t(e,null,n,r)},t.prototype.set=function(e,n){var r=this.data.set(this.data.data,null,null,null!=e?e:this.data.seriesName);return new t(r,null==n?this.showKey:n,this.hiddenColumns,this.addedColumns)},t.prototype.hideColumns=function(e){var n=create$3(e,new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return new t(this.data,this.showKey,n,this.addedColumns)},t.prototype.addColumn=function(e,n){var r=new List$1([e,n],this.addedColumns);return new t(this.data,this.showKey,this.hiddenColumns,r)},t.prototype.render=function(){var t=this,e=function(t){return function(e){return function(n){return function(r){return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("tr")(new List$1)(toList(delay(function(){return append$2(t?singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)(e)(new List$1)(ofArray$$1([text(n)]))):empty(),delay(function(){return map$6(function(t){return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)(e)(new List$1)(ofArray$$1([t]))},r)}))})))}}}},n=function(n){return function(r){return function(i){return function(o){return function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("table")(ofArray$$1([op_EqualsGreater("class","table table-striped")]))(toList(delay(function(){return append$2(isNullOrWhiteSpace(t.data.seriesName)?empty():singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("caption")(new List$1)(ofArray$$1([text(t.data.seriesName)]))),delay(function(){return append$2(singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("thead")(new List$1)(ofArray$$1([e(n)("th")(r)(i)]))),delay(function(){return singleton$1(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("tbody")(new List$1)(o))}))}))})))}}}},r=function(t){var e=toList(delay(function(){return map$6(function(t){return t.key},function(t){return _Object$keys(t).map(function(e){return{key:e,value:t[e]}})}(t))})).Equals(ofArray$$1(["data","keyName","valueName","seriesName"]));if(e){var n=null;return t.data.Then(function(t){n=t}),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("span")(new List$1)(ofArray$$1(n.map(function(t){return t[1]})))}return text(toString$2(t))};return function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(t.data.data),function(o){var s=function(e){return function(t){return _Object$keys(t).map(function(e){return{key:e,value:t[e]}})}(e).filter(function(e){return!t.hiddenColumns.has(e.key)})},a=head(o),u=toList(delay(function(){return append$2("object"==_typeof$1(a[1])?map$6(function(t){return text(t.key)},s(a[1])):singleton$1(text(t.data.valueName)),delay(function(){return collect$1(function(t){return singleton$1(text(t[0]))},t.addedColumns)}))})),l=null!=t.showKey?t.showKey:!("object"==_typeof$1(a[1]));return i.Return(function(t){var e=n(t);return function(t){var n=e(t);return function(t){var e=n(t);return function(t){return e(t)}}}}(l)(t.data.keyName)(u)(toList(delay(function(){return collect$1(function(n){return singleton$1(function(){var i=toList(delay(function(){return append$2("object"==_typeof$1(n[1])?map$6(function(t){return text(t.value)},s(n[1])):singleton$1("number"!=typeof n[1]?text(toString$2(n[1])):isNaN(n[1])?text(""):text(n[1])),delay(function(){return collect$1(function(t){return singleton$1(r(t[1](n[1])))},t.addedColumns)}))}));return function(t){var n=e(t);return function(t){var e=n(t);return function(t){var n=e(t);return function(t){return n(t)}}}}(l)("td")(n[0])(i)}())},o)}))))})}),function(t){return Log.exn("live","Getting data for table failed: %O",t),i.Return(function(){throw t}())})})}(singleton$2)},t.prototype.show=function(t){var e=this;!function(t){startImmediate(t)}(function(n){return n.Delay(function(){return n.Bind(e.render(),function(e){return renderTo(document.getElementById(t),e),n.Zero()})})}(singleton$2))},t}();declare(table);var empty$1=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.empty"},t.prototype[_Symbol.properties]=function(){return{}},t.create=function(){return new t},t.prototype.show=function(t){renderTo(document.getElementById(t),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","loading")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("p")(new List$1)(ofArray$$1([text("No output produced.")]))])))},t}();declare(empty$1);var core$4=_core,$JSON$1=core$4.JSON||(core$4.JSON={stringify:JSON.stringify}),stringify$3=function(t){return $JSON$1.stringify.apply($JSON$1,arguments)},stringify$2=createCommonjsModule(function(t){t.exports={default:stringify$3,__esModule:!0}}),_JSON$stringify=unwrapExports(stringify$2),_stringWs="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",$export$9=_export,defined$4=_defined,fails$2=_fails,spaces=_stringWs,space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(t,e,n){var r={},i=fails$2(function(){return!!spaces[t]()||non[t]()!=non}),o=r[t]=i?e(trim$1):spaces[t];n&&(r[n]=o),$export$9($export$9.P+$export$9.F*i,"String",r)},trim$1=exporter.trim=function(t,e){return t=String(defined$4(t)),1&e&&(t=t.replace(ltrim,"")),2&e&&(t=t.replace(rtrim,"")),t},_stringTrim=exporter,$parseInt$1=_global.parseInt,$trim=_stringTrim.trim,ws=_stringWs,hex=/^[\-+]?0[xX]/,_parseInt$3=8!==$parseInt$1(ws+"08")||22!==$parseInt$1(ws+"0x16")?function(t,e){var n=$trim(String(t),3);return $parseInt$1(n,e>>>0||(hex.test(n)?16:10))}:$parseInt$1,$export$8=_export,$parseInt=_parseInt$3;$export$8($export$8.S+$export$8.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt});var _parseInt$1=parseInt,_parseInt=createCommonjsModule(function(t){t.exports={default:_parseInt$1,__esModule:!0}}),_Number$parseInt=unwrapExports(_parseInt),GeographyConfig=function(){function t(e,n){_classCallCheck(this,t),this.popupOnHover=e,
this.highlightOnHover=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.GeographyConfig"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{popupOnHover:"boolean",highlightOnHover:"boolean"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(GeographyConfig);var DatamapConfig=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.element=e,this.scope=n,this.geographyConfig=r,this.fills=i,this.data=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.DatamapConfig"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{element:[7,"Fable.Import.Browser.HTMLElement"],scope:"string",geographyConfig:GeographyConfig,fills:[1],data:[1]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(DatamapConfig);var BubblesConfig=function(){function t(e,n){_classCallCheck(this,t),this.popupTemplate=e,this.key=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.BubblesConfig"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{popupTemplate:"function",key:"function"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(BubblesConfig);var GeoGlobals=function(t){var e=t.Locations=function(){function t(e,n){_classCallCheck(this,t),this.country=e,this.coordinates=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.GeoGlobals.Locations"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{country:"string",coordinates:[4,"number"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(e);t.locations=function(t){return function(e){return Async_CreateNamedFuture_Static(t,e)}}("locations")(function(t){return t.Delay(function(){return t.Bind(Http.Request("GET","/data/locations.json"),function(e){var n=create$4(JSON.parse(e).map(function(t){return[t.country,t.coordinates]}),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return t.Return(n)})})}(singleton$2));return t}({}),geo$1=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.geo"},t.prototype[_Symbol.properties]=function(){return{}},t.lookup=function(t){return function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(GeoGlobals.locations),function(n){return e.Return(null!=tryFind$1(t,n)?tryFind$1(t,n):new Float64Array([0,0]))})})}(singleton$2)},t}();declare(geo$1);var math=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.math"},t.prototype[_Symbol.properties]=function(){return{}},t.sqrt=function(t){return Math.sqrt(t)},t.pow=function(t,e){return Math.pow(t,e)},t.log=function(t,e){return null!=e?Math.log(t,e):Math.log(t)},t.min=function(t,e){return t<e?t:e},t.max=function(t,e){return t>e?t:e},t.add=function(t,e){return t+e},t.times=function(t,e){return t*e},t.sub=function(t,e){return t-e},t.div=function(t,e){return t/e},t}();declare(math);var timeline$1=function(){function t(e,n,r,i,o,s,a,u,l,p,c){_classCallCheck(this,t),this.data=e,this.colors=n,this.titleTemplate=r,this.defaultFill=i,this.delay=o,this.overflowDelay=s,this.infoSelector=a,this.locSelector=u,this.sizeSelector=l,this.detailsSelector=p,this.timeSelector=c}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Maps.timeline"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{data:makeGeneric(series,{k:[6,"k"],v:[6,"v"]}),colors:[4,"string"],titleTemplate:"string",defaultFill:"string",delay:"number",overflowDelay:"number",infoSelector:"function",locSelector:"function",sizeSelector:"function",detailsSelector:[3,"function"],timeSelector:"function"}},t.create=function(e){var n=["red"],r="blue",i=750,o=null,s=2e3,a="%title",u=function(t){return""},l=function(t){return 0},p=function(t){return 10};return new t(e,n,a,r,i,s,u,function(t){throw"!"},p,o,l)},t.prototype.set=function(e,n,r,i,o,s){var a=null!=n?n:this.colors,u=null!=e?e:this.defaultFill,l=null!=r?r:this.titleTemplate,p=null!=i?i:this.delay,c=null!=s?s:this.detailsSelector,h=null!=o?o:this.overflowDelay;return new t(this.data,a,l,u,p,h,this.infoSelector,this.locSelector,this.sizeSelector,c,this.timeSelector)},t.prototype.using=function(e,n,r,i){return new t(this.data,this.colors,this.titleTemplate,this.defaultFill,this.delay,this.overflowDelay,i,e,r,this.detailsSelector,n)},t.prototype.show=function(t){var e=this,n="map"+function(){var t=function(){var t=now();return ticks$$1(t)}();return String(t)}();renderTo(document.getElementById(t),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","map")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("id",n+"_title")]))(ofArray$$1([text("")])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("id",n),op_EqualsGreater("class","mapcontainer")]))(new List$1),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(new List$1)(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("div")(ofArray$$1([op_EqualsGreater("class","buttons")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("a")(ofArray$$1([op_EqualsGreater("id",n+"_btn")]))(ofArray$$1([function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-pause")]))(new List$1)]))])),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("input")(ofArray$$1([op_EqualsGreater("id",n+"_player"),op_EqualsGreater("type","range")]))(new List$1)]))])));var r=_Array$from(mapIndexed$1(function(t,e){return[fsFormat("item%d")(function(t){return t})(t),e]},this.colors)),i=new Datamap(new DatamapConfig(document.getElementById(n),"world",new GeographyConfig(!1,!1),createObj(new List$1(["defaultFill",this.defaultFill],ofArray$$1(r))),{})),o=function(t){return function(n){return function(i){for(var o=[],s=0;s<=t.length-1;s++){var a=t[s];equals$1(a[3],i)&&!function(t){o.push(t)}(createObj(append$1(null!=e.detailsSelector?ofArray$$1([["details",join("",map$6(function(t){return toString$2(t)},e.detailsSelector(a[2])))]]):new List$1,ofArray$$1([["radius",e.sizeSelector(a[2])],["borderWidth","1px"],["fillKey",fsFormat("item%d")(function(t){return t})(a[0]%r.length)],["info",null!=tryFind$1(fsFormat("%O, %O")(function(t){return t})(a[1][0])(a[1][1]),n)?tryFind$1(fsFormat("%O, %O")(function(t){return t})(a[1][0])(a[1][1]),n):""],["latitude",a[1][0]],["longitude",a[1][1]]]))))}return _Array$from(o)}}};!function(t){startImmediate(t)}(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(e.data.data),function(r){var s=new Array(r.length);return t.Combine(t.For(range$1(0,r.length-1),function(n){return t.Bind(e.locSelector(r[n][1]),function(e){return s[n]=e,t.Zero()})}),t.Delay(function(){var a=create$4(mapIndexed$1(function(t,e){return[ofArray$$1(e),t]},distinct(s)),new GenericComparer(function(t,e){return t.CompareTo(e)})),u=_Array$from(map2(function(t,n){return[a.get(ofArray$$1(n)),n,t[1],e.timeSelector(t[1])]},r,s)),l=create$4(map$6(function(t){return[t[0],join("<br />",distinct(map$6(function(t){return e.infoSelector(t[2])},t[1])))]},groupBy$1(function(t){return fsFormat("%O, %O")(function(t){return t})(t[1][0])(t[1][1])},u)),new GenericComparer(function(t,e){return t<e?-1:t>e?1:0})),p=Int32Array.from(sortWith(function(t,e){return compare(t,e)},distinct(Int32Array.from(map$6(function(t){return t[3]},u))))),c=([reduce(function(t,e){return Math.min(t,e)},p),reduce(function(t,e){return Math.max(t,e)},p)],document.getElementById(n+"_player")),h=document.getElementById(n+"_btn");return t.Combine(1===p.length?function(){return c.style.display="none",h.style.display="none",t.Zero()}():t.Zero(),t.Delay(function(){c.min=String(0),c.value=String(0),c.max=String(p.length-1);var r=function(){var t=p[_Number$parseInt(c.value)],r=o(u)(l)(t);renderTo(document.getElementById(n+"_title"),function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("h2")(new List$1)(ofArray$$1([text(replace$$1(e.titleTemplate,"%title",String(t)))])));var s=function(){var t=function(t){return _JSON$stringify([t.latitude,t.longitude])};return new BubblesConfig(function(t,n){return null!=e.detailsSelector?fsFormat("<div style='pointer-events:none' class='hoverinfo'><strong>%s</strong><br /> %s </div>")(function(t){return t})(n.info)(n.details):fsFormat("<div style='pointer-events:none' class='hoverinfo'>%s</div>")(function(t){return t})(n.info)},t)}();i.bubbles(r,s)},s=!0,a=function(){!function(t){startImmediate(t)}(function(t){return t.Delay(function(){return t.While(function(){return s},t.Delay(function(){var n=_Number$parseInt(c.value);return r(),c.value=String(n+1===p.length?0:n+1),t.Bind(sleep(n+1===p.length?e.overflowDelay:e.delay),function(){return t.Return()})}))})}(singleton$2))};return c.onchange=function(t){return s=!1,function(t){renderTo(h,t)}(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class","fa fa-play")]))(new List$1)),r()},c.oninput=c.onchange,h.onclick=function(t){return s=!s,function(t){renderTo(h,t)}(function(t){return function(e){return El.op_Dynamic(t,e)}}(h$$1)("i")(ofArray$$1([op_EqualsGreater("class",s?"fa fa-pause":"fa fa-play")]))(new List$1)),s&&a(),null},a(),t.Zero()}))}))})})}(singleton$2))},t}();declare(timeline$1);var TypeContext=function(){function t(e){_classCallCheck(this,t),this.EquivalentVars=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Types.TypeContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{EquivalentVars:makeGeneric(List$1,{T:[5,["string","string"]]})}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(TypeContext);var typesEqual=function(){var t=new TypeContext(new List$1);return function(e){return function(n){return typesEqualAux(t,e,n)}}}(),UnifictionContext=function(){function t(e,n,r,i){_classCallCheck(this,t),this.FreeVars=e,this.Assignments=n,this.EquivalentVars=r,this.Errors=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Types.UnifictionContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{FreeVars:makeGeneric(FSet,{T:"string"}),Assignments:makeGeneric(List$1,{T:[5,["string",Type]]}),EquivalentVars:makeGeneric(List$1,{T:[5,["string","string"]]}),Errors:makeGeneric(List$1,{T:[5,[Type,Type]]})}},t}();declare(UnifictionContext);var _createClass$7=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Lazy=function(){function t(e){_classCallCheck$11(this,t),this.factory=e,this.isValueCreated=!1}return _createClass$7(t,[{key:"value",get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}}]),t}(),FormattingContext=function(){function t(e){_classCallCheck(this,t),this.Strings=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Ast.FormattingContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Strings:[4,"string"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.Add=function(t){this.Strings.push(formatToken(t))},t}();declare(FormattingContext);var anonymous="",BabelOptions=function(){function t(e){_classCallCheck(this,t),this.presets=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Interpreter.BabelOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{presets:[4,"string"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(BabelOptions);var BabelResult=function(){function t(e){_classCallCheck(this,t),this.code=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Interpreter.BabelResult"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{code:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(BabelResult);var EvaluationContext=function(){function t(e){_classCallCheck(this,t),this.Globals=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Interpreter.EvaluationContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Globals:[7,"System.Collections.Generic.IDictionary"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(EvaluationContext);var QueueCell=function t(e){_classCallCheck$12(this,t),this.value=e},MailboxQueue=function(){function t(){_classCallCheck$12(this,t)}return t.prototype.add=function(t){var e=new QueueCell(t);this.firstAndLast?(this.firstAndLast[1].next=e,this.firstAndLast=[this.firstAndLast[0],e]):this.firstAndLast=[e,e]},t.prototype.tryGet=function(){if(this.firstAndLast){var t=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,t}},t}(),MailboxProcessor=function(){function t(e,n){_classCallCheck$12(this,t),this.body=e,this.cancellationToken=n||defaultCancellationToken,this.messages=new MailboxQueue}return t.prototype.__processEvents=function(){if(this.continuation){var t=this.messages.tryGet();if(t){var e=this.continuation;delete this.continuation,e(t)}}},t.prototype.start=function(){startImmediate(this.body(this),this.cancellationToken)},t.prototype.receive=function(){var t=this;return fromContinuations(function(e){if(t.continuation)throw"Receive can only be called once!";t.continuation=e[0],t.__processEvents()})},t.prototype.post=function(t){this.messages.add(t),this.__processEvents()},t.prototype.postAndAsyncReply=function(t){function e(){n&&r&&r(n)}var n=void 0,r=void 0,i={reply:function(t){n=t,e()}};return this.messages.add(t(i)),this.__processEvents(),fromContinuations(function(t){r=t[0],e()})},t}(),Property=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Editors.Property"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{Property:["string",[3,Metadata],Type]}},t}();declare(Property);var Editor=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Editors.Editor"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{CreateList:[Documentation,makeGeneric(_Node,{T:Name}),[4,makeGeneric(_Node,{T:Name})],[4,Property]],NestedChoice:[Documentation,Documentation,makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Name}),[4,[5,[Property,[4,Property]]]]],SingleChoice:[Documentation,makeGeneric(_Node,{T:Name}),[4,Property]]}},_createClass$5(t,[{key:"Range",get:function(){return"NestedChoice"===this.Case?unionRanges(this.Fields[2].Range,this.Fields[3].Range):"CreateList"===this.Case?fold$1(function(t,e){return unionRanges(t,e.Range)},new _Range(this.Fields[1].Range.End,this.Fields[1].Range.End),this.Fields[2]):this.Fields[1].Range}}]),t}();declare(Editor);var collectSingleChoiceEditors=function(){var t=function(t){return function(e){return e.Delay(function(){return null!=t.tail?function(){var n=t.head[0],r=t.head[1],i=t.head[4];return e.Bind(chooseableProperty(!0,r,n),function(t){return e.Return(function(){var e=t;return null!=e?function(t){return new Editor("SingleChoice",[i,t[0],t[1]])}(e):e}())})}():e.Return()})}(singleton$2)};return function(e){return pickChainSuffixes(t,e)}}(),collectNestedChoiceEditors=function(){var t=function(t){return function(e){return e.Delay(function(){var n=function(){return e.Return()};if(null==t.tail)return n();if(null==t.tail.tail)return n();if(null==t.tail.head[2])return n();var r=function(){var n=t.head[4],r=t.head[1],i=t.head[0],o=(t.head[2],t.head[3],t.tail.head[4]),s=t.tail.head[1],a=t.tail.head[0],u=t.tail.head[2],l=t.tail.head[3];return Log.trace("editors","checking %s.%s",r.Node.Name,s.Node.Name),{v:e.Bind(chooseableProperty(!1,r,i),function(t){return e.Bind(chooseableProperty(!0,s,a),function(r){var i=[t,r],s=function(){return e.Return()};if(null==i[0])return s();if(null==i[1])return s();var a=function(){var t=i[0][1],r=i[0][0],s=(i[1][1],i[1][0]),a=function(){Log.trace("editors","collecting %s nested members",t.length);var i=function(e){return Async.Array.map(function(t){return function(e){return e.Delay(function(){return e.Bind(getMembers(t.Fields[2]),function(n){var r=filterProperties(function(t){return null!=t[1]&&function(){var e=t[1];return e.Type===u.Type&&typesEqual(t[2])(l)}()},n);return e.Return([t,[n,r]])})})}(singleton$2)},e(t))};return{v:{v:e.Bind(i(function(t){return _Array$from(truncate(5,t))}),function(t){return count(t)>2&&dominant(collect$1(function(t){return t[1][0]},t),collect$1(function(t){return t[1][1]},t))?e.Bind(i(function(t){return t}),function(t){var i=t.map(function(t){return[t[0],t[1][1]]});return e.Return(new Editor("NestedChoice",[n,o,r,s,i]))}):e.Return()})}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}();return"object"===("undefined"==typeof a?"undefined":_typeof$1(a))?a.v:void 0})})}}();return"object"===("undefined"==typeof r?"undefined":_typeof$1(r))?r.v:void 0})}(singleton$2)};return function(e){return pickChainSuffixes(t,e)}}(),ItemListSchema=function(){function t(e){_classCallCheck(this,t),this.name=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Editors.ItemListSchema"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{name:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(ItemListSchema);var CreateActionSchema=function(){function t(e){_classCallCheck(this,t),this.result=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Editors.CreateActionSchema"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{result:ItemListSchema}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(CreateActionSchema);var AddActionSchema=function(){function t(e){_classCallCheck(this,t),this.targetCollection=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Editors.AddActionSchema"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{targetCollection:ItemListSchema}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(AddActionSchema);var collectItemListEditors=function(){var t=function(t){return function(e){return e.Delay(function(){var n=function n(){var n=function(){return e.Return()};if(null==t.tail)return n();if(null==t.head[2])return n();if(!function(){var e=(t.head[4],t.head[3],t.head[2]);t.head[0],t.head[1];return"CreateAction"===e.Type}())return n();var r=function(){var n=t.tail,r=t.head[1],i=(t.head[0],t.head[2]),o=t.head[3],s=t.head[4],a=function(){var t=i.Data.result.name,a=function e(n){return function(r){return function(i){var o=function(){return[reverse$1(n),r]};if(null!=i.tail){if(null!=i.head[2]){if(function(){var e=(i.head[3],i.head[2]);i.head[0],i.head[1];return"AddAction"===e.Type&&t===e.Data.targetCollection.name}()){var s=i.tail,a=i.head[1],u=(i.head[0],i.head[2],i.head[3]);return e(new List$1(a,n))(u)(s)}return o()}return o()}return o()}}},u=a(new List$1)(o)(n);return{v:{v:e.Bind(getMembers(u[1]),function(n){var i=filterProperties(function(e){var n=function(){return!1};if(null!=e[1]){if(function(){var t=e[1];return"AddAction"===t.Type}()){var r=(e[0],e[1]);e[2];return r.Data.targetCollection.name===t}return n()}return n()},n);return e.Return(new Editor("CreateList",[s,r,_Array$from(u[0]),i]))})}}}();if("object"===("undefined"==typeof a?"undefined":_typeof$1(a)))return a.v}();return"object"===("undefined"==typeof r?"undefined":_typeof$1(r))?r.v:void 0};if(null!=t.tail){if(null!=t.head[2]){if(null!=t.tail.tail){if(null!=t.tail.head[2]){if(function(){var e=t.tail.head[2],n=t.head[2];return"CreateAction"===n.Type&&"CreateAction"===e.Type}()){t.head[2],t.tail.head[2];return e.Return()}return n()}return n()}return n()}return n()}return n()})}(singleton$2)};return function(e){return pickChainSuffixes(t,e)}}(),BindingContext=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.Variables=e,this.GlobalValues=n,this.Root=r,this.Table=i,this.Bound=o}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Binder.BindingContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Variables:makeGeneric(FMap,{Key:Name,Value:Entity}),GlobalValues:makeGeneric(FMap,{Key:Name,Value:Entity}),Root:Entity,Table:makeGeneric(_Map,{TKey:[7,"TheGamma.Common.Symbol"],TValue:makeGeneric(ListDictionaryNode,{K:[7,"TheGamma.Common.Symbol"],T:makeGeneric(FMap,{Key:[5,["number","string"]],Value:Entity})})}),Bound:[4,[5,[_Range,Entity]]]}},t}();declare(BindingContext);var BindingResult=function(){function t(e){var n=this;_classCallCheck(this,t),this.ents=e,!function(){for(var t=new _Map,e=function(e){return function(n){t.has(e)||t.set(e,[]),t.get(e).push(n)}},r=n.ents,i=0;i<=r.length-1;i++)for(var o=r[i],s=Entity_get_Antecedents.bind(o[1])(),a=s,u=Array.isArray(a),l=0,a=u?a:_getIterator(a);;){var p;if(u){if(l>=a.length)break;p=a[l++]}else{if(l=a.next(),l.done)break;p=l.value}var c=p;e(c.Symbol)(o[1])}n.childrenLookup=t}()}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Binder.BindingResult"},t.prototype[_Symbol.properties]=function(){return{Entities:[4,[5,[_Range,Entity]]]}},t.prototype.GetChildren=function(t){var e=tryGetValue(this.childrenLookup,t.Symbol);return e[0]?_Array$from(e[1]):[]},_createClass$5(t,[{key:"Entities",get:function(){return this.ents}}]),t}();declare(BindingResult);var Tokenizer=function(t){t.inputEndInsideString=function(t,e){var n=101;return new Error$1(n,fsFormat('Missing " at the end of the input. The string "%s" ends without closing double-quote.')(function(t){return t})(e),t)},t.missingClosingQuote=function(t,e){var n=102;return new Error$1(n,fsFormat("Quoted identifier '%s' is missing closing quote.")(function(t){return t})(e),t)},t.unexpectedCharacter=function(t,e){var n=103;return new Error$1(n,fsFormat("Unexcpected character '%s' in the input.")(function(t){return t})(e),t)};return t}({}),Parser=function(t){t.unexpectedTokenAfterDot=function(t,e){var n=201;return new Error$1(n,fsFormat("Unexpected %s after '.' in method chain")(function(t){return t})(formatTokenInfo(e)),t)},t.unexpectedScopeEndAfterDot=function(t,e,n){var r=202;return new Error$1(r,fsFormat("Unexpected end of scope after '.' in method chain before %s")(function(t){return t})(formatTokenInfo(n)),t)},t.unindentedIdentifierAfterDot=function(t,e,n){var r=203;return new Error$1(r,fsFormat("Unexpected end of scope after '.' and before '%s'. Indent the identifier?")(function(t){return t})(n),t)},t.unindentedDotAfterIdentifier=function(t,e){var n=204;return new Error$1(n,"Dot after this identifier is not correctly nested",t)},t.unindentedBlock=function(t,e){var n=205;return new Error$1(n,fsFormat("Token following %s needs to be indented further")(function(t){return t})(formatTokenInfo(e)),t)},t.unexpectedTokenAfterOperator=function(t,e,n){var r=206;return new Error$1(r,fsFormat("Unexpected token '%s' after operator '%s'")(function(t){return t})(formatTokenInfo(n))(formatTokenInfo(e)),t)},t.unexpectedTokenInArgList=function(t,e){var n=207;return new Error$1(n,fsFormat("Unexpected token '%s' in list of call arguments")(function(t){return t})(formatTokenInfo(e)),t)},t.unexpectedScopeEndInArgList=function(t){var e=208;return new Error$1(e,"Unexpected end of scope in argument list",t)},t.unexpectedTokenInParenthesizedExpr=function(t,e){var n=209;return new Error$1(n,fsFormat("Unexpected token '%s' in parenthesized expression. Are you missing ')'?")(function(t){return t})(formatTokenInfo(e)),t)},t.unindentedTokenInParenthesizedExpr=function(t){var e=210;return new Error$1(e,"Unexpected end of nested expression in `(`",t)},t.missingParenthesizedExpr=function(t){var e=211;return new Error$1(e,"The parenthesized expression (...) is missing body!",t)},t.unexpectedTokenInList=function(t,e){var n=212;return new Error$1(n,fsFormat("Unexpected token '%s' in list expression")(function(t){return t})(formatTokenInfo(e)),t)},t.unexpectedScopeEndInList=function(t){var e=213;return new Error$1(e,"Unexpected end of scope in list expression",t)},t.unexpectedTokenInLetBinding=function(t,e){var n=214;return new Error$1(n,fsFormat("Unexpected token '%s' in let declaration (should be let name = expr)")(function(t){return t})(formatTokenInfo(e)),t)},t.missingBodyInLetBinding=function(t){var e=215;return new Error$1(e,"This let binding is missing body after equals",t)},t.nestedExpressionInCommand=function(t){var e=216;return new Error$1(e,"Unexpected expression",t)},t.unexpectedTokenAfterFun=function(t,e){var n=217;return new Error$1(n,fsFormat("Unexpected token '%s' after `fun`. Expected variable name.")(function(t){return t})(formatTokenInfo(e)),t)},t.missingArrowInFunc=function(t){var e=218;return new Error$1(e,"Missing arrow after variable in function definition",t)},t.unexpectedScopeEndInFunc=function(t){var e=219;return new Error$1(e,"Unexpected end of scope in function declaration",t)},t.missingBodyOfFunc=function(t){var e=220;return new Error$1(e,"The function is missing body. If it is on the next line, you need to indent it further.",t)},t.exceptionWhileParsing=function(t,e){var n=299;return new Error$1(n,"Unexpected exception while parsing: "+e,t)};return t}({}),TypeChecker=function(t){var e=(t.numericOperatorExpectsNumbers=function(t,e,n,r){var i=301;return new Error$1(i,fsFormat("Both operands of binary operator '%s' should be numbers but the %s operand was %s instead.")(function(t){return t})(formatToken(new TokenKind("Operator",[t])))(0===e?"left":"right")(formatTypeInfo(n)),r)},t.variableNotInScope=function(t,e){var n=302;return new Error$1(n,fsFormat("Variable '%s' is not in scope.")(function(t){return t})(t),e)},function(t){return join(", ",toList(delay(function(){return collect$1(function(t){var e=function(t){return singleton$1(t)};return e("Property"===t.Case?t.Fields[0]:t.Fields[0])},t)})))});t.propertyMissing=function(t,n,r){var i=303;return new Error$1(i,fsFormat("Could not find property '%s' in the list '%s'.")(function(t){return t})(t)(e(n)),r)},t.methodMissing=function(t,n,r){var i=304;return new Error$1(i,fsFormat("Could not find method '%s' in the list '%s'.")(function(t){return t})(t)(e(n)),r)},t.notAnObject=function(t,e,n){var r=305;return new Error$1(r,fsFormat("Type is not an object but %s and it does not have member `%s`")(function(t){return t})(formatTypeInfo(e))(t),n)},t.listElementTypeDoesNotMatch=function(t,e,n){var r=306;return new Error$1(r,fsFormat("The type of this list element is %s but it should be %s")(function(t){return t})(formatTypeInfo(e))(formatTypeInfo(t)),n)},t.nameBasedParamMustBeLast=function(t){var e=307;return new Error$1(e,"All named parameters must be at the end of parameter list.",t)},t.parameterMissingValue=function(t,e){var n=308;return new Error$1(n,fsFormat("Required parameter `%s` is not given a value.")(function(t){return t})(t),e)},t.incorrectParameterType=function(t,e,n,r,i,o){var s=309;return new Error$1(s,fsFormat("The value of parameter `%s` has wrong type. Expected %s but got %s. The type %s does not match the type %s.")(function(t){return t})(t)(formatTypeInfo(e))(formatTypeInfo(n))(formatTypeInfo(r))(formatTypeInfo(i)),o)},t.inferenceConflict=function(t,e,n,r){var i=310;return new Error$1(i,fsFormat("The arguments of the call have conflicting types. The type %s assigned to a variable %s does not match the type %s.")(function(t){return t})(formatTypeInfo(e))(t)(formatTypeInfo(n)),r)},t.callMissingInstance=function(t,e){var n=311;return new Error$1(n,fsFormat("The `%s` property access or call is missing an instance")(function(t){return t})(t),e)};return t}({}),$parseFloat$1=_global.parseFloat,$trim$1=_stringTrim.trim,_parseFloat$3=1/$parseFloat$1(_stringWs+"-0")!==-(1/0)?function(t){var e=$trim$1(String(t),3),n=$parseFloat$1(e);return 0===n&&"-"==e.charAt(0)?-0:n}:$parseFloat$1,$export$10=_export,$parseFloat=_parseFloat$3;$export$10($export$10.S+$export$10.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat});var _parseFloat$1=parseFloat,_parseFloat=createCommonjsModule(function(t){t.exports={default:_parseFloat$1,__esModule:!0}}),_Number$parseFloat=unwrapExports(_parseFloat),Context$1=function(){function t(e,n,r){_classCallCheck(this,t),this.Tokens=e,this.Errors=n,this.Input=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Tokenizer.Context"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Tokens:[4,Token],Errors:[4,makeGeneric(Error$1,{Range:_Range})],Input:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(Context$1);var Context$$1=function(){function t(e,n,r,i,o,s,a,u,l){_classCallCheck(this,t),this.Tokens=e,this.Whitespace=n,this.Errors=r,this.TopLevel=i,this.Silent=o,this.StrictlyNested=s,this.IndentCurrent=a,this.IndentStack=u,this.Position=l}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Parser.Context"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Tokens:[4,Token],Whitespace:[4,Token],Errors:[4,makeGeneric(Error$1,{Range:_Range})],TopLevel:"boolean",Silent:"boolean",StrictlyNested:"boolean",IndentCurrent:"number",IndentStack:makeGeneric(List$1,{T:[5,["number","boolean"]]}),Position:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(Context$$1);var Associativity=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Parser.Associativity"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Left:[],Right:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t);
},t}();declare(Associativity);var OpExpr=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Parser.OpExpr"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{OpExpr:[makeGeneric(_Node,{T:Expr}),[3,[5,[makeGeneric(_Node,{T:Operator}),t]]]]}},t}();declare(OpExpr);var CheckingContext=function(){function t(e,n,r){_classCallCheck(this,t),this.Errors=e,this.Globals=n,this.Ranges=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeChecker.CheckingContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{Errors:[4,makeGeneric(Error$1,{Range:_Range})],Globals:[7,"System.Collections.Generic.IDictionary"],Ranges:[7,"System.Collections.Generic.IDictionary"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(CheckingContext);var LineColumnRange=function(){function t(e,n,r,i){_classCallCheck(this,t),this.StartLineNumber=e,this.StartColumn=n,this.EndLineNumber=r,this.EndColumn=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.LineColumnRange"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{StartLineNumber:"number",StartColumn:"number",EndLineNumber:"number",EndColumn:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(LineColumnRange);var LocationMapper=function(){function t(e){_classCallCheck(this,t),this.lengths=Int32Array.from(map$6(function(t){return t.length},e.split("\n")))}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.LocationMapper"},t.prototype[_Symbol.properties]=function(){return{}},t.prototype.AbsoluteToLineCol=function(t){for(var e=0,n=t;e<=this.lengths.length&&n>this.lengths[e];)n=n-this.lengths[e]-1,e+=1;return[e+1,n+1]},t.prototype.LineColToAbsolute=function(t,e){for(var n=0,r=1;r<=t-1;r++)n=n+this.lengths[r-1]+1;return n+e-1},t}();declare(LocationMapper);var LiveEditorZone=function(){function t(e,n){_classCallCheck(this,t),this.Line=e,this.Preview=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Common.LiveEditorZone"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Line:"number",Preview:DomNode}},t}();declare(LiveEditorZone);var LivePreview=function(){function t(e,n,r){_classCallCheck(this,t),this.Update=e,this.Render=n,this.InitialState=r}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Common.LivePreview"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Update:"function",Render:"function",InitialState:[6,"TState"]}},t}();declare(LivePreview);var LiveState=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.Globals=e,this.Code=n,this.Program=r,this.Mapper=i,this.Location=o,this.Selection=s,this.State=a,this.CurrentPreview=u}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Common.LiveState"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Globals:[7,"System.Collections.Generic.IEnumerable"],Code:"string",Program:Program$$1,Mapper:LocationMapper,Location:"number",Selection:[3,LineColumnRange],State:[6,"T"],CurrentPreview:[3,makeGeneric(LivePreview,{TState:[7,"TheGamma.Live.Common.CustomLiveState"],TEvent:[7,"TheGamma.Live.Common.CustomLiveEvent"]})]}},t}();declare(LiveState);var LiveEvent=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Common.LiveEvent"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{CustomEvent:[[6,"T"]],InitializeGlobals:[[7,"System.Collections.Generic.IEnumerable"]],UpdateLocation:["number"],UpdateSource:["string","number",Program$$1,LocationMapper]}},t}();declare(LiveEvent);var EditorWorkerMessage=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.EditorWorkerMessage"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Refersh:["string"],Update:["string"],UpdateNow:["string"]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(EditorWorkerMessage);var EditorService=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.article=e,this.checker=n,this.renderEditors=new Event$2,this.agent=start$1(function(t){var e=function e(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(t.receive(),function(a){return"UpdateNow"===a.Case?s.Combine(s.TryWith(s.Delay(function(){return Log.trace("editors","updating..."),a.Fields[0]!==n?s.Bind(i.update(a.Fields[0]),function(){return s.Return()}):s.Zero()}),function(t){return Log.exn("editors","update failed: %O",t),s.Zero()}),s.Delay(function(){return s.ReturnFrom(e(a.Fields[0])(o))})):"Refersh"===a.Case?s.Combine(1===o?s.TryWith(s.Delay(function(){return Log.trace("editors","updating..."),a.Fields[0]!==n?s.Bind(i.update(a.Fields[0]),function(){return s.Return()}):s.Zero()}),function(t){return Log.exn("editors","update failed: %O",t),s.Zero()}):s.Zero(),s.Delay(function(){return s.ReturnFrom(e(a.Fields[0])(o-1))})):function(){return function(t){startImmediate(t)}(function(e){return e.Delay(function(){return e.Bind(sleep(r),function(){return t.post(new EditorWorkerMessage("Refersh",[a.Fields[0]])),e.Zero()})})}(singleton$2)),s.ReturnFrom(e(n)(o+1))}()})})}(singleton$2)}};return e("")(0)})}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.EditorService"},t.prototype[_Symbol.properties]=function(){return{EditorsUpdated:[7,"Microsoft.FSharp.Control.IEvent"]}},t.prototype.UpdateSource=function(t,e){equals$1(e,!0)?this.agent.post(new EditorWorkerMessage("UpdateNow",[t])):this.agent.post(new EditorWorkerMessage("Update",[t]))},t.prototype.update=function(t){var e=this;return function(n){return n.Delay(function(){return Log.event("options","update",e.article,t),n.Bind(e.checker(t),function(t){return Log.trace("service","Collecting editors"),n.Bind(Async.collect(function(t){return collectCmdEditors(t)},t[2].Body.Node),function(t){var r=mapIndexed$$1(function(t,e){return[t,e]},t),i=map$5(function(t){return t[1]},filter$2(function(t){return!exists$1(function(e){return e[0]!==t[0]&&strictSubRange(t[1].Range,e[1].Range)},r)},r));return Log.trace("service","Rendering %s out of %s",i.length,r.length),e.renderEditors.Trigger(i),n.Zero()})})})}(singleton$2)},_createClass$5(t,[{key:"EditorsUpdated",get:function(){return this.renderEditors.Publish}}]),t}();declare(EditorService);var CheckingMessage=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.CheckingMessage"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable"]},t.prototype[_Symbol.cases]=function(){return{IsWellTyped:["string",[1]],TypeCheck:["string",[1]]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t}();declare(CheckingMessage);var Position$1=function(){function t(e,n){_classCallCheck(this,t),this.Line=e,this.Column=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.Position"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Line:"number",Column:"number"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Position$1);var LineRange=function(){function t(e,n){_classCallCheck(this,t),this.Start=e,this.End=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.LineRange"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Start:Position$1,End:Position$1}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(LineRange);var CheckingService=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.globals=n,this.errorsReported=new Event$2;var i=new Program$$1(node(new _Range(0,0),new List$1));this.bindingContext=Async_StartAsFuture_Static(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(r.globals),function(n){return t.Return(createContext$1(n,e))})})}(singleton$2)),this.agent=start$1(function(t){var e=function e(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(t.receive(),function(t){return"TypeCheck"===t.Case?t.Fields[0]===n?function(){var r=(t.Fields[0],t.Fields[1]);return Log.trace("service","Returning previous result"),r.reply(o),s.ReturnFrom(e(n)(o))}():"TypeCheck"===t.Case?function(){return Log.trace("service","Type checking source code"),s.Bind(r.typeCheck(t.Fields[0]),function(a){return null==a?function(){return t.Fields[1].reply([!1,new BindingResult([]),i]),s.ReturnFrom(e(n)(o))}():function(){var n=a[0],i=a[2],o=a[1];r.errorsReported.Trigger([t.Fields[0],i]);var u=[0===i.length,o,n];return t.Fields[1].reply(u),s.ReturnFrom(e(t.Fields[0])(u))}()})}():function(){throw["C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\services.fs",120,12]}():function(){var i=t.Fields[0],a=t.Fields[1];return s.Bind(r.typeCheck(i),function(t){return s.Combine(function(){var e=function(){return a.reply(!1),s.Zero()};if(null!=t){if(function(){var e=t[2];return 0===e.length}()){t[2];return a.reply(!0),s.Zero()}return e()}return e()}(),s.Delay(function(){return s.ReturnFrom(e(n)(o))}))})}()})})}(singleton$2)}};return e("")([!1,new BindingResult([]),i])})}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.CheckingService"},t.prototype[_Symbol.properties]=function(){return{ErrorsReported:[7,"Microsoft.FSharp.Control.IEvent"]}},t.prototype.TypeCheck=function(t){return this.agent.postAndAsyncReply(function(e){return new CheckingMessage("TypeCheck",[t,e])})},t.prototype.IsWellTyped=function(t){return this.agent.postAndAsyncReply(function(e){return new CheckingMessage("IsWellTyped",[t,e])})},t.prototype.errorsToLineCol=function(t,e){var n=map$5(function(t){return t.length},toList(t.split("\n")));return e.map(function(t){return new Error$1(t.Number,t.Message,rangeToLoc(n,t.Range))})},t.prototype.typeCheck=function(t){var e=this;return function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(e.globals),function(r){return n.TryWith(n.Delay(function(){var i=parseProgram(t);return n.Bind(Async_AwaitFuture_Static(e.bindingContext),function(o){var s=bindProgram(o,i[0]);return n.Bind(typeCheckProgram(r,s[1],s[0]),function(){var r=collectTypeErrors(s[0]);Log.trace("service","Type checking completed");var o=function(){var n=i[1].concat(r);return e.errorsToLineCol(t,n)}();return n.Return([i[0],s[1],o])})})}),function(t){return Log.exn("service","Type checking failed: %O",t),n.Return()})})})}(singleton$2)},_createClass$5(t,[{key:"ErrorsReported",get:function(){return this.errorsReported.Publish}}]),t}();declare(CheckingService);var PreviewService=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this.checker=e,this.globals=n,this.ed=r,this.livePreviews=i,this.zoneSizeChanged=new Event$2,this.currentZone=null,this.zoneHeight=0,this.tree={},this.container=document.createElement("div"),this.lastCode="",this.lastMapper=new LocationMapper(""),this.changingEditor=!1;var s=function(t){return o.createLivePreview(t)}(this.ed);this.ed.onDidChangeCursorPosition(function(t){if(!o.changingEditor){var e=o.ed.getModel().getValue(1,!1);Log.trace("live","Cursor position changed: code <> lastCode = %s",e!==o.lastCode),function(t){startImmediate(t)}(function(t){return t.Delay(function(){return t.Bind(o.getUpdateEventAfterChange(),function(e){return s(e),t.Zero()})})}(singleton$2))}})}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Services.PreviewService"},t.prototype[_Symbol.properties]=function(){return{ZoneHeight:"number",ZoneSizeChanged:[7,"Microsoft.FSharp.Control.IEvent"]}},t.prototype.removeZone=function(){var t=this,e=this.currentZone;null==e||!function(){var n=e[0];t.ed.changeViewZones(function(t){t.removeZone(n)})}(),this.currentZone=null,this.zoneSizeChanged.Trigger()},t.prototype.createAndAddZone=function(t){var e=this,n=-1,r={},i=document.createElement("div");i.style.width="1000px",i.style.height="1000px",this.container=document.createElement("div"),this.tree={},i.appendChild(this.container),this.ed.changeViewZones(function(o){var s=e.currentZone;if(null!=s){var a=s[0];o.removeZone(a)}r.afterLineNumber=t,r.heightInPx=1,r.domNode=i,e.zoneHeight=1,n=o.addZone(r),e.currentZone=[n,r]})},t.prototype.updateZones=function(t,e){var n=this,r=function(){var n=e.CurrentPreview;return null!=n?function(n){return n.Render(t)(e)}(n):n}();null!=r?!function(){if(function(){return null==n.currentZone}()){var t=r.Line;n.createAndAddZone(t)}var e=n.currentZone,i=renderVirtual(r.Preview),o=diff(n.tree,i);n.container=patch(n.container,o),n.tree=i;var s=function t(e){return function(r){return r.Delay(function(){var i=n.container.clientHeight;return 10===e||0!==i?r.Return(i):r.Bind(sleep(e*e),function(){return r.ReturnFrom(t(e+1))})})}(singleton$2)};!function(t){startImmediate(t)}(function(t){return t.Delay(function(){return t.Bind(s(1),function(i){return Log.trace("live","Old height: %s, New height: %s",n.zoneHeight,i),n.zoneHeight!==i||e[1].afterLineNumber!==r.Line?(e[1].afterLineNumber=r.Line,e[1].heightInPx=i,n.zoneHeight=i,n.ed.changeViewZones(function(t){t.layoutZone(e[0])}),n.zoneSizeChanged.Trigger(),t.Zero()):t.Zero()})})}(singleton$2))}():this.removeZone()},t.prototype.getUpdateEventAfterChange=function(){var t=this;return function(e){return e.Delay(function(){var n=t.ed.getModel().getValue(1,!1),r=t.ed.getPosition();if(n===t.lastCode){var i=t.lastMapper.LineColToAbsolute((r.lineNumber+2147483648>>>0)-2147483648,(r.column+2147483648>>>0)-2147483648);return e.Return(new LiveEvent("UpdateLocation",[i]))}var o=function(){t.lastCode=n,t.lastMapper=new LocationMapper(n);var i=t.lastMapper.LineColToAbsolute((r.lineNumber+2147483648>>>0)-2147483648,(r.column+2147483648>>>0)-2147483648);return{v:e.Bind(t.checker.TypeCheck(n),function(r){return e.Return(new LiveEvent("UpdateSource",[n,i,r[2],t.lastMapper]))})}}();if("object"===("undefined"==typeof o?"undefined":_typeof$1(o)))return o.v})}(singleton$2)},t.prototype.createLivePreview=function(t){var e=this,n=new Event$2,r=function(){var t;return t={},t[_Symbol.interfaces]="TheGamma.Live.Common.CustomLiveState",t}(),i=function(){var t=new LocationMapper(""),e=0,n=new Program$$1(node(new _Range(0,0),new List$1));return new LiveState(new List$1,"",n,t,e,null,r)}(),o=function(t){var o=updateLiveState(i,t),s=null==o.CurrentPreview?null:o.CurrentPreview.Update(function(t){n.Trigger(t)})(o)(t),a=[s,t],u=function(){Log.trace("live","Searching for available previews");var i=tryPick$$1(function(e){var r=function(){var t=e;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,e.InitialState,t)}();return e.Update(function(t){n.Trigger(t)})(r)(t)},e.livePreviews);if(null!=i)return i;var s=null;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,r,s)};if(null!=a[0]){var l=a[0];return l}if("UpdateSource"===a[1].Case)return u();if("UpdateLocation"===a[1].Case)return u();var p=null;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,r,p)};return add$6(function(r){try{Log.trace("live","Updating state %O with event %O",i,r);var s=i;i=o(r),"UpdateSource"!==r.Case&&s.Code!==i.Code&&(e.changingEditor=!0,t.getModel().setValue(i.Code));var a=i.Selection;if(null!=a){e.changingEditor=!0;var u={};u.startColumn=a.StartColumn,u.startLineNumber=a.StartLineNumber,u.endColumn=a.EndColumn,u.endLineNumber=a.EndLineNumber,t.setSelection(u);var l=null;i=new LiveState(i.Globals,i.Code,i.Program,i.Mapper,i.Location,l,i.State,i.CurrentPreview)}if(e.changingEditor===!0)e.changingEditor=!1,function(t){startImmediate(t)}(function(t){return t.Delay(function(){return Log.trace("live","Editor changed. Getting after change event..."),t.Bind(e.getUpdateEventAfterChange(),function(r){Log.trace("live","Editor changed. Updating state %O with event %O",i,r),i=o(r),Log.trace("live","Editor changed. New state %O",i);var s=function(t){n.Trigger(t)};return e.updateZones(s,i),t.Zero()})})}(singleton$2));else{var p=function(t){n.Trigger(t)};e.updateZones(p,i)}}catch(t){Log.exn("live","Error when updating state %O with event %O: %O",i,r,t)}},n.Publish),function(t){startImmediate(t)}(function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(e.globals),function(e){return n.Trigger(new LiveEvent("InitializeGlobals",[e])),t.Zero()})})}(singleton$2)),function(t){n.Trigger(t)}},_createClass$5(t,[{key:"ZoneSizeChanged",get:function(){return this.zoneSizeChanged.Publish}},{key:"ZoneHeight",get:function(){return equals$1(this.currentZone)?0:this.zoneHeight}}]),t}();declare(PreviewService);var CompilationContext=function(){function t(e,n){_classCallCheck(this,t),this.LineLengths=e,this.Globals=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.CodeGenerator.CompilationContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{LineLengths:makeGeneric(List$1,{T:"number"}),Globals:makeGeneric(FMap,{Key:"string",Value:Expression})}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(CompilationContext);var BabelOptions$1=function(){function t(e){_classCallCheck(this,t),this.presets=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.CodeGenerator.BabelOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{presets:[4,"string"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(BabelOptions$1);var BabelResult$1=function(){function t(e){_classCallCheck(this,t),this.code=e}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.CodeGenerator.BabelResult"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{code:"string"}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(BabelResult$1);var Aggregation=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.Pivot.Aggregation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{ConcatValues:["string"],CountAll:[],CountDistinct:["string"],GroupKey:[],Mean:["string"],ReturnUnique:["string"],Sum:["string"]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Aggregation);var SortDirection=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.Pivot.SortDirection"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Ascending:[],Descending:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(SortDirection);var Paging=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.Pivot.Paging"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{Skip:["string"],Take:["string"]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Paging);var Transformation=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.Pivot.Transformation"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{DropColumns:[makeGeneric(List$1,{T:"string"})],Empty:[],FilterBy:[makeGeneric(List$1,{T:[5,["string","boolean","string"]]})],GetSeries:["string","string"],GetTheData:[],GroupBy:[makeGeneric(List$1,{T:"string"}),makeGeneric(List$1,{T:Aggregation})],Paging:[makeGeneric(List$1,{T:Paging})],SortBy:[makeGeneric(List$1,{T:[5,["string",SortDirection]]})]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(Transformation);var Field=function(){function t(e,n){_classCallCheck(this,t),this.Name=e,this.Type=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.Pivot.Field"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.properties]=function(){return{Name:"string",Type:PrimitiveType}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t.prototype.CompareTo=function(t){return compareRecords(this,t)},t}();declare(Field);var Transform=function(t){var e=function(t){return ofArray$$1("CountAll"===t.Case?["count-all"]:"CountDistinct"===t.Case?["count-dist",t.Fields[0]]:"ReturnUnique"===t.Case?["unique",t.Fields[0]]:"ConcatValues"===t.Case?["concat-vals",t.Fields[0]]:"Sum"===t.Case?["sum",t.Fields[0]]:"Mean"===t.Case?["mean",t.Fields[0]]:["key"])},n=(t.toUrl=function(t){return join("/",concat$$1(mapIndexed$$1(function(t,e){return 0===t||null==e.tail?e:new List$1("then",e)},toList(delay(function(){return map$6(function(t){return"FilterBy"===t.Case?new List$1("filter",collect$$1(function(t){return ofArray$$1([t[0],t[1]?"eq":"neq",t[2]])},t.Fields[0])):"DropColumns"===t.Case?new List$1("drop",t.Fields[0]):"SortBy"===t.Case?new List$1("sort",collect$$1(function(t){return ofArray$$1([t[0],t[1].Equals(new SortDirection("Ascending",[]))?"asc":"desc"])},t.Fields[0])):"GroupBy"===t.Case?new List$1("group",append$1(map$5(function(t){return"by-"+t},t.Fields[0]),collect$$1(function(t){return e(t)},t.Fields[1]))):"Paging"===t.Case?new List$1("page",collect$$1(function(t){return ofArray$$1("Skip"===t.Case?["skip",t.Fields[0]]:["take",t.Fields[0]])},t.Fields[0])):"GetSeries"===t.Case?ofArray$$1(["series",t.Fields[0],t.Fields[1]]):("Empty"===t.Case,new List$1)},reverse$1(t))})))))},t.singleTransformFields=function(t,e){return"GetTheData"===e.Case?t:"SortBy"===e.Case?t:"Paging"===e.Case?t:"FilterBy"===e.Case?t:"GetSeries"===e.Case?ofArray$$1([find$$1(function(t){return t.Name===e.Fields[0]},t),find$$1(function(t){return t.Name===e.Fields[1]},t)]):"DropColumns"===e.Case?function(){var n=create$3(e.Fields[0],new GenericComparer(function(t,e){return t<e?-1:t>e?1:0}));return filter$2(function(t){return!n.has(t.Name)},t)}():"GroupBy"===e.Case?function(){var n=new _Map(toList(delay(function(){return map$6(function(t){return[t.Name,t]},t)})));return collect$$1(function(t){var r=function(t){return ofArray$$1([n.get(t)])};return"ReturnUnique"===t.Case?r(t.Fields[0]):"ConcatValues"===t.Case?r(t.Fields[0]):"Sum"===t.Case?r(t.Fields[0]):"Mean"===t.Case?ofArray$$1([n.get(t.Fields[0])]):"CountAll"===t.Case?ofArray$$1([new Field("count",new PrimitiveType("Number",[]))]):"CountDistinct"===t.Case?ofArray$$1([new Field(n.get(t.Fields[0]).Name,new PrimitiveType("Number",[]))]):map$5(function(t){return n.get(t)},e.Fields[0])},e.Fields[1])}():t});t.transformFields=function(t,e){return toList(function(){var e=toList(t);return function(t){return fold$1(function(t,e){return n(t,e)},e,t)}}()(e))};return t}({}),propertyEmitter=new Emitter(function(t){return t[0]}),Context$2=function(){function t(e,n,r,i){_classCallCheck(this,t),this.Root=e,this.LookupNamed=n,this.InputFields=r,this.Fields=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.TypeProviders.Pivot.Context"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Root:"string",LookupNamed:"function",InputFields:makeGeneric(List$1,{T:Field}),Fields:makeGeneric(List$1,{T:Field})}},t}();declare(Context$2);var PivotSection=function(){function t(e,n){_classCallCheck(this,t),this.Transformation=e,this.Nodes=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Pivot.PivotSection"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Transformation:Transformation,Nodes:makeGeneric(List$1,{T:makeGeneric(_Node,{T:Expr})})}},t}();declare(PivotSection);var PivotEditorMenus=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Pivot.PivotEditorMenus"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion","System.IEquatable","System.IComparable"]},t.prototype[_Symbol.cases]=function(){return{AddDropdownOpen:[],ContextualDropdownOpen:[],Hidden:[]}},t.prototype.Equals=function(t){return equalsUnions(this,t)},t.prototype.CompareTo=function(t){return compareUnions(this,t)},t}();declare(PivotEditorMenus);var PivotEditorAction=function(){function t(e,n){_classCallCheck(this,t),this.Case=e,this.Fields=n}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Pivot.PivotEditorAction"},t.prototype[_Symbol.interfaces]=function(){return["FSharpUnion"]},t.prototype[_Symbol.cases]=function(){return{AddElement:[[7,"TheGamma.Common.Symbol"],"string",[3,makeGeneric(List$1,{T:Expr})]],AddTransform:[Transformation],RemoveElement:[[7,"TheGamma.Common.Symbol"]],RemoveSection:[[7,"TheGamma.Common.Symbol"]],ReplaceElement:[[7,"TheGamma.Common.Symbol"],"string",[3,makeGeneric(List$1,{T:Expr})]],ReplaceRange:[_Range,"string"],SelectChainElement:["number"],SelectRange:[_Range],SwitchMenu:[PivotEditorMenus],UpdatePreview:[DomNode]}},t}();declare(PivotEditorAction);var PivotEditorState=function(){function t(e,n,r,i,o,s,a){_classCallCheck(this,t),this.Body=e,this.FirstNode=n,this.Preview=r,this.Sections=i,this.SelectedEntity=o,this.Menus=s,this.Focus=a}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Pivot.PivotEditorState"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{Body:makeGeneric(_Node,{T:Expr}),FirstNode:makeGeneric(_Node,{T:Expr}),Preview:DomNode,Sections:makeGeneric(List$1,{T:PivotSection}),SelectedEntity:Entity,Menus:PivotEditorMenus,Focus:[3,[5,["string",[3,"number"]]]]}},t}();declare(PivotEditorState);var marker="InsertPropertyHere",preview$1=new LivePreview(function(t){return function(e){return function(n){return updatePivotState(t,e,n)}}},function(t){return function(e){return renderPivot(t,e)}},function(){var t=node(new _Range(0,0),new Expr("Empty",[])),e=node(new _Range(0,0),new Expr("Empty",[])),n=null;return new PivotEditorState(t,e,text("not created"),new List$1,n,new PivotEditorMenus("Hidden",[]))}()),ShowableEditorState=function(){function t(e,n,r,i){_classCallCheck(this,t),this.EndLocation=e,this.Preview=n,this.PreviewSymbol=r,this.PreviewID=i}return t.prototype[_Symbol.typeName]=function(){return"TheGamma.Live.Showable.ShowableEditorState"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{EndLocation:"number",Preview:DomNode,PreviewSymbol:[7,"TheGamma.Common.Symbol"],PreviewID:"number"}},t}();declare(ShowableEditorState);var preview$2=new LivePreview(function(t){return function(e){return function(n){return updateShowableState(t,e,n)}}},function(t){return function(e){return renderShowable(t,e)}},function(){var t=0,e=_Symbol2();return new ShowableEditorState(0,text("not created"),e,t)}()),defineEnumerableProperties=createCommonjsModule(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=defineProperty$1,i=n(r);e.default=function(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,n,r)}return t}}),_defineEnumerableProperties=unwrapExports(defineEnumerableProperties),_noState,_tokensProvider,i$2=1;eval("monaco$"+i$2+" = monaco"),monaco=monaco;var noState=(_noState={},_noState[_Symbol.interfaces]="Fable.Import.monaco.languages.IState",_noState.clone=function(){return this},_noState.equals=function(t){return!0},_noState),tokensProvider=(_tokensProvider={},_tokensProvider[_Symbol.interfaces]="Fable.Import.monaco.languages.TokensProvider",_tokensProvider.tokenize=function(t,e){var n={};n.endState=noState,n.tokens=[];for(var r=tokenize$1(t),i=0;i<=r[0].length-1;i++){var o=r[0][i],s={};s.startIndex=o.Range.Start,s.scopes=getColorClass(o.Token),n.tokens.push(s)}return n},_tokensProvider.getInitialState=function(){return noState},_tokensProvider),createdEditors=new _Map,TheGammaProviders=function(){function t(e){_classCallCheck(this,t),this.globals=e}return t.prototype[_Symbol.typeName]=function(){return"Main.TheGammaProviders"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{globals:[7,"TheGamma.Common.Future"]}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(TheGammaProviders);var TheGammaContext=function(){function t(e,n){_classCallCheck(this,t),this.checkingService=e,this.providers=n}return t.prototype[_Symbol.typeName]=function(){return"Main.TheGammaContext"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord","System.IEquatable"]},t.prototype[_Symbol.properties]=function(){return{checkingService:CheckingService,providers:TheGammaProviders}},t.prototype.Equals=function(t){return equalsRecords(this,t)},t}();declare(TheGammaContext);var previews=ofArray$$1([preview$1,preview$2]),editorOptions=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.width=e,this.height=n,this.maxHeight=r,this.autoHeight=i,this.monacoOptions=o}return t.prototype[_Symbol.typeName]=function(){return"Main.editorOptions"},t.prototype[_Symbol.interfaces]=function(){return["FSharpRecord"]},t.prototype[_Symbol.properties]=function(){return{width:[3,"number"],height:[3,"number"],maxHeight:[3,"number"],autoHeight:[3,"boolean"],monacoOptions:[3,"function"]}},t}();declare(editorOptions);var defaultEditorOptions=new editorOptions,gamma=function(){function t(e){_classCallCheck(this,t),this.ctx=e}return t.prototype[_Symbol.typeName]=function(){return"Main.gamma"},t.prototype[_Symbol.properties]=function(){return{}},t.createContext=function(e){var n=new CheckingService("",e.globals);return new t(new TheGammaContext(n,e))},t.prototype.evaluate=function(t,e){var n=this;!function(t){startImmediate(t)}(function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){return r.Bind(_evaluate(n.ctx,t,e),function(){
return r.Return()})}),function(e){return Log.exn("api","Evaluating code '%O' failed with error '%O'.",t,e),r.Zero()})})}(singleton$2))},t.prototype.createEditor=function(t,e,n){var r=20,i=null!=n?n:defaultEditorOptions,o=document.getElementById(t),s=null!=i.width?i.width:o.clientWidth,a=null!=i.height?i.height:o.clientHeight,u=null!=i.maxHeight?i.maxHeight:2147483647,l=createMonacoEditor(t,e,this.ctx.checkingService,function(t){t.fontSize=15,t.lineHeight=20,(null!=i.monacoOptions?i.monacoOptions:function(t){})(t);var e=t.lineHeight;null!=e&&(r=e)}),p={};p.width=s,p.height=a,l.layout(p);var c=new PreviewService(this.ctx.checkingService,this.ctx.providers.globals,l,previews),h=-1,f=function(){var t=l.getModel().getValue(1,!1),e=1+t.split("\n").length,n=compare(u,200>20*e+c.ZoneHeight?200:20*e+c.ZoneHeight)<0?u:200>20*e+c.ZoneHeight?200:20*e+c.ZoneHeight;if(!equals$1(n,h)){h=n;var r={};r.width=s,r.height=n,l.layout(r),o.style.height=String(r.height)+"px",o.style.width=String(r.width)+"px"}};equals$1(i.autoHeight,!0)&&(l.getModel().onDidChangeContent(function(t){f()}),add$6(function(){f()},c.ZoneSizeChanged),f())},t}();declare(gamma);var providers=function(){function t(){_classCallCheck(this,t)}return t.prototype[_Symbol.typeName]=function(){return"Main.providers"},t.prototype[_Symbol.properties]=function(){return{}},t.createProviders=function(t){var e=buildGlobalsTable(function(e){return function(n){return n.Delay(function(){var r=function(t){return _Object$keys(t).map(function(e){return{key:e,value:t[e]}})}(t).map(function(t){return t.value(t.key)(e)});return n.Bind(parallel(r),function(t){return n.Return(concat$1(t))})})}(singleton$2)});return new TheGammaProviders(e)},t.rest=function(t,e){return function(n){return function(r){return function(i){return i.Delay(function(){return i.Return(ofArray$$1([RestProvider.provideRestType(r,n,t,null!=e?e:"")]))})}(singleton$2)}}},t.library=function(t){return function(e){return function(e){return FSharpProvider.provideFSharpTypes(e,t)}}},t.pivot=function(t,e){var n=function(t){return _Object$keys(t).map(function(e){return{key:e,value:t[e]}})}(e).map(function(t){var e=function(){var e=t.value,n=null;switch(e){case"string":n=new PrimitiveType("String",[]);break;case"bool":n=new PrimitiveType("Bool",[]);break;case"number":n=new PrimitiveType("Number",[]);break;default:throw fsFormat("The property '%s' has invalid type '%s'. Only 'string', 'number' and 'bool' are supported.")(function(t){return t})(t.key)(e)}return n}();return[t.key,e]});return function(e){return function(r){return function(i){return i.Delay(function(){return i.Return(ofArray$$1([providePivotType(t,e,r,n)]))})}(singleton$2)}}},t}();declare(providers),exports.evaluate=_evaluate,exports.buildGlobalsTable=buildGlobalsTable,exports.TheGammaProviders=TheGammaProviders,exports.TheGammaContext=TheGammaContext,exports.callShowMethod=callShowMethod,exports.previews=previews,exports.editorOptions=editorOptions,exports.defaultEditorOptions=defaultEditorOptions,exports.gamma=gamma,exports.providers=providers,Object.defineProperty(exports,"__esModule",{value:!0})});

//# sourceMappingURL=thegamma.min.js.map